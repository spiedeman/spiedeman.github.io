<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>é™‹å®¤</title>
  
  <subtitle>Colin McGuire&#39;Blog</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://spiedeman.github.io/"/>
  <updated>2021-09-18T02:10:59.612Z</updated>
  <id>http://spiedeman.github.io/</id>
  
  <author>
    <name>Colin McGuire</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hello World</title>
    <link href="http://spiedeman.github.io/posts/1243066710/"/>
    <id>http://spiedeman.github.io/posts/1243066710/</id>
    <published>2021-09-18T02:10:59.612Z</published>
    <updated>2021-09-18T02:10:59.612Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="quick-start">Quick Start</h2><h3 id="create-a-new-post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="run-server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="generate-static-files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="deploy-to-remote-sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>åœ¨Ubuntuä¸­ä½¿ç”¨Citrix Workspace AppåŠå…¬</title>
    <link href="http://spiedeman.github.io/posts/c80075c3/"/>
    <id>http://spiedeman.github.io/posts/c80075c3/</id>
    <published>2020-10-24T03:04:17.000Z</published>
    <updated>2021-09-18T02:10:59.602Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è¿œç¨‹åŠå…¬">è¿œç¨‹åŠå…¬</h1><p>åœ¨å®¶é‡ŒåŠå…¬éœ€è¦ä¸‹è½½<code>Citrix Reciver</code>è¿œç¨‹è¿æ¥å…¬å¸æœåŠ¡å™¨ã€‚Googleä¹‹åå‘ç°åœ¨Linuxå¹³å°ä¸Šï¼Œ <code>Citrix Workspace APP</code>å·²ç»å–ä»£å‰è€…å¹¶æä¾›å…¼å®¹æ€§æ”¯æŒï¼Œå› æ­¤å°†é€‰æ‹©å®ƒè¿›è¡Œå®‰è£…ã€‚</p><h1 id="å®‰è£…ä½¿ç”¨">å®‰è£…ä½¿ç”¨</h1><h2 id="ä¸‹è½½å®‰è£…åŒ…">ä¸‹è½½å®‰è£…åŒ…</h2><p>åœ¨æœ€æ–°ç‰ˆæœ¬æ‰€åœ¨ <a href="https://www.citrix.com/downloads/workspace-app/linux/workspace-app-for-linux-latest.html" target="_blank" rel="noopener">é¡µé¢</a> æ ¹æ®Linuxå‘è¡Œç‰ˆæ‰¾åˆ°ç›¸åº”çš„å®‰è£…åŒ…å¹¶ä¸‹è½½ã€‚</p><h2 id="é‡åˆ°çš„é—®é¢˜">é‡åˆ°çš„é—®é¢˜</h2><p>å®‰è£…å®Œæˆåï¼Œå¯åŠ¨ç¨‹åºå¹¶å¡«å…¥æœåŠ¡å™¨åœ°å€è¿›è¡Œè¿æ¥ï¼Œå‘ç°ç¼ºå°‘SSLè¯ä¹¦å¯¼è‡´è¿æ¥å¤±è´¥ã€‚ ç½‘ä¸Šæœç´¢ä¹‹åæ‰¾åˆ°è§£å†³åŠæ³•ï¼Œå¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†è¯ä¹¦è½¯é“¾æ¥è‡³ç›¸åº”ç›®å½•</span></span><br><span class="line">sudo ln -s /usr/share/ca-certificates/mozilla/GlobalSign_Root_CA.crt /opt/Citrix/ICAClient/keystore/cacerts/</span><br><span class="line"><span class="comment"># æ›´æ–°è¯ä¹¦è®°å½•</span></span><br><span class="line">sudo c_rehash /opt/Citrix/ICAClient/keystore/cacerts</span><br></pre></td></tr></table></figure><p>ç”±äºæœ¬äººæ‰€ç”¨ç¬”è®°æœ¬å±å¹•åˆ†è¾¨ç‡è¾ƒé«˜<code>2560x1600</code>ï¼Œæ‰“å¼€è¿œç¨‹æ¡Œé¢åï¼Œå­—ä½“å¾ˆå°ï¼Œçœ¼ç›ç´¯ã€‚å…¬å¸ç”¨çš„æœåŠ¡å™¨ç³»ç»Ÿæ˜¯<code>window server 2008</code>ï¼Œ è°ƒæ•´å­—ä½“å¤§å°ä¸º<code>150%</code>ä¹‹åï¼ŒåŸºæœ¬è§£å†³é—®é¢˜ã€‚ä¸è¿‡è¿™åªæ˜¯æ²»æ ‡ï¼Œæ²»æœ¬å¾—ç­‰Linuxå®¢æˆ·ç«¯ç¨‹åºæä¾›åŠŸèƒ½æ”¹è¿›äº†ã€‚</p><blockquote><p>ä½¿ç”¨ä½“éªŒæš‚æ—¶OKï¼Œä»ç„¶ä¸ç”¨åˆ‡æ¢åˆ°WindowsåŠå…¬ï¼Œå°±è¿™æ ·ï¼</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;è¿œç¨‹åŠå…¬&quot;&gt;è¿œç¨‹åŠå…¬&lt;/h1&gt;&lt;p&gt;åœ¨å®¶é‡ŒåŠå…¬éœ€è¦ä¸‹è½½&lt;code&gt;Citrix Reciver&lt;/code&gt;è¿œç¨‹è¿æ¥å…¬å¸æœåŠ¡å™¨ã€‚Googleä¹‹åå‘ç°åœ¨Linuxå¹³å°ä¸Šï¼Œ &lt;code&gt;Citrix Workspace APP&lt;/code&gt;å·²ç»å–ä»£å‰è€…å¹¶æä¾›å…¼å®¹æ€§æ”¯æŒ
      
    
    </summary>
    
      <category term="å·¥ä½œ" scheme="http://spiedeman.github.io/categories/%E5%B7%A5%E4%BD%9C/"/>
    
    
      <category term="è¿œç¨‹åŠå…¬" scheme="http://spiedeman.github.io/tags/%E8%BF%9C%E7%A8%8B%E5%8A%9E%E5%85%AC/"/>
    
  </entry>
  
  <entry>
    <title>Mukhanov-Sasaki æ–¹ç¨‹</title>
    <link href="http://spiedeman.github.io/posts/579653d0/"/>
    <id>http://spiedeman.github.io/posts/579653d0/</id>
    <published>2020-06-18T11:28:55.000Z</published>
    <updated>2021-09-18T02:10:59.612Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ ‡é‡æ‰°åŠ¨">æ ‡é‡æ‰°åŠ¨</h2><p>è®°å½•ä¸€ä¸‹å®‡å®™å­¦ä¸­<strong>è§„èŒƒæ‰°åŠ¨ç†è®º</strong>ä¸­çš„<strong>Mukhanov-Sasaki(MS)</strong>æ–¹ç¨‹ã€‚</p><p><span class="math display">\[ \begin{equation} \label{eq:ms-equation} u^{\pprime}-c_s^2\Delta u - \frac{\theta^{\pprime}}{\theta}u = 0. \end{equation} \]</span></p><p>ä»¥æ ‡é‡æ‰°åŠ¨ä»¥åŠå®Œç¾æµä½“ä¸ºä¾‹ï¼ŒéªŒè¯<strong>MSæ–¹ç¨‹</strong><span class="math inline">\(\eqref{eq:ms-equation}\)</span>ã€‚</p><p>ä¸ºäº†å™è¿°æ–¹ä¾¿ï¼Œä»¥ä¸‹å°†<strong>è§„èŒƒæ‰°åŠ¨</strong>ç®€ç§°ä¸º<strong>æ‰°åŠ¨</strong>ï¼Œåœ¨ç‰©ç†é‡ä¸Šæ·»åŠ æ¨ªçº¿ä»£è¡¨ç›¸å¯¹åº”çš„è§„èŒƒä¸å˜é‡ï¼Œè‹¥ä¸è‡³äºäº§ç”Ÿè¯¯è§£ï¼Œåˆ™çœç•¥æ¨ªçº¿ã€‚</p><p>å®Œç¾æµä½“çš„èƒ½åŠ¨å¼ é‡ä¸º <span class="math display">\[ \begin{equation} \label{eq:perfect-fluid-energy-mommentum-tensor} T^{\alpha}_{\ \beta} = (\varepsilon + p) u^{\alpha}u_{\beta}-p\delta^{\alpha}_{\ \beta}. \end{equation} \]</span> ç›¸åº”çš„ä¸€é˜¶æ‰°åŠ¨ä¸º <span class="math display">\[ \begin{equation} \label{eq:guage-invariant-perturbation-for-perfect-fluid} \overline{\delta T}^{0}_0 = \overline{\delta\varepsilon},\quad \overline{\delta T}^{0}_i = \frac{1}{a}(\varepsilon_0+p_0)(\overline{\delta u}_{\parallel i}+\overline{\delta u}_{\bot i}), \quad \overline{\delta T}^i_j = -\overline{\delta p}\delta^i_j. \end{equation} \]</span> å…¶ä¸­<span class="math inline">\(\overline{\delta\varepsilon},\overline{\delta u}_{\parallel i},\overline{\delta p}\)</span>å¯¹åº”æ ‡é‡æ‰°åŠ¨ï¼Œè€Œ<span class="math inline">\(\overline{\delta u}_{\bot i}\)</span>æœ‰æ—‹æ— æºï¼Œè´¡çŒ®ä¸ºçŸ¢é‡æ‰°åŠ¨ã€‚</p><p>å› ä¸º<span class="math inline">\(\delta T^i_{\ j}=0\)</span>ï¼Œå½“<span class="math inline">\(i\ne j\)</span>ã€‚å› è€Œ<span class="math inline">\((ij)\)</span>åˆ†é‡å¯¹åº”çš„æ ‡é‡æ‰°åŠ¨æ–¹ç¨‹çº¦åŒ–ä¸º <span class="math display">\[ \begin{equation} (\Phi-\Psi)_{,ij} = 0 \qquad (i\ne j). \end{equation} \]</span> å› è€Œæœ‰<span class="math inline">\(\Phi = \Psi\)</span>ã€‚æ•…è€Œæ ‡é‡æ‰°åŠ¨æ»¡è¶³çš„è§„èŒƒæ–¹ç¨‹ç»„çš„å½¢å¼å…·ä½“å¦‚ä¸‹ <span class="math display">\[ \begin{align} \Delta \Phi - 3\mathcal{H}(\Phi^{\prime}+\mathcal{H}\Phi) =4\pi Ga^2\overline{\delta\varepsilon}, \label{eq:scalar-guage-invariant-perturbation-equations-00} \\ (a\Phi)_{,}^{\prime}=4\pi Ga^2(\varepsilon_0+p_0)\overline{\delta u}_{\parallel i}, \label{eq:scalar-guage-invariant-perturbation-equations-0i} \\ \Phi^{\pprime}+3\mathcal{H}\Phi^{\prime}+(2\mathcal{H^\prime+H^2}\Phi) = 4\pi Ga^2\overline{\delta p}. \label{eq:scalar-guage-invariant-perturbation-equations-ij} \end{align} \]</span> æ ¹æ®çƒ­åŠ›å­¦å¯çŸ¥å‹å¼ºä¸ºå†…èƒ½å’Œç†µçš„å‡½æ•°ï¼Œ<span class="math inline">\(p=p(\varepsilon, S)\)</span>ã€‚å‹å¼ºçš„æ¶¨è½<span class="math inline">\(\overline{\delta p}\)</span>å¯ä»¥è¡¨ç¤ºä¸º <span class="math display">\[ \begin{equation} \label{eq:sound-speed} \overline{\delta p}=c_s^2\overline{\delta\varepsilon}+\tau\delta S. \end{equation} \]</span> è¿™é‡Œåªè€ƒè™‘ç»çƒ­æ‰°åŠ¨ï¼ˆ<span class="math inline">\(\delta S=0\)</span>ï¼‰ï¼Œæ•…<span class="math inline">\(\overline{\delta p}=c_s^2\overline{\delta\varepsilon}\)</span>ã€‚ è”åˆæ–¹ç¨‹<span class="math inline">\(\eqref{eq:scalar-guage-invariant-perturbation-equations-00}\)</span>å’Œ<span class="math inline">\(\eqref{eq:scalar-guage-invariant-perturbation-equations-ij}\)</span> å¾—åˆ°å¼•åŠ›åŠ¿<span class="math inline">\(\Phi\)</span>æ»¡è¶³çš„åŠ¨åŠ›å­¦æ–¹ç¨‹ <span class="math display">\[ \begin{equation} \label{eq:bardeen-equation} \Phi^{\pprime}+3(1+c_s^2)\mathcal{H}\Phi^{\prime}-c_s^2\Delta\Phi+\lrp{2\mathcal{H^\prime}+(1+3 c_s^2)\mathcal{H^2}}\Phi = 0 \end{equation} \]</span> æ–¹ç¨‹<span class="math inline">\(\eqref{eq:bardeen-equation}\)</span>ç§°ä¸º<strong>bardeen</strong>æ–¹ç¨‹ï¼Œè¿™ä¸ªæ–¹ç¨‹å¹¶ä¸æ€»æ˜¯å­˜åœ¨è§£æè§£ã€‚ ä¸è¿‡æœ‰å¯èƒ½å¾—åˆ°é•¿æ³¢æé™å’ŒçŸ­æ³¢æé™ä¸‹çš„æ¸è¿›è§£ã€‚è¿™å¯ä»¥é€šè¿‡å¼•å…¥æ–°å˜é‡ï¼Œæ”¹å†™æ–¹ç¨‹å½¢å¼æ¶ˆç­å…¶ä¸­çš„æ‘©æ“¦é¡¹åšåˆ°ã€‚</p><p><span class="math display">\[ \begin{equation} \begin{aligned} u&amp;\equiv \exp\lrp{\frac{3}{2}\int (1+c_s^2)\mathcal{H}d\eta}\Phi \\ &amp;=\exp\lrp{-\frac{1}{2}\int \lrp{1+\frac{p_0^{\prime}}{\varepsilon_0^{\prime}}} \frac{\varepsilon_0^{\prime}}{\varepsilon_0+p_0}d\eta}\Phi \\ &amp;=\frac{\Phi}{(\varepsilon_0+p_0)^{1/2}}. \end{aligned} \end{equation} \]</span> å…¶ä¸­ç”¨åˆ°äº†<span class="math inline">\(c_s^2=p_0^{\prime}/\varepsilon_0^{\prime}\)</span>ï¼Œè¿ç»­æ€§æ–¹ç¨‹ <span class="math inline">\(\varepsilon_0^{\prime}=-3\mathcal{H}(\varepsilon_0+p_0)\)</span> ã€‚ä»¥åŠ <span class="math display">\[ \begin{equation} \theta\equiv \frac{1}{a}\lrp{1+\frac{p_0}{\varepsilon_0}}^{-1/2} =\frac{1}{a}\lrp{\frac{2}{3}\lrp{1-\frac{\mathcal{H^{\prime}}}{\mathcal{H^2}}}}^{-1/2}. \end{equation} \]</span> å…¶ä¸­ç”¨åˆ°äº†èƒŒæ™¯æ–¹ç¨‹ <span class="math display">\[ \begin{equation} \label{eq:background-equation} \mathcal{H^2}=\frac{8\pi G}{3}a^2\varepsilon_0,\quad \mathcal{H^2-H^\prime}=4\pi Ga^2(\varepsilon_0+p_0). \end{equation} \]</span> ç»è¿‡å¤æ‚çš„è®¡ç®—ï¼Œ<strong>bardeenæ–¹ç¨‹</strong><span class="math inline">\(\eqref{eq:bardeen-equation}\)</span>å¯ä»¥é‡å†™ä¸ºä¸å«æ‘©æ“¦é¡¹çš„<strong>MSæ–¹ç¨‹</strong> <span class="math display">\[ \begin{equation} u^{\pprime}-c_s^2\Delta u-\frac{\theta^{\pprime}}{\theta} u = 0. \end{equation} \]</span></p><p>æ¥ä¸‹æ¥ï¼Œåªè¿›è¡ŒéªŒè¯<strong>MSæ–¹ç¨‹</strong>å’Œ<strong>bardeenæ–¹ç¨‹</strong><span class="math inline">\(\eqref{eq:bardeen-equation}\)</span>ç­‰ä»·ã€‚</p><p>é¦–å…ˆæ³¨æ„åˆ° <span class="math display">\[ \begin{equation} \begin{aligned} u^{\pprime}-\frac{\theta^{\pprime}}{\theta}u &amp;= \lrp{\frac{u}{\theta}}^{\pprime}\theta+2\lrp{\frac{u}{\theta}}^{\prime}\theta^{\prime} \\ &amp;=\lrp{\lrp{\frac{u}{\theta}}^{\prime}\theta}^{\prime} + \lrp{\frac{u}{\theta}}^{\prime}\theta^{\prime} \\ &amp;= v^{\prime} + v\frac{\theta^{\prime}}{\theta}. \quad \text{ä»¤}(v=\lrp{\frac{u}{\theta}}^{\prime}\theta). \end{aligned} \end{equation} \]</span> æ•…<strong>MSæ–¹ç¨‹</strong>ç­‰ä»·äº <span class="math display">\[ \begin{equation} c_s^2\Delta u=v^{\prime}+v\frac{\theta^{\prime}}{\theta}. \end{equation} \]</span> <span class="math inline">\(v\)</span>å’Œ<span class="math inline">\(v^{\prime}\)</span>çš„è¡¨è¾¾å¼åˆ†åˆ«ä¸º <span class="math display">\[ \begin{equation} \begin{aligned} &amp;\begin{aligned} v\equiv \lrp{\frac{u}{\theta}}^{\prime}\theta &amp;= \frac{1}{\lrp{\varepsilon_0+p_0}^{1/2}}\lrp{\Phi^{\prime}+\Phi\lrp{\mathcal{H}-\frac{1}{2}\frac{\varepsilon_0^{\prime}}{\varepsilon_0}}} \\ &amp;= \frac{1}{\lrp{\varepsilon_0+p_0}^{1/2}} f. \end{aligned} \\ &amp;\begin{aligned} v^{\prime}=\frac{1}{\lrp{\varepsilon_0+p_0}^{1/2}}\lrp{f^{\prime}-\frac{1}{2} f\frac{\lrp{\varepsilon_0+p_0}^{\prime}}{\varepsilon_0+p_0}}. \end{aligned} \end{aligned} \end{equation} \]</span></p><p>æ•…<strong>MSæ–¹ç¨‹</strong>ç­‰ä»·äº <span class="math display">\[ \begin{equation} c_s^2\Delta u = \frac{1}{\lrp{\varepsilon_0+p_0}^{1/2}}\lrp{f^{\prime} +f\lrp{\frac{\theta^{\prime}}{\theta}-\frac{1}{2} \frac{\lrp{\varepsilon_0+p_0}^{\prime}}{\varepsilon_0+p_0}}}. \end{equation} \]</span> ä¸ºäº†åç»­è®¡ç®—æ–¹ä¾¿ï¼Œå…ˆè®¡ç®—å‡ ä¸ªè¡¨è¾¾å¼ <span class="math display">\[ \begin{align} &amp;\frac{\theta^{\prime}}{\theta} = \frac{\mathcal{H}}{2}(1+3 c_s^2)+\frac{1}{2}\frac{\varepsilon_0^{\prime}}{\varepsilon_0}, \\ &amp;\frac{\lrp{\varepsilon_0^{\prime}}}{\varepsilon_0+p_0} =\frac{\lrp{1+\frac{p_0^{\prime}}{\varepsilon_0^{\prime}}}\varepsilon_0^{\prime}}{\varepsilon_0+p_0} =-3\mathcal{H}(1+c_s^2), \\ &amp;\frac{\varepsilon_0^{\prime}}{\varepsilon_0} =-3\mathcal{H}\lrp{1+\frac{p_0}{\varepsilon_0}} =-2\mathcal{H}\lrp{1-\frac{\mathcal{H}^{\prime}}{\mathcal{H}^2}}, \\ &amp;\lrp{\frac{\varepsilon_0^{\prime}}{\varepsilon_0}}^{\prime} =\frac{\varepsilon_0^{\prime}}{\varepsilon_0} \lrp{\mathcal{\frac{H^{\prime}}{H}}-3\mathcal{H}(1+c_s^2)- \frac{\varepsilon_0^{\prime}}{\varepsilon_0}}. \end{align} \]</span></p><p>æ•…<strong>MSæ–¹ç¨‹</strong>ç­‰ä»·äº <span class="math display">\[ \begin{equation} \begin{aligned} c_s^2\Delta\Phi &amp;= f^{\prime} + f\lrp{\frac{\theta^{\prime}}{\theta}-\frac{1}{2} \frac{\lrp{\varepsilon_0+p_0}^{\prime}}{\varepsilon_0+p_0}} \\ &amp;= \Phi^{\pprime}+\Phi^{\prime}\lrp{\mathcal{H}-\frac{1}{2}\frac{\varepsilon_0^{\prime}}{\varepsilon_0}} +\Phi\lrp{\mathcal{H}-\frac{1}{2}\frac{\varepsilon_0^{\prime}}{\varepsilon_0}}^{\prime} \\ &amp;\ +\lrp{\Phi^{\prime}+\Phi\lrp{\mathcal{H}-\frac{1}{2}\frac{\varepsilon_0^{\prime}}{\varepsilon_0}}} \lrp{\mathcal{H}\lrp{2+3 c_s^2}+\frac{1}{2}\frac{\varepsilon_0^{\prime}}{\varepsilon_0}} \\ &amp;=\Phi^{\pprime} + 3\mathcal{H}(1+3 c_s^2)\Phi^{\prime} \\ &amp;\ +\Phi\lrp{\mathcal{H^{\prime}}-\lrp{\frac{1}{2} \frac{\varepsilon_0^{\prime}}{\varepsilon_0}}^{\prime} +\lrp{\mathcal{H}-\frac{1}{2}\frac{\varepsilon_0^{\prime}}{\varepsilon_0}} \lrp{\mathcal{H}\lrp{2+3 c_s^2}+\frac{1}{2}\frac{\varepsilon_0^{\prime}}{\varepsilon_0}}}, \end{aligned} \end{equation} \]</span></p><p>ç»è¿‡ç®€å•ä½†å¤æ‚çš„è®¡ç®—ï¼Œä¸Šå¼æœ€åä¸€è¡Œä¸­çš„æ‹¬å·ä¸º <span class="math display">\[ \begin{equation} 2\mathcal{H^{\prime}}+\mathcal{H^2}\lrp{1+3 c_s^2}, \end{equation} \]</span> æ•…<strong>MSæ–¹ç¨‹</strong>ç¡®å®ç­‰ä»·äº<strong>bardeenæ–¹ç¨‹</strong>ã€‚æ˜¾ç„¶<strong>MSæ–¹ç¨‹</strong>æ˜¯<strong>è§„èŒƒä¸å˜æ–¹ç¨‹</strong>ï¼Œå¼•å…¥çš„å˜é‡ <span class="math inline">\(u\)</span>å’Œ<span class="math inline">\(\theta\)</span>å‡ä¸º<strong>è§„èŒƒä¸å˜é‡</strong>ã€‚</p><h2 id="æ›²ç‡æ‰°åŠ¨">æ›²ç‡æ‰°åŠ¨</h2><p><strong>MSæ–¹ç¨‹</strong>èƒ½å¤Ÿè¢«å†™æˆæ›´ç´§å‡‘çš„å½¢å¼ <span class="math display">\[ \begin{equation} \lrb{\lrp{\frac{u}{\theta}}^{\prime}\theta^2}^{\prime} = c_s^2\theta\Delta u \end{equation} \]</span> åœ¨<strong>é•¿æ³¢æé™</strong>ä¸‹ï¼Œæ•£åº¦é¡¹<span class="math inline">\(\Delta u\)</span>å¯ä»¥è¢«å¿½ç•¥ï¼Œæ•…è€Œæˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ä¸ªåœ¨è¶…è§†ç•ŒåŒºåŸŸä¸ºå¸¸æ•°çš„è§„èŒƒä¸å˜é‡ <span class="math display">\[ \begin{equation} \label{eq:curvature-perturbation} \begin{aligned} \zeta &amp;\equiv \frac{2}{3}\lrp{\frac{u}{\theta}}^{\prime}\theta^2 \\ &amp;= \frac{v}{z} \end{aligned} \end{equation} \]</span> å…¶ä¸­ <span class="math display">\[ \begin{equation} v=\lrp{\frac{u}{\theta}}^{\prime}\theta,\quad z = \frac{1}{\theta}. \end{equation} \]</span> è¯¥å˜é‡å³æ˜¯æ–‡çŒ®ä¸­å¸¸è§çš„æ ‡é‡æ›²ç‡æ‰°åŠ¨<span class="math inline">\(\mathcal{R}\)</span>ï¼Œé€šå¸¸åœ¨æš´èƒ€è¿‡ç¨‹ä¸­ä¼šè®¡ç®—<span class="math inline">\(\mathcal{R}\)</span>çš„åŠŸç‡è°±<span class="math inline">\(P_{\mathcal{R}}(k)\)</span>ã€‚</p><p>å‰é¢éªŒè¯<strong>MSæ–¹ç¨‹</strong>çš„è¿‡ç¨‹ä¸­ä»æ•°å­¦çš„è§’åº¦çœ‹ï¼Œæ„é€ å‡ºçš„å››ä¸ªè§„èŒƒä¸å˜é‡<span class="math inline">\(u,v,\theta,z\)</span> æ»¡è¶³äº†å¦‚ä¸‹ä¸¤ä¸ªæ–¹ç¨‹ <span class="math display">\[ \begin{equation} \label{eq:middle-equations} c_s^2\Delta u=z\lrp{\frac{v}{z}}^{\prime},\quad v=\theta\lrp{\frac{u}{\theta}}^{\prime}. \end{equation} \]</span> æ»¡è¶³ä¸Šè¿°æ–¹ç¨‹çš„å‡½æ•°<span class="math inline">\(u\)</span>ï¼Œåœ¨æ¶ˆé™¤è¾…åŠ©å‡½æ•°<span class="math inline">\(v\)</span>åè‡ªç„¶å¾—åˆ°<strong>MSæ–¹ç¨‹</strong>ã€‚è§‚å¯Ÿ<span class="math inline">\(\zeta\)</span>çš„å®šä¹‰ å¼<span class="math inline">\(\eqref{eq:curvature-perturbation}\)</span>åï¼Œæ›´å¸Œæœ›æ‰¾åˆ°<span class="math inline">\(v\)</span>æ»¡è¶³çš„æ–¹ç¨‹ã€‚ä»æ–¹ç¨‹ç»„<span class="math inline">\(\eqref{eq:middle-equations}\)</span>å‡ºå‘å¯ä»¥å¾—åˆ° <span class="math display">\[ \begin{equation} v^{\pprime}-c_s^2\Delta v-\frac{z^{\pprime}}{z}v= 0 \end{equation} \]</span> å·§åˆåœ°æ˜¯<span class="math inline">\(u\)</span>å’Œ<span class="math inline">\(v\)</span>æ»¡è¶³çš„æ–¹ç¨‹å½¢å¼ç›¸åŒã€‚å®é™…ä¸Š<span class="math inline">\(v\)</span>æ»¡è¶³çš„æ–¹ç¨‹æ‰æ˜¯æ–‡çŒ®ä¸­æåˆ°çš„<strong>MSæ–¹ç¨‹</strong>ï¼Œ<span class="math inline">\(u\)</span>æ»¡è¶³çš„æ–¹ç¨‹åªæ˜¯å½¢å¼ç›¸åŒï¼Œæœ¬è´¨è¿˜æ˜¯<strong>bardeenæ–¹ç¨‹</strong>ã€‚ åœ¨æš´èƒ€è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®è§„èŒƒä¸å˜é‡çš„å®šä¹‰ <span class="math display">\[ \begin{equation} z=\frac{a\lrp{\varepsilon+p}^{1/2}}{H}=\frac{a\dot{\varphi}}{H} =\frac{a\varphi^{\prime}}{\mathcal{H}}. \end{equation} \]</span> å…¶ä¸­<span class="math inline">\(\varphi\)</span>æ˜¯æš´èƒ€åœºã€‚åˆ°è¿™ä¸€æ­¥æ—¶ï¼Œæ›²ç‡æ‰°åŠ¨çš„åŠŸç‡è°±å°±å°±å‘¼ä¹‹æ¬²å‡ºäº† <span class="math display">\[ \begin{equation} \label{eq:curvature-perturbation-power-spectrum} P_{\zeta}(k)=P_{\mathcal{R}}(k) = \frac{k^{3}}{2\pi^2} \left\lvert \frac{v_k}{z}\right\rvert ^2 \end{equation} \]</span> æš´èƒ€è¿‡ç¨‹ä¸­ï¼Œå˜æ¢åˆ°å‚…ç«‹å¶ç©ºé—´ä¸­ï¼Œ<span class="math inline">\(v\)</span>çš„<span class="math inline">\(k\)</span>æ¨¡<span class="math inline">\(v_k\)</span>æ»¡è¶³è´å¡å°”æ–¹ç¨‹ <span class="math display">\[ \begin{equation} \label{eq:bessel-equation} v_k^{\pprime}+\lrp{k^2-\frac{\nu^2-1/4}{\eta^2}}v_k = 0, \end{equation} \]</span> å¼ä¸­<span class="math inline">\(\nu=3/2+2\varepsilon_H-\eta_H\)</span>ã€‚è€ƒè™‘åˆ°å¹³é¢æ³¢è¾¹å€¼æ¡ä»¶ <span class="math display">\[ \begin{equation} \label{eq:plane-wave-boundary-condition} v_k(\eta)\rightarrow \frac{1}{2k}e^{-ik\eta},\quad k\rightarrow \infty \end{equation} \]</span> è´å¡å°”æ–¹ç¨‹<span class="math inline">\(\eqref{eq:bessel-equation}\)</span>çš„è§£ä¸º <span class="math display">\[ \begin{equation} \label{eq:solution-for-ms-equation-in-inflation} v_k(\eta) =\frac{\sqrt{\pi}}{2}e^{i(\nu+1/2)\pi/2}\sqrt{-\eta}H_{\nu}^{(1)}(-k\eta). \end{equation} \]</span> å¼ä¸­<span class="math inline">\(H_{\nu}^{(1)}\)</span>ä¸ºç¬¬ä¸€ç±»æ±‰å…‹å°”å‡½æ•°ã€‚å¯¹äºè¶…è§†ç•Œæ‰°åŠ¨ <span class="math display">\[ \begin{align} \label{eq:for-super-horizon} H_{\nu}^{(1)}(x\ll 1) \sim \sqrt{\frac{2}{\pi}}e^{-i\pi/2} 2^{\nu-3/2}\frac{\Gamma(\nu)}{\Gamma(3/2)}x^{-\nu}, \\ v_k(\eta) = e^{i(\nu-1/2)\pi/2}2^{\nu-3/2} \frac{\Gamma(\nu)}{\Gamma(3/2)}\frac{1}{\sqrt{2k}}(-k\eta)^{1/2-\nu}. \end{align} \]</span> æ•…æ›²ç‡æ‰°åŠ¨çš„åŠŸç‡è°±ä¸º <span class="math display">\[ \begin{equation} \begin{aligned} P_{\mathcal{R}}(k) &amp;= \frac{k^{3}}{2\pi^2}\left\lvert \frac{\nu_k}{z}\right\rvert ^2 \\ &amp;= 2^{2\nu-3}\lrp{\frac{\Gamma(\nu)}{\Gamma(3/2)}}^2 \lrp{\frac{H}{\dot{\varphi}_0}}^2 \lrp{\frac{H}{2\pi}}^2 \lrp{\frac{k}{aH}}^{3-2\nu} \Bigg\lvert_{k=aH}. \end{aligned} \end{equation} \]</span></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ ‡é‡æ‰°åŠ¨&quot;&gt;æ ‡é‡æ‰°åŠ¨&lt;/h2&gt;&lt;p&gt;è®°å½•ä¸€ä¸‹å®‡å®™å­¦ä¸­&lt;strong&gt;è§„èŒƒæ‰°åŠ¨ç†è®º&lt;/strong&gt;ä¸­çš„&lt;strong&gt;Mukhanov-Sasaki(MS)&lt;/strong&gt;æ–¹ç¨‹ã€‚&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;math display&quot;&gt;\[ \begi
      
    
    </summary>
    
      <category term="ç‰©ç†" scheme="http://spiedeman.github.io/categories/%E7%89%A9%E7%90%86/"/>
    
    
      <category term="Cosmology" scheme="http://spiedeman.github.io/tags/Cosmology/"/>
    
      <category term="Physics" scheme="http://spiedeman.github.io/tags/Physics/"/>
    
  </entry>
  
  <entry>
    <title>é€†æ‹‰æ™®æ‹‰æ–¯ç®—ç¬¦</title>
    <link href="http://spiedeman.github.io/posts/f03e62a1/"/>
    <id>http://spiedeman.github.io/posts/f03e62a1/</id>
    <published>2020-06-07T02:48:49.000Z</published>
    <updated>2021-09-18T02:10:59.612Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ³Šæ¾æ–¹ç¨‹åŠå…¶è§£">æ³Šæ¾æ–¹ç¨‹åŠå…¶è§£</h1><p>æ‹‰æ™®æ‹‰æ–¯ç®—ç¬¦<span class="math inline">\(\Delta\)</span>æ˜¯<span class="math inline">\(n\)</span>ç»´æ¬§å‡ é‡Œå¾—ç©ºé—´ä¸­çš„ä¸€ä¸ªäºŒé˜¶å¾®åˆ†ç®—ç¬¦ï¼Œå®šä¹‰ä¸ºæ ‡é‡å‡½æ•°<span class="math inline">\(f\)</span>çš„æ¢¯åº¦çš„æ•£åº¦ã€‚ <span class="math display">\[ \begin{equation} \label{eq:poisson-equation} \Delta \varphi = \nabla^2 \varphi = \nabla\cdot\nabla \varphi = f \end{equation} \]</span> ç‰©ç†ä¸­é€šå¸¸ç§°ä¸º<strong>æ³Šæ¾æ–¹ç¨‹</strong>ï¼Œä¸€èˆ¬åˆ©ç”¨<strong>æ ¼æ—å‡½æ•°</strong>æ³•æ±‚è§£ã€‚æ‹‰æ™®æ‹‰æ–¯ç®—ç¬¦å¯¹åº”çš„æ ¼æ—å‡½æ•°æ»¡è¶³æ–¹ç¨‹ <span class="math display">\[ \begin{equation} \label{eq:green-function-for-laplacian-operator} \nabla^2 G(\bm{r},\bm{r^\prime}) = \delta(\bm{r}-\bm{r}^\prime) \end{equation} \]</span> æ–¹ç¨‹<span class="math inline">\(\eqref{eq:green-function-for-laplacian-operator}\)</span>çš„è§£ä¸º <span class="math display">\[ \begin{equation} G(\bm{r},\bm{r^\prime}) = - \frac{1}{4\pi} \frac{1}{\Abs{\bm{r}-\bm{r^\prime}}} \end{equation} \]</span> å› æ­¤<strong>æ³Šæ¾æ–¹ç¨‹</strong>çš„ç‰¹è§£ä¸º <span class="math display">\[ \begin{equation} \label{eq:particular-solution-for-poisson-equation} \begin{aligned} \varphi_p(\bm{r}) &amp;= \int G(\bm{r},\bm{r^\prime})f(\bm{r^\prime})d^3\bm{r^\prime} \\ &amp;=-\frac{1}{4\pi}\int \frac{f(\bm{r^\prime})}{\Abs{\bm{r}-\bm{r^\prime}}}d^3\bm{r^\prime} \end{aligned} \end{equation} \]</span></p><p>è‹¥æºé¡¹<span class="math inline">\(f(\bm{r})\)</span>åœ¨å…¨ç©ºé—´ç§¯åˆ†ä¸ºæœ‰é™å€¼ï¼Œåˆ™ <span class="math display">\[ \begin{equation} \begin{aligned} \lim_{r\to\infty}\varphi_p(\bm{r})&amp;=-\frac{1}{4\pi}\lim_{r\to\infty} \int\frac{f(\bm{r})}{\Abs{\bm{r-r^\prime}}} d^3\bm{r^\prime} \\ &amp;=-\frac{1}{4\pi} \left(\lim_{r\to\infty}\frac{1}{r}\int f(\bm{r^\prime})d^3\bm{r^\prime} + \bigo\lrp{\frac{1}{r^2}} \right) \\ &amp;=-\frac{1}{4\pi} \lrp{\lim_{r\to\infty}\frac{q}{r}+\bigo\lrp{\frac{1}{r^2}}} \\ &amp;=0 \end{aligned} \end{equation} \]</span> å› æ­¤ç²¾ç¡®çš„è¡¨è¿°ä¸ºï¼Œå½“æ³Šæ¾æ–¹ç¨‹<span class="math inline">\(\eqref{eq:poisson-equation}\)</span>çš„è¾¹ç•Œæ¡ä»¶ä¸ºï¼š<span class="math inline">\(\varphi(\bm{r})\)</span>åœ¨æ— ç©·è¿œå¤„ä¸ºé›¶æ—¶ï¼Œè§£ä¸º<span class="math inline">\(\varphi_p(\bm{r})\)</span>ã€‚å½“æŒ‡å®šéé›¶è¾¹ç•Œæ¡ä»¶æ—¶ï¼Œå®Œæ•´çš„è§£ä¸º <span class="math display">\[ \begin{equation} \varphi(\bm{r}) =\varphi_p(\bm{r})+\varphi_c(\bm{r}) \end{equation} \]</span> å…¶ä¸­<span class="math inline">\(\varphi_c(\bm{r})\)</span>ä¸ºä»»æ„<strong>æ‹‰æ™®æ‹‰æ–¯æ–¹ç¨‹</strong>ï¼ˆæ— æºæ³Šæ¾æ–¹ç¨‹ï¼‰çš„è§£ <span class="math display">\[ \begin{equation} \label{eq:solution-for-boundary-laplace-equation} \nabla^2\varphi_c(\bm{r}) = 0 \end{equation} \]</span></p><h1 id="é€†æ‹‰æ™®æ‹‰æ–¯ç®—ç¬¦">é€†æ‹‰æ™®æ‹‰æ–¯ç®—ç¬¦</h1><p>å½“æºé¡¹<span class="math inline">\(f(\bm{r})\)</span>åœ¨å…¨ç©ºé—´ç§¯åˆ†æ”¶æ•›ï¼Œå³é€‰å–æ— ç©·è¿œå¤„ä¸ºé›¶çš„è¾¹ç•Œæ¡ä»¶æ—¶ï¼Œæ³Šæ¾æ–¹ç¨‹çš„è§£ä¸º <span class="math display">\[ \begin{equation} \varphi(\bm{r})=\varphi_p(\bm{r}) \end{equation} \]</span> åœ¨ä¸Šè¿°å‰ææ¡ä»¶ä¸‹ï¼Œå®šä¹‰é€†æ‹‰æ™®æ‹‰æ–¯ç®—ç¬¦ä¸º<span class="math inline">\(\Delta^{-1}\)</span>ï¼Œå°†å…¶ä½œç”¨äºæ³Šæ¾æ–¹ç¨‹<span class="math inline">\(\eqref{eq:poisson-equation}\)</span>å¾—åˆ° <span class="math display">\[ \begin{equation} \Delta^{-1}\Delta\varphi(\bm{r})\equiv \varphi(\bm{r}) = \Delta^{-1}f(\bm{r}) \end{equation} \]</span> æ ¹æ®<span class="math inline">\(\eqref{eq:particular-solution-for-poisson-equation}\)</span>å¯å¾— <span class="math display">\[ \begin{equation} \boxed{ \Delta^{-1}f(\bm{r}) =-\frac{1}{4\pi}\int\frac{f(\bm{r^\prime})}{\Abs{\bm{r-r^\prime}}}d^3\bm{r^\prime}} \end{equation} \]</span> å®¹æ˜“éªŒè¯ <span class="math display">\[ \begin{equation} \Delta^{-1}\Delta f(\bm{r})=\Delta\Delta^{-1}f(\bm{r})=f(\bm{r}) \end{equation} \]</span></p><h1 id="åº”ç”¨">åº”ç”¨</h1><p>åˆ©ç”¨é€†æ‹‰æ™®æ‹‰æ–¯ç®—ç¬¦<span class="math inline">\(\Delta^{-1}\)</span>ï¼Œå¯ä»¥å°†çŸ¢é‡åœº<span class="math inline">\(\bm{V}(\bm{r})\)</span>å”¯ä¸€åˆ†è§£ä¸ºä¸ç›¸äº¤çš„ä¸¤éƒ¨åˆ† <span class="math display">\[ \begin{equation} \bm{V}=\bm{V}_{\parallel} + \bm{V}_{\bot},\qquad \text{å…¶ä¸­}\ \nabla\cdot \bm{V}_{\bot}=\nabla\times \bm{V}_{\parallel}=0 \end{equation} \]</span> ç›´æ¥æ„é€  <span class="math display">\[ \begin{equation} \label{eq:longitudinal} \bm{V}_{\parallel}=\nabla\Delta^{-1}\nabla\cdot \bm{V} \end{equation} \]</span> è§‚å¯Ÿåˆ°<span class="math inline">\(\psi\equiv\Delta^{-1}\nabla\cdot \bm{V}\)</span>æ˜¯ä¸€ä¸ªæ ‡é‡åœºï¼Œå› æ­¤<span class="math inline">\(\bm{V}\times \bm{V}_{\parallel}=\bm{V}\times\nabla\psi=0\)</span>ã€‚æ¨ªå‘éƒ¨åˆ†ä¸º <span class="math display">\[ \begin{equation} \bm{V}_{\bot}=\bm{V}-\bm{V}_{\parallel}=\bm{V}-\nabla\Delta^{-1}\nabla\cdot \bm{V} \end{equation} \]</span> å¯ä»¥éªŒè¯ <span class="math display">\[ \begin{equation} \nabla\cdot \bm{V}_{\bot}=\nabla\cdot\lrb{\bm{V}-\nabla\Delta^{-1}\nabla\cdot \bm{V}} =\nabla\cdot \bm{V}-\Delta\Delta^{-1}\lrp{\nabla\cdot \bm{V}} =\nabla\cdot \bm{V}-\nabla\cdot \bm{V}=0 \end{equation} \]</span> ä¸<span class="math inline">\(\bm{V}_{\parallel}\)</span>ä¸€æ ·ï¼Œ<span class="math inline">\(\bm{V}_{\bot}\)</span>ä¹Ÿå­˜åœ¨ç±»ä¼¼çš„è¡¨è¾¾å¼ <span class="math display">\[ \begin{equation} \label{eq:transverse} \bm{V}_{\bot}=-\nabla\times\Delta^{-1}\lrp{\nabla\times \bm{V}} \end{equation} \]</span> ä¸ºäº†è¯æ˜<span class="math inline">\(\eqref{eq:transverse}\)</span>æˆç«‹ï¼Œé¦–å…ˆå¼•å…¥ä¸¤ä¸ªç­‰å¼ï¼Œä¸è¿‡çœç•¥è¯æ˜ã€‚ <span class="math display">\[ \begin{aligned} &amp;\nabla\times\Delta^{-1}\lrp{\bm{A}}=\Delta^{-1}\lrp{\nabla\times \bm{A}}\\ &amp;\nabla\Delta^{-1}\lrp{\psi}=\Delta^{-1}\lrp{\nabla\psi} \end{aligned} \]</span> äºæ˜¯ <span class="math display">\[ \begin{aligned} \bm{V}_{\bot}&amp;=-\nabla\times\Delta^{-1}\lrp{\nabla\times\bm{V}}\\ &amp;=-\Delta^{-1}\lrb{\nabla\times\lrp{\nabla\times\bm{V}}} \\ &amp;=\Delta^{-1}\lrb{\Delta\bm{V}-\nabla\lrp{\nabla\cdot\bm{V}}}\\ &amp;=\bm{V}-\Delta^{-1}\nabla\lrp{\nabla\cdot\bm{V}}\\ &amp;=\bm{V}-\nabla\Delta^{-1}\lrp{\nabla\cdot\bm{V}} \\ &amp;=\bm{V}-\bm{V}_{\parallel} \end{aligned} \]</span> ä»¥ä¸Šè¯´æ˜äº†åˆ†è§£çš„å­˜åœ¨æ€§ï¼Œæ¥ä¸‹æ¥è¯´æ˜è¯¥åˆ†è§£å…·æœ‰å”¯ä¸€æ€§ï¼Œå¹¶ä¸”åªéœ€è¯´æ˜çºµå‘éƒ¨åˆ†å…·æœ‰å”¯ä¸€æ€§å³å¯ã€‚ å¯¹çŸ¢é‡<span class="math inline">\(\bm{V}\)</span>å–æ•£åº¦ï¼Œå¾—åˆ°å…³äºæ ‡é‡åœº<span class="math inline">\(\psi\)</span>çš„æ³Šæ¾æ–¹ç¨‹ <span class="math display">\[ \begin{equation} \nabla\cdot \bm{V} = \nabla\cdot\bm{V_{\parallel}} = \Delta \psi \end{equation} \]</span> ç”±äºæ³Šæ¾æ–¹ç¨‹å…·æœ‰å”¯ä¸€è§£ï¼Œå› è€ŒçŸ¢é‡åˆ†è§£ä¹Ÿå…·æœ‰å”¯ä¸€æ€§ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;æ³Šæ¾æ–¹ç¨‹åŠå…¶è§£&quot;&gt;æ³Šæ¾æ–¹ç¨‹åŠå…¶è§£&lt;/h1&gt;&lt;p&gt;æ‹‰æ™®æ‹‰æ–¯ç®—ç¬¦&lt;span class=&quot;math inline&quot;&gt;\(\Delta\)&lt;/span&gt;æ˜¯&lt;span class=&quot;math inline&quot;&gt;\(n\)&lt;/span&gt;ç»´æ¬§å‡ é‡Œå¾—ç©ºé—´ä¸­çš„ä¸€ä¸ªäºŒé˜¶å¾®åˆ†ç®—ç¬¦ï¼Œå®šä¹‰
      
    
    </summary>
    
      <category term="ç‰©ç†" scheme="http://spiedeman.github.io/categories/%E7%89%A9%E7%90%86/"/>
    
    
      <category term="Physics" scheme="http://spiedeman.github.io/tags/Physics/"/>
    
  </entry>
  
  <entry>
    <title>Linuxä¸‹é…ç½®è§¦æ‘¸æ¿æ‰‹åŠ¿æ“ä½œ</title>
    <link href="http://spiedeman.github.io/posts/35c03362/"/>
    <id>http://spiedeman.github.io/posts/35c03362/</id>
    <published>2020-05-13T10:42:26.000Z</published>
    <updated>2021-09-18T02:10:59.612Z</updated>
    
    <content type="html"><![CDATA[<p>MacOSçš„è§¦æ‘¸æ¿æ‰‹åŠ¿ä½“éªŒæ²¡å¾—è¯´ï¼Œåœ¨Linuxä¸‹ä¹Ÿå¯ä»¥å€ŸåŠ©ä¸€äº›è½¯ä»¶è¾¾åˆ°ç›¸è¿‘çš„ä½“éªŒã€‚ä¸è¿‡æœ€æƒ³è¦çš„<strong>ä¸‰æŒ‡å–è¯</strong>è¿˜ä¸çŸ¥åˆ°å¦‚ä½•å®ç°ğŸ˜ ã€‚</p><p>é¦–å…ˆé…ç½®è§¦æ‘¸æ¿çš„é©±åŠ¨ç¨‹åºä¸º<code>libinput</code>ï¼Œå…·ä½“æ“ä½œè¿™é‡Œä¸è°ˆã€‚å€ŸåŠ©è½¯ä»¶<a href="https://github.com/bulletmark/libinput-gestures" target="_blank" rel="noopener">libinput-gestures</a>å¯ä»¥æ‹“å±•è§¦æ‘¸æ¿<strong>ä¸‰/å››æŒ‡æ‰‹åŠ¿</strong>ä»¥åŠ<strong>ç¼©æ”¾</strong>æ“ä½œã€‚</p><p>i3æ¡Œé¢ä¸‹ï¼Œçª—å£æœ‰ä¸¤ç§ï¼š<strong>å¹³é“º</strong>ä»¥åŠ<strong>æµ®åŠ¨</strong>ã€‚å·¥ä½œåŒºçš„æ¦‚å¿µç±»æ¯”MacOSä¸­çš„è™šæ‹Ÿæ¡Œé¢ï¼Œä¾¿ç­¾åŒºçš„æ•ˆæœç±»ä¼¼<strong>çª—å£æœ€å°åŒ–</strong>ã€‚</p><h3 id="åŠŸèƒ½è¡¨">åŠŸèƒ½è¡¨</h3><table><thead><tr class="header"><th style="text-align:center"></th><th style="text-align:center"><code>up</code></th><th style="text-align:center"><code>down</code></th><th style="text-align:center"><code>left</code></th><th style="text-align:center"><code>right</code></th></tr></thead><tbody><tr class="odd"><td style="text-align:center">ä¸‰æŒ‡</td><td style="text-align:center">åˆ‡æ¢åˆ°ä¸Šæ–¹çª—å£</td><td style="text-align:center">åˆ‡æ¢åˆ°ä¸‹æ–¹çª—å£</td><td style="text-align:center">åˆ‡æ¢åˆ°å·¦ä¾§çª—å£</td><td style="text-align:center">åˆ‡æ¢åˆ°å³ä¾§çª—å£</td></tr><tr class="even"><td style="text-align:center">å››æŒ‡</td><td style="text-align:center">å°†æµ®åŠ¨çª—å£ç§»åˆ°ä¾¿ç­¾åŒº</td><td style="text-align:center">å¾ªç¯åˆ‡æ¢ä¾¿ç­¾åŒºå†…çš„çª—å£</td><td style="text-align:center">åˆ‡æ¢åˆ°å·¦ä¾§å·¥ä½œåŒº</td><td style="text-align:center">åˆ‡æ¢åˆ°å³ä¾§å·¥ä½œåŒº</td></tr></tbody></table><p>å¦‚æœå½“å‰è·å¾—ç„¦ç‚¹çš„çª—å£æ˜¯æµè§ˆå™¨ï¼Œåˆ™<strong>ä¸‰æŒ‡</strong>çš„æ‰‹åŠ¿åŠŸèƒ½ä¸º</p><table><thead><tr class="header"><th style="text-align:center"></th><th style="text-align:left"><code>up</code></th><th style="text-align:center"><code>down</code></th><th style="text-align:center"><code>left</code></th><th style="text-align:center"><code>right</code></th></tr></thead><tbody><tr class="odd"><td style="text-align:center">ä¸‰æŒ‡</td><td style="text-align:left">å‰è¿›</td><td style="text-align:center">åé€€</td><td style="text-align:center">åˆ‡æ¢åˆ°å·¦ä¾§tab</td><td style="text-align:center">åˆ‡æ¢åˆ°å³ä¾§tab</td></tr></tbody></table><p>ä»¥åŠå¦å¤–å››ç§æ‰‹åŠ¿</p><table><thead><tr class="header"><th style="text-align:center"></th><th style="text-align:center"><code>leftup</code></th><th style="text-align:center"><code>leftdown</code></th><th style="text-align:center"><code>rightup</code></th><th style="text-align:center"><code>rightdown</code></th></tr></thead><tbody><tr class="odd"><td style="text-align:center">ä¸‰æŒ‡</td><td style="text-align:center">æ‰“å¼€æœ€è¿‘å…³é—­æ ‡ç­¾é¡µ</td><td style="text-align:center">å…³é—­å½“å‰æ ‡ç­¾é¡µ</td><td style="text-align:center">å·¦ç§»å½“å‰ä¾¿ç­¾é¡µ</td><td style="text-align:center">å³ç§»å½“å‰æ ‡ç­¾é¡µ</td></tr></tbody></table><h3 id="libinput-gestures-é…ç½®æ–‡ä»¶">libinput-gestures é…ç½®æ–‡ä»¶</h3><p><code>libinput-gestures</code>çš„é…ç½®æ–‡ä»¶ä½äº<code>~/.config/libinput-gestures.conf</code>ã€‚å…¶ä¸­æ¶‰åŠåˆ°ä¸Šè¿°åŠŸèƒ½çš„é…ç½®ä¸º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># ä¸‰æŒ‡æ‰‹åŠ¿</span><br><span class="line">gestures swipe left  3 $HOME/Program/bin/move_window_or_tab</span><br><span class="line">gestures swipe right 3 $HOME/Program/bin/move_window_or_tab right</span><br><span class="line">gestures swipe up    3 $HOME/Program/bin/move_window_or_tab up</span><br><span class="line">gestures swipe down  3 $HOME/Program/bin/move_window_or_tab down</span><br><span class="line"></span><br><span class="line"># å››æŒ‡æ‰‹åŠ¿</span><br><span class="line">gestures swipe left  4 i3-msg workspace prev</span><br><span class="line">gestures swipe right 4 i3-msg workspace next</span><br><span class="line">gestures swipe up    4 $HOME/Program/bin/show_or_hide_scratchpad up</span><br><span class="line">gestures swipe down  4 xdotool key super+shift+minus</span><br><span class="line"></span><br><span class="line"># æµè§ˆå™¨çª—å£ä¸­ä¸‰æŒ‡æ‰‹åŠ¿</span><br><span class="line">gestures swipe left_up    3 $HOME/Program/bin/move_window_or_tab left_up</span><br><span class="line">gestures swipe left_down  3 $HOME/Program/bin/move_window_or_tab left_down</span><br><span class="line">gestures swipe right_up   3 $HOME/Program/bin/move_window_or_tab right_up</span><br><span class="line">gestures swipe right_down 3 $HOME/Program/bin/move_window_or_tab right_down</span><br></pre></td></tr></table></figure><h3 id="å®ç°è„šæœ¬">å®ç°è„šæœ¬</h3><p><code>libinput-gestures</code>èƒ½æ•æ‰æ‰‹åŠ¿ï¼Œä½†æ˜¯å°†æ‰‹åŠ¿ä¸æ“ä½œç»‘å®šéœ€è¦é€šè¿‡å¦ä¸€ä¸ªèƒ½å®ç°æ¨¡æ‹ŸæŒ‰é”®æ“ä½œçš„è½¯ä»¶<code>xdotool</code>ã€‚ ç”±äº<strong>ä¸‰æŒ‡</strong>æ‰‹åŠ¿å¯¹åº”çš„åŠŸèƒ½è¾ƒä¸ºå¤æ‚ï¼Œéœ€è¦åŒºåˆ†çª—å£å†…æ˜¯å¦ä¸ºæµè§ˆå™¨ï¼Œä¸”æ¶‰åŠçš„ä¸»è¦åŠŸèƒ½ä¸ºåˆ‡æ¢çª—å£ï¼Œå› è€Œç»Ÿä¸€ç”¨ä¸€ä¸ªè„šæœ¬<code>move_window_or_tab</code>å®ç°ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–çª—å£åç§°</span></span><br><span class="line">WM_NAME=<span class="string">"<span class="variable">$(xdotool getactivewindow getwindowname)</span>"</span></span><br><span class="line"><span class="comment"># è·å–æ‰‹åŠ¿æ–¹å‘</span></span><br><span class="line">DIRECTION=<span class="variable">$&#123;1:-left&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$WM_NAME</span> =~ <span class="string">'Firefox'</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> [[ <span class="variable">$DIRECTION</span> == <span class="string">'left'</span> ]]; <span class="keyword">then</span></span><br><span class="line">        xdotool key control+Page_Up</span><br><span class="line">    <span class="keyword">elif</span> [[ <span class="variable">$DIRECTION</span> == <span class="string">'right'</span> ]]; <span class="keyword">then</span></span><br><span class="line">        xdotool key control+Page_Down</span><br><span class="line">    <span class="comment"># ...</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment"># æ™®é€ši3çª—å£</span></span><br><span class="line">    <span class="comment"># Key number: H-43, J-44, K-45, L-46, ;-47</span></span><br><span class="line">    <span class="keyword">if</span> [[ <span class="variable">$DIRECTION</span> == <span class="string">'left'</span> ]]; <span class="keyword">then</span></span><br><span class="line">        xdotool key super+44</span><br><span class="line">    <span class="keyword">elif</span> [[ <span class="variable">$DIRECTION</span> == <span class="string">'right'</span> ]]; <span class="keyword">then</span></span><br><span class="line">        xdotool key super+47</span><br><span class="line">    <span class="comment"># ...</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p>å››æŒ‡åˆ‡æ¢å·¥ä½œåŒºçš„å‘½ä»¤å¾ˆç®€å•ï¼Œä¸éœ€è¦å€ŸåŠ©è„šæœ¬å®ç°ã€‚ä½†æ˜¯æ¶‰åŠåˆ°<strong>ä¾¿ç­¾åŒºçª—å£</strong>çš„åŠŸèƒ½æ— æ³•ç”¨ä¸€è¡Œå‘½ä»¤æå®šï¼Œå› æ­¤å†™äº†ä¸€ä¸ªè„šæœ¬<code>show_or_hide_scratchpad</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å–æ‰‹åŠ¿æ–¹å‘</span></span><br><span class="line">DIRECTION=<span class="variable">$&#123;1:-up&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¸å¿ƒé€»è¾‘éƒ¨åˆ†</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$DIRECTION</span> == <span class="string">'up'</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> i3-msg focus floating; <span class="keyword">then</span></span><br><span class="line">        i3-msg move scratchpad</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">elif</span> [[ <span class="variable">$DIRECTION</span> == <span class="string">'down'</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> i3-msg focus floating; <span class="keyword">then</span></span><br><span class="line">        i3-msg move scratchpad</span><br><span class="line">        i3-msg move scratchpad</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        i3-msg move scratchpad</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    i3-msg [floating] resize <span class="built_in">set</span> 1280 1200</span><br><span class="line">    i3-msg move position center</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;MacOSçš„è§¦æ‘¸æ¿æ‰‹åŠ¿ä½“éªŒæ²¡å¾—è¯´ï¼Œåœ¨Linuxä¸‹ä¹Ÿå¯ä»¥å€ŸåŠ©ä¸€äº›è½¯ä»¶è¾¾åˆ°ç›¸è¿‘çš„ä½“éªŒã€‚ä¸è¿‡æœ€æƒ³è¦çš„&lt;strong&gt;ä¸‰æŒ‡å–è¯&lt;/strong&gt;è¿˜ä¸çŸ¥åˆ°å¦‚ä½•å®ç°ğŸ˜ ã€‚&lt;/p&gt;&lt;p&gt;é¦–å…ˆé…ç½®è§¦æ‘¸æ¿çš„é©±åŠ¨ç¨‹åºä¸º&lt;code&gt;libinput&lt;/code&gt;ï¼Œå…·ä½“æ“ä½œè¿™é‡Œä¸è°ˆã€‚å€ŸåŠ©è½¯ä»¶&lt;a 
      
    
    </summary>
    
      <category term="i3" scheme="http://spiedeman.github.io/categories/i3/"/>
    
    
      <category term="è§¦æ‘¸æ¿" scheme="http://spiedeman.github.io/tags/%E8%A7%A6%E6%91%B8%E6%9D%BF/"/>
    
      <category term="æ‰‹åŠ¿æ“ä½œ" scheme="http://spiedeman.github.io/tags/%E6%89%8B%E5%8A%BF%E6%93%8D%E4%BD%9C/"/>
    
  </entry>
  
  <entry>
    <title>VPSç›¸å…³é…ç½®ï¼ŒTrojanåŠV2RAYè„šæœ¬</title>
    <link href="http://spiedeman.github.io/posts/7a1be4a0/"/>
    <id>http://spiedeman.github.io/posts/7a1be4a0/</id>
    <published>2020-05-08T05:26:19.000Z</published>
    <updated>2021-09-18T02:10:59.622Z</updated>
    
    <content type="html"><![CDATA[<p>ç›®å‰åœ¨ç”¨çš„ç§‘å­¦ä¸Šç½‘å·¥å…·æœ‰ä¸¤æ¬¾ï¼š<strong>Trojan</strong>å’Œ<strong>V2Ray</strong>ã€‚V2Rayçš„ä½¿ç”¨æ–¹å¼æœ‰å¾ˆå¤šï¼Œè¿™é‡Œä¸ä½œè¯¦ç»†è®°å½•ã€‚Trojançš„ä¼˜åŠ¿åœ¨äºé…ç½®ç›¸å¯¹ç®€å•ã€é‡‡ç”¨çš„ç§‘å­¦ä¸Šç½‘çš„æ–¹æ³•ä¸æ˜“è¢«å‘ç°ã€é€Ÿåº¦å¿«ã€‚V2Rayçš„ä¼˜åŠ¿åœ¨äºåŠŸèƒ½é½å…¨ï¼Œæ­é…å…¶ä»–å·¥å…·å¯ä»¥å®ç°ä»ç®€å•åˆ°å¤æ‚çš„å„ç§ç§‘å­¦ä¸Šç½‘æ–¹å¼ï¼Œç¼ºç‚¹æ˜¯æŸäº›æ–¹å¼é€Ÿåº¦è¾ƒæ…¢ã€‚ç»¼åˆä¸¤è€…çš„ä¼˜ç¼ºç‚¹ï¼Œæˆ‘ä¸€èˆ¬å°†ä¸¤è€…æ­é…ä½¿ç”¨ï¼ŒTrojanè´Ÿè´£ç§‘å­¦ä¸Šç½‘ï¼ŒV2Rayè´Ÿè´£è·¯ç”±åŠŸèƒ½ã€‚</p><p>### å®‰è£…Trojanå’ŒV2Ray æ˜¯å¦åœ¨Debian/Ubuntuå®˜æ–¹ä»“åº“ä¸­</p><blockquote><ul><li><code>Trojan</code>: âœ” (ubuntuä»19.04å¼€å§‹)</li><li><code>V2Ray</code>: âœ˜</li></ul></blockquote><p><code>V2Ray</code>çš„å®˜æ–¹å®‰è£…è„šæœ¬åœ¨å›½å†…ä¸‹è½½é€Ÿåº¦å¾ˆæ…¢ï¼Œç»å¸¸å¤±è´¥ã€‚ç»“åˆä¸Šé¢ä¿¡æ¯ï¼Œåº”é€‰æ‹©ä¼˜å…ˆå®‰è£…<code>Trojan</code>ï¼Œç„¶ååœ¨ç»ˆç«¯ä¸‹å¼€å¯ç§‘å­¦ä¸Šç½‘æ¨¡å¼ï¼Œå†å®‰è£…<code>V2Ray</code>ã€‚<strong><em>å®‰è£…æµç¨‹å…¨è‡ªåŠ¨ï¼Œä¸€åˆ‡éƒ½å¾ˆNiceã€‚</em></strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">trojan_environment_varibles</span></span>() &#123;</span><br><span class="line">    TROJAN_PREFIX=/directory/to/trojan/real/config.json</span><br><span class="line">    TROJAN_CERT=<span class="variable">$TROJAN_PREFIX</span>/cert.pem</span><br><span class="line">    TROJAN_CERT_PATH_IN_CONFIG=<span class="variable">$TROJAN_CERT</span></span><br><span class="line">    TROJAN_CONFIG=<span class="variable">$TROJAN_PREFIX</span>/config.json</span><br><span class="line">    <span class="comment"># trojanæ¨¡æ¿é…ç½®æ–‡ä»¶</span></span><br><span class="line">    TROJAN_CONFIG_EXAMPLE=<span class="variable">$TROJAN_PREFIX</span>/config_example.json</span><br><span class="line">    </span><br><span class="line">    TROJAN_SERVER=<span class="variable">$SERVER_NAME</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">trojan_install_for_old_distributor</span></span>() &#123;</span><br><span class="line">    <span class="comment"># å½“å®˜æ–¹ä»“åº“ä¸­ä¸å«trojanæ—¶å®‰è£…æµç¨‹</span></span><br><span class="line">    <span class="comment"># è¯ä¹¦ ä½äº /usr/local/etc/ssl/cert.pem</span></span><br><span class="line">    <span class="comment"># é…ç½®æ–‡ä»¶ ä½äº /usr/local/etc/trojan/config.json</span></span><br><span class="line">    <span class="comment"># æ–°å»ºtrojanç”¨æˆ·ï¼Œç”±trojanç”¨æˆ·å¼€å¯æœåŠ¡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">trojan_install</span></span>() &#123;</span><br><span class="line">    <span class="comment"># è®¾ç½®trojanç›¸å…³ç¯å¢ƒå˜é‡</span></span><br><span class="line">    trojan_environment_varibles</span><br><span class="line">    <span class="comment"># è‹¥trojané…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™ä»æ¨¡æ¿é…ç½®æ–‡ä»¶å¤åˆ¶ä¸€ä»½</span></span><br><span class="line">    [ ! -f <span class="variable">$TROJAN_CONFIG</span> ] &amp;&amp; cp <span class="variable">$TROJAN_CONFIG_EXAMPLE</span> <span class="variable">$TROJAN_CONFIG</span></span><br><span class="line">    <span class="keyword">if</span> ! <span class="built_in">command</span> -v trojan &gt; /dev/null 2&gt;&amp;1; <span class="keyword">then</span></span><br><span class="line">        TROJAN_CONFIG=/path/to/æ¨¡æ¿é…ç½®æ–‡ä»¶</span><br><span class="line">        TROJAN_CERT=/path/to/æœ¬åœ°è¯ä¹¦</span><br><span class="line">        <span class="keyword">if</span> æ»¡è¶³æ¡ä»¶ï¼šUbuntuåŠç‰ˆæœ¬åœ¨19.04åŠä»¥ä¸Š; <span class="keyword">then</span></span><br><span class="line">            sudo apt install trojan</span><br><span class="line">            sudo ln -sf <span class="variable">$TROJAN_CONFIG</span> /etc/trojan/config.json</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            trojan_install_for_old_distributor</span><br><span class="line">            TROJAN_CERT_PATH_IN_CONFIG=/usr/<span class="built_in">local</span>/etc/ssl/cert.pem</span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="comment"># è®¾ç½®é…ç½®æ–‡ä»¶ä¸­çš„è¯ä¹¦è·¯å¾„</span></span><br><span class="line">    <span class="keyword">if</span> <span class="variable">$TROJAN_CONFIG</span>ä¸­ä¸å«<span class="variable">$TROJAN_CERT_PATH_IN_CONFIG</span>; <span class="keyword">then</span></span><br><span class="line">        sed -i <span class="string">"s|\"cert.*|\"cert\": \"<span class="variable">$TROJAN_CERT_PATH_IN_CONFIG</span>\",|"</span> <span class="variable">$TROJAN_CONFIG</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    trojan_first_start</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é…ç½®æ–‡ä»¶">é…ç½®æ–‡ä»¶</h3><p>è¿™é‡Œåªè®¨è®ºTrojanåœ¨æœ¬åœ°çš„é…ç½®ä»¥åŠç›¸å…³è„šæœ¬ã€‚Trojançš„å®¢æˆ·ç«¯é…ç½®ä¸­æœ‰ä¸‰é¡¹åœ¨åˆ‡æ¢VPSæ—¶éœ€è¦ä¿®æ”¹ï¼Œåˆ†åˆ«æ˜¯</p><table><thead><tr class="header"><th style="text-align:center">é…ç½®é€‰é¡¹</th><th style="text-align:center">VPS</th></tr></thead><tbody><tr class="odd"><td style="text-align:center"><code>remote_addr</code></td><td style="text-align:center"><code>IP/åŸŸå</code></td></tr><tr class="even"><td style="text-align:center"><code>sni</code></td><td style="text-align:center"><code>åŸŸå</code></td></tr><tr class="odd"><td style="text-align:center"><code>cert</code></td><td style="text-align:center"><code>æœ¬åœ°è¯ä¹¦è·¯å¾„</code></td></tr></tbody></table><p>å› ä¸ºä½¿ç”¨äº†<code>CloudFlare</code>å®¶çš„æ³›åŸŸåè¯ä¹¦ï¼Œå› æ­¤åœ¨å¤šä¸ªVPSä¸Šå¯ä»¥ä½¿ç”¨åŒä¸€å¥—è¯ä¹¦ï¼Œæ„å‘³ç€å³ä½¿åœ¨é…ç½®æ–‡ä»¶ä¸­<strong>æœ¬åœ°è¯ä¹¦è·¯å¾„</strong>ä½¿ç”¨äº†è½¯é“¾æ¥åœ°å€ï¼Œä¹Ÿæ— éœ€å¯¹å…¶æŒ‡å‘çš„è¯ä¹¦æ–‡ä»¶åšä»»ä½•ä¿®æ”¹ã€‚å› æ­¤åœ¨åˆ‡æ¢VPSæ—¶ï¼ŒçœŸæ­£éœ€è¦ä¿®æ”¹çš„åªæœ‰ä¸¤ä¸ªåœ°æ–¹ï¼š<code>remote_addr</code>å’Œ<code>sni</code>ã€‚</p><p><code>remote_addr</code>é€‰æ‹©çš„è§„åˆ™ä¸º</p><table><thead><tr class="header"><th style="text-align:center">åˆ†ç±»</th><th style="text-align:center">DNS</th><th style="text-align:center">Proxy</th></tr></thead><tbody><tr class="odd"><td style="text-align:center"><code>remote_addr</code></td><td style="text-align:center"><code>IP</code>æˆ–è€…<code>åŸŸå</code></td><td style="text-align:center"><code>IP</code></td></tr></tbody></table><p>åŸå› åœ¨äº<code>remote_addr</code>å¿…é¡»è§£æåˆ°VPSè‡ªå·±çš„<code>IP</code>ã€‚</p><h3 id="åˆ‡æ¢vpså¹¶é‡å¯æœåŠ¡çš„è„šæœ¬">åˆ‡æ¢VPSå¹¶é‡å¯æœåŠ¡çš„è„šæœ¬</h3><p>æ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œé‡‡ç”¨æ¨¡æ¿é…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼Œé€‰å–ç‰¹å®šçš„VPSåï¼Œç”¨<code>sed</code>ç›´æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­ä¸Šè¿°ä¸¤ä¸ªé€‰é¡¹çš„å€¼ï¼Œå†ç”¨<code>service</code>å‘½ä»¤é‡å¯æœåŠ¡ã€‚</p><h4 id="vpsä¿¡æ¯">VPSä¿¡æ¯</h4><p>VPSçš„ç›¸å…³ä¿¡æ¯ï¼Œéƒ½å­˜æ”¾åœ¨æ–‡ä»¶<code>server_info.ini</code>ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[cloudcone]</span></span><br><span class="line"><span class="attr">ip</span> = xxx.xxx.xxx.xxx</span><br><span class="line"><span class="attr">domain</span> = www.example.com</span><br><span class="line"><span class="attr">dns_proxy</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="section">[racknerd]</span></span><br><span class="line"><span class="attr">ip</span> = xxx.xxx.xxx.xxx</span><br><span class="line"><span class="attr">domain</span> = www.example2.com</span><br><span class="line"><span class="attr">dns_proxy</span> = <span class="literal">false</span></span><br></pre></td></tr></table></figure><p></p><p>å€ŸåŠ©<code>awk</code>å®šä¹‰ä¸¤ä¸ªå‡½æ•°ç”¨äºè¯»å–<code>ini</code>æ–‡ä»¶ä¸­çš„æœåŠ¡å™¨ä¿¡æ¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">SERVER_INFO_FILE=/path/to/server_info.ini</span><br><span class="line"><span class="comment"># æ”¶é›†VPSå…¥å£ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">read_section_ini</span></span>() &#123;</span><br><span class="line">    INI_FILE=<span class="variable">$1</span></span><br><span class="line">    awk -F <span class="string">'='</span> <span class="string">'&#123;</span></span><br><span class="line"><span class="string">        if ($1 ~ /\[/) &#123;</span></span><br><span class="line"><span class="string">            gsub(/[\[\]]/, "", $1)</span></span><br><span class="line"><span class="string">            print $1</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;'</span> <span class="variable">$INI_FILE</span></span><br><span class="line">&#125;    </span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ç‰¹å®šVPSçš„ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">read_ini</span></span>() &#123;</span><br><span class="line">    INI_FILE=<span class="variable">$1</span></span><br><span class="line">    SECTION=<span class="variable">$&#123;2:-cloudcone&#125;</span></span><br><span class="line">    KEY=<span class="variable">$&#123;3:-ip&#125;</span></span><br><span class="line">    awk -F <span class="string">'='</span> <span class="string">'&#123;</span></span><br><span class="line"><span class="string">    if ($1 ~ /\[/)</span></span><br><span class="line"><span class="string">        if ($1 ~ /\['</span><span class="variable">$SECTION</span><span class="string">'/) &#123;</span></span><br><span class="line"><span class="string">            a = 1</span></span><br><span class="line"><span class="string">        &#125; else &#123;</span></span><br><span class="line"><span class="string">            a = 0</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    else</span></span><br><span class="line"><span class="string">        if (a == 1 &amp;&amp; $1 ~ /'</span><span class="variable">$KEY</span><span class="string">'/) &#123;</span></span><br><span class="line"><span class="string">            gsub(/[[:blank:]]/, "", $2)</span></span><br><span class="line"><span class="string">            print $2</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;'</span> <span class="variable">$INI_FILE</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">VPS_SERVERS=($(read_section_ini <span class="variable">$SERVER_INFO_FILE</span>))</span><br></pre></td></tr></table></figure><p></p><h4 id="åˆ‡æ¢vpsè„šæœ¬">åˆ‡æ¢VPSè„šæœ¬</h4><p>æ¥ä¸‹æ¥å°±æ¶‰åŠåˆ°<code>Trojan</code>å’Œ<code>V2Ray</code>ç›¸å…³çš„è„šæœ¬äº†ï¼ŒåŒæ ·å®šä¹‰ä¸¤ä¸ªå‡½æ•°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">choose_server_for_trojan</span></span>() &#123;</span><br><span class="line">    TROJAN_SERVER=<span class="variable">$1</span></span><br><span class="line">    TROJAN_CONFIG=/path/to/trojançš„æ¨¡æ¿é…ç½®æ–‡ä»¶</span><br><span class="line">    <span class="comment"># è·å–é€‰å®šVPSçš„å…·ä½“ä¿¡æ¯</span></span><br><span class="line">    dns_proxy=$(read_ini <span class="variable">$SERVER_INFO_FILE</span> <span class="variable">$TROJAN_SERVER</span> dns_proxy)</span><br><span class="line">    ip=$(read_ini <span class="variable">$SERVER_INFO_FILE</span> <span class="variable">$TROJAN_SERVER</span> ip)</span><br><span class="line">    sni=$(read_ini <span class="variable">$SERVER_INFO_FILE</span> <span class="variable">$TROJAN_SERVER</span> sni)</span><br><span class="line">    <span class="keyword">if</span> <span class="variable">$dns_proxy</span>; <span class="keyword">then</span></span><br><span class="line">        remote_addr=<span class="variable">$ip</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        remote_addr=<span class="variable">$sni</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="comment"># ä¿®æ”¹æ¨¡æ¿é…ç½®æ–‡ä»¶</span></span><br><span class="line">    sed -i <span class="string">"s|\"remote_addr.*|\"remote_addr\": \"<span class="variable">$remote_addr</span>\",|"</span> <span class="variable">$TROJAN_CONFIG</span></span><br><span class="line">    sed -i <span class="string">"s|\"sni.*|\"sni\": \"<span class="variable">$sni</span>\",|"</span> <span class="variable">$TROJAN_CONFIG</span></span><br><span class="line">    <span class="comment"># é‡å¯TrojanæœåŠ¡</span></span><br><span class="line">    sudo service trojan restart</span><br><span class="line">    sudo service trojan status</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">choose_server_for_v2ray</span></span>() &#123;</span><br><span class="line">    <span class="comment"># V2Rayç›¸å…³é…ç½®ä¿®æ”¹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¸å¿ƒé€»è¾‘éƒ¨åˆ†</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">change_server</span></span>() &#123;</span><br><span class="line">    <span class="comment"># å¯ç”¨çš„VPSéƒ½å­˜æ”¾åœ¨æ•°ç»„å˜é‡ VPS_SERVERS ä¸­ï¼Œä¼ å…¥çš„å‚æ•°ä¸ºæ•°ç»„ä¸‹æ ‡ï¼Œ</span></span><br><span class="line">    <span class="comment"># ç”¨äºé€‰å–ç‰¹å®š VPS</span></span><br><span class="line">    VPS_SERVERS=($(read_section_ini <span class="variable">$SERVER_INFO_FILE</span>))</span><br><span class="line">    SERVER_ID=<span class="variable">$&#123;1:-0&#125;</span></span><br><span class="line">    SERVER_NAME=$(VPS_SERVERS[<span class="variable">$SERVER_ID</span>])</span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$SERVER_ID</span> -ge 0 ] &amp;&amp; [ <span class="variable">$SERVER_ID</span> -lt <span class="variable">$&#123;#VPS_SERVERS[*]&#125;</span> ]; <span class="keyword">then</span></span><br><span class="line">        choose_server_for_trojan <span class="variable">$SERVER_NAME</span></span><br><span class="line">        choose_server_for_v2ray <span class="variable">$SERVER_NAME</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"é”™è¯¯ï¼šVPSæœåŠ¡å™¨ä¸å­˜åœ¨"</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"å°è¯•ï¼š'<span class="variable">$COMMAND</span> -i' æŸ¥çœ‹å¯ç”¨æœåŠ¡å™¨"</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éƒ½åˆ°è¿™ä¸ªç¨‹åº¦äº†ï¼Œå¹²è„†å†™æˆä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œç¨‹åºã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é™¤äº†ä¸Šé¢æåˆ°çš„å‡½æ•°å¤–ï¼Œå†å®šä¹‰ä¸‰ä¸ªå‡½æ•°ï¼Œç”¨äºå®ç°ç›¸åº”çš„å‘½ä»¤å‚æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">show_help</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"æ¬¢è¿ä½¿ç”¨æœ¬è„šæœ¬åˆ‡æ¢VPSæœåŠ¡å™¨"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"ç”¨æ³•ï¼švps_server é€‰é¡¹"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"é€‰é¡¹ï¼š"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"  -h [--help]         æ˜¾ç¤ºæœ¬å¸®åŠ©"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"  -s [--server=val]   é€šè¿‡valé€‰æ‹©ä¸åŒVPSæœåŠ¡å™¨"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"  -i [--info]         æ˜¾ç¤ºå¯ç”¨æœåŠ¡å™¨æ±‡æ€»ä¿¡æ¯"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"  -c [--current]      æ˜¾ç¤ºå½“å‰ä½¿ç”¨çš„VPSæœåŠ¡å™¨"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">show_servers_info</span></span>() &#123;</span><br><span class="line">    <span class="comment"># shellcheck disable=SC2128,2207</span></span><br><span class="line">    [ -z <span class="string">"<span class="variable">$VPS_SERVERS</span>"</span> ] &amp;&amp; VPS_SERVERS=($(read_section_ini <span class="variable">$SERVER_INFO_FILE</span>))</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"å¯ç”¨çš„æœåŠ¡å™¨æœ‰ï¼š"</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">"<span class="variable">$&#123;!VPS_SERVERS[@]&#125;</span>"</span>; <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"    <span class="variable">$i</span> ): <span class="variable">$&#123;VPS_SERVERS[i]&#125;</span>"</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"æœåŠ¡å™¨ç«¯å®‰è£…å®Œæˆï¼š"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"    å°†è¯ä¹¦ä¸‹è½½è‡³å®¢æˆ·ç«¯æ‰€åœ¨ä¸»æœºå¹¶æ”¾ç½®åœ¨æ­£ç¡®è·¯å¾„"</span>   </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"    å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ä¸­éœ€æŒ‡å®šè¯ä¹¦ï¼ˆæˆ–å…¶è½¯é“¾æ¥ï¼‰è·¯å¾„"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"    è‹¥CloudFlareä¸­å¼€å¯äº†ä»£ç†ï¼Œåˆ™å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ä¸­åªèƒ½ä½¿ç”¨IPã€‚"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"å®¢æˆ·ç«¯å®‰è£…å®Œæˆï¼š"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"    ä»æœåŠ¡å™¨ä¸Šä¸‹è½½è¯ä¹¦å¹¶å®‰è£…"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"    é…ç½®æ–‡ä»¶ä¸­éœ€æŒ‡å®šè¯ä¹¦ç»å¯¹è·¯å¾„"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"    |             |       |    remote_addr   |"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"    |             |       |   IP   |   åŸŸå  |"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"    | CloudFlare  |  DNS  |    âœ”   |    âœ”    |"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"    |             | Proxy |    âœ”   |    âœ˜    |"</span> </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">get_current_server</span></span>() &#123;</span><br><span class="line">    awk -F <span class="string">':'</span> <span class="string">'&#123;</span></span><br><span class="line"><span class="string">        if ($1 ~ /\"sni/) &#123;</span></span><br><span class="line"><span class="string">            gsub(/\"/, "", $2)</span></span><br><span class="line"><span class="string">            print $2</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;'</span> <span class="variable">$TROJAN_PREFIX</span>/config.json</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># whileå¾ªç¯ä¸caseç»“æ„å¤„ç†å‘½ä»¤å‚æ•°</span></span><br><span class="line"><span class="keyword">while</span> [[ <span class="variable">$#</span> -ge 1 ]]; <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">"<span class="variable">$1</span>"</span> <span class="keyword">in</span></span><br><span class="line">        -h|--<span class="built_in">help</span> )</span><br><span class="line">            show_help</span><br><span class="line">            ;;</span><br><span class="line">        -i|--info)</span><br><span class="line">            show_servers_info</span><br><span class="line">            ;; </span><br><span class="line">        -c|--current)</span><br><span class="line">            VPS=$(get_current_server)</span><br><span class="line">            <span class="built_in">echo</span> <span class="string">"å½“å‰VPSæœåŠ¡å™¨ï¼š"</span></span><br><span class="line">            <span class="built_in">echo</span> <span class="string">"    <span class="variable">$&#123;VPS%%.*&#125;</span>"</span></span><br><span class="line">            ;;</span><br><span class="line">        -s|--server) </span><br><span class="line">            <span class="built_in">shift</span></span><br><span class="line">            <span class="keyword">if</span> [[ <span class="variable">$#</span> -ge 1 ]]; <span class="keyword">then</span></span><br><span class="line">                ID=<span class="variable">$1</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                ID=0</span><br><span class="line">            <span class="keyword">fi</span></span><br><span class="line">            change_server <span class="variable">$ID</span></span><br><span class="line">            ;;</span><br><span class="line">        *)</span><br><span class="line">            <span class="built_in">echo</span> <span class="string">"é”™è¯¯ï¼šæœªè¯†åˆ«é€‰é¡¹ '<span class="variable">$1</span>'"</span></span><br><span class="line">            <span class="built_in">echo</span> <span class="string">"å°è¯• '<span class="variable">$COMMAND</span> -h|--help' æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯"</span></span><br><span class="line">            ;;</span><br><span class="line">    <span class="keyword">esac</span></span><br><span class="line">    <span class="built_in">shift</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><p></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ç›®å‰åœ¨ç”¨çš„ç§‘å­¦ä¸Šç½‘å·¥å…·æœ‰ä¸¤æ¬¾ï¼š&lt;strong&gt;Trojan&lt;/strong&gt;å’Œ&lt;strong&gt;V2Ray&lt;/strong&gt;ã€‚V2Rayçš„ä½¿ç”¨æ–¹å¼æœ‰å¾ˆå¤šï¼Œè¿™é‡Œä¸ä½œè¯¦ç»†è®°å½•ã€‚Trojançš„ä¼˜åŠ¿åœ¨äºé…ç½®ç›¸å¯¹ç®€å•ã€é‡‡ç”¨çš„ç§‘å­¦ä¸Šç½‘çš„æ–¹æ³•ä¸æ˜“è¢«å‘ç°ã€é€Ÿåº¦å¿«ã€‚V2Rayçš„ä¼˜åŠ¿åœ¨äºåŠŸèƒ½é½å…¨
      
    
    </summary>
    
      <category term="ç§‘å­¦ä¸Šç½‘" scheme="http://spiedeman.github.io/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
    
      <category term="VPS" scheme="http://spiedeman.github.io/tags/VPS/"/>
    
      <category term="Trojan" scheme="http://spiedeman.github.io/tags/Trojan/"/>
    
      <category term="V2Ray" scheme="http://spiedeman.github.io/tags/V2Ray/"/>
    
  </entry>
  
  <entry>
    <title>è®°å¿«æ‰‹ç¬”è¯•å¤§é¢˜</title>
    <link href="http://spiedeman.github.io/posts/d82964a7/"/>
    <id>http://spiedeman.github.io/posts/d82964a7/</id>
    <published>2019-09-16T13:57:09.000Z</published>
    <updated>2021-09-18T02:10:59.612Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ç¬¬ä¸€é¢˜">ç¬¬ä¸€é¢˜</h3><h4 id="é¢˜ç›®æè¿°">é¢˜ç›®æè¿°</h4><p>è¾“å…¥ä¸€ä¸ªè‹±æ–‡å¥å­ï¼Œè¯ä¹‹é—´æœ‰ <code>1</code> ä¸ªæˆ–è‹¥å¹²ä¸ªç©ºæ ¼ï¼Œå¥å­ä»¥è‹±æ–‡æ ‡ç‚¹ &quot;.&quot; ç»“å°¾ã€‚ è¦æ±‚é¢ å€’è¯¥å¥å­ä¸­çš„è¯è¯­é¡ºåºï¼Œå¹¶ä¸”è¯ä¹‹é—´æœ‰ä¸”åªæœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œç»“å°¾ä»æ˜¯ &quot;.&quot;ï¼Œç»“å°¾çš„ &quot;.&quot; ä¸å‰ä¸€ä¸ªå•è¯ä¹‹é—´æ— ç©ºæ ¼ã€‚</p><h4 id="ä»£ç ">ä»£ç </h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">line = sys.stdin.readline().strip().split()</span><br><span class="line"><span class="keyword">if</span> line[<span class="number">-1</span>] == <span class="string">'.'</span>:</span><br><span class="line">    line = line[:<span class="number">-1</span>]</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    line[<span class="number">-1</span>] = line[<span class="number">-1</span>][:<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">' '</span>.join(line[::<span class="number">-1</span>]) + <span class="string">'.'</span></span><br></pre></td></tr></table></figure><h3 id="ç¬¬äºŒé¢˜">ç¬¬äºŒé¢˜</h3><h4 id="é¢˜ç›®æè¿°-1">é¢˜ç›®æè¿°</h4><p>å·²çŸ¥ä¸¤ä¸ªå­—ç¬¦ä¸²<code>strA</code>å’Œ<code>strB</code>ï¼Œæ±‚å°†<code>strA</code>è½¬æ¢æˆ<code>strB</code>æ‰€éœ€çš„æœ€å°ç¼–è¾‘æ“ä½œæ¬¡æ•°ã€‚è®¸å¯çš„ç¼–è¾‘æ“ä½œåŒ…æ‹¬å°†ä¸€ä¸ªå­—ç¬¦æ›¿æ¢æˆå¦ä¸€ä¸ªå­—ç¬¦ï¼Œæ’å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œåˆ é™¤ä¸€ä¸ªå­—ç¬¦ã€‚</p><p>æœ¬é¢˜å‚è€ƒ<a href="https://leetcode-cn.com/problems/edit-distance/" target="_blank" rel="noopener">LeetCode ç¬¬72é¢˜â€”â€”ç¼–è¾‘è·ç¦»</a></p><h4 id="ä»£ç -1">ä»£ç </h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">strA = sys.stdin.readline().strip()</span><br><span class="line">strB = sys.stdin.readline().strip()</span><br><span class="line">n1, n2 = len(strA), len(strB)</span><br><span class="line">dp = [[<span class="number">0</span>] * (n2 + <span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range(n1 + <span class="number">1</span>)]</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n2 + <span class="number">1</span>):</span><br><span class="line">    dp[<span class="number">0</span>][j] = dp[<span class="number">0</span>][j<span class="number">-1</span>] + <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n1 + <span class="number">1</span>):</span><br><span class="line">    dp[i][<span class="number">0</span>] = dp[i<span class="number">-1</span>][<span class="number">0</span>] + <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n1 + <span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n2 + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> strA[i<span class="number">-1</span>] == strB[j<span class="number">-1</span>]:</span><br><span class="line">            dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            dp[i][j] = <span class="number">1</span> + min(dp[i][j<span class="number">-1</span>], dp[i<span class="number">-1</span>][j], dp[i<span class="number">-1</span>][j<span class="number">-1</span>])</span><br><span class="line"><span class="keyword">print</span> dp[<span class="number">-1</span>][<span class="number">-1</span>]</span><br></pre></td></tr></table></figure><h3 id="ç¬¬ä¸‰é¢˜">ç¬¬ä¸‰é¢˜</h3><h4 id="é¢˜ç›®æè¿°-2">é¢˜ç›®æè¿°</h4><p>æˆ‘ä»¬çŸ¥é“æ¯ä¸€ä¸ªå¤§äº <code>1</code> çš„æ•°éƒ½ä¸€å®šæ˜¯è´¨æ•°æˆ–è€…å¯ä»¥ç”¨è´¨æ•°çš„ä¹˜ç§¯æ¥è¡¨ç¤ºï¼Œå¦‚ <code>10=2*5</code>ã€‚ç°åœ¨è¯·è®¾è®¡ä¸€ä¸ªç¨‹åºï¼Œå¯¹äºç»™å®šçš„ä¸€ä¸ª <code>(1, N]</code> ä¹‹é—´çš„æ­£æ•´æ•°ï¼ˆ<code>N</code> å–å€¼ä¸è¶…è¿‡ <code>10</code> ä¸‡ï¼‰ï¼Œä½ éœ€è¦ç»Ÿè®¡ <code>(1, N]</code> ä¹‹é—´æ‰€æœ‰æ­£æ•´æ•°çš„è´¨æ•°åˆ†è§£åï¼Œæ‰€æœ‰è´¨æ•°ä¸ªæ•°çš„æ€»å’Œã€‚ä¸¾ä¾‹ï¼Œè¾“å…¥æ•°æ® <code>6</code>ï¼Œé‚£ä¹ˆæ»¡è¶³ <code>(1, 6])</code> çš„æ•´æ•°ä¸º <code>2, 3, 4, 5, 6</code>ï¼Œå„è‡ªè¿›è¡Œè´¨æ•°åˆ†è§£åä¸ºï¼š<code>2=&gt;2, 3=&gt;3, 4=&gt;2*2, 5=&gt;5, 6=&gt;2*3</code>ã€‚å¯¹åº”çš„è´¨æ•°ä¸ªæ•°å³ <code>1, 1, 2, 1, 2</code>ã€‚æœ€åç»Ÿè®¡æ€»æ•°ä¸º <code>7</code>ã€‚</p><p>æœ¬é¢˜æ˜¯å®Œå…¨è‡ªå·±åšå‡ºæ¥çš„ï¼Œå¤ç”¨äº†æ±‚è´¨æ•°çš„ç­›æ³•ã€‚ &gt; å…³é”®ç‚¹åœ¨ è‹¥ <span class="math inline">\(n = a\times b\)</span>ï¼Œåˆ™ <span class="math inline">\(f(n) = f(a)+f(b)\)</span>ã€‚</p><h4 id="ä»£ç -2">ä»£ç </h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">prime_sieve</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="string">"""è¿”å›æ‰€æœ‰å°äº n çš„è´¨æ•°"""</span></span><br><span class="line">    sieve = [<span class="literal">True</span>] * (n // <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>, int(n**<span class="number">0.5</span>) + <span class="number">1</span>, <span class="number">2</span>):</span><br><span class="line">        <span class="keyword">if</span> sieve[i // <span class="number">2</span>]:</span><br><span class="line">            sieve[i *i // <span class="number">2</span>::i] = [<span class="literal">False</span>] * ((n - i * i - <span class="number">1</span>) // (<span class="number">2</span> * i) + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> [<span class="number">2</span>] + [<span class="number">2</span> * i + <span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n // <span class="number">2</span>) <span class="keyword">if</span> sieve[i]]</span><br><span class="line"></span><br><span class="line">n = int(sys.stdin.readline().strip())</span><br><span class="line"></span><br><span class="line">primes = prime_sieve(n + <span class="number">1</span>)</span><br><span class="line">data = &#123;p: <span class="number">1</span> <span class="keyword">for</span> p <span class="keyword">in</span> primes&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">help</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> n <span class="keyword">in</span> data:</span><br><span class="line">        <span class="keyword">return</span> data[n]</span><br><span class="line">    i, n0 = <span class="number">0</span>, n</span><br><span class="line">    ans = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> ans:</span><br><span class="line">        c, p = <span class="number">0</span>, primes[i]</span><br><span class="line">        <span class="keyword">while</span> n % p == <span class="number">0</span>:</span><br><span class="line">            c += <span class="number">1</span></span><br><span class="line">            n = n // p</span><br><span class="line">        <span class="keyword">if</span> c:</span><br><span class="line">            ans = c + help(n)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    data[n0] = ans</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line">ans = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> range(<span class="number">2</span>, n + <span class="number">1</span>):</span><br><span class="line">    ans += help(m)</span><br><span class="line"><span class="keyword">print</span> ans</span><br></pre></td></tr></table></figure><h3 id="ç¬¬å››é¢˜">ç¬¬å››é¢˜</h3><h4 id="é¢˜ç›®æè¿°-3">é¢˜ç›®æè¿°</h4><p>ç»™å®šä¸€ä¸ªæ•°ç‹¬æ¿çš„è¾“å…¥ï¼Œç¡®è®¤å½“å‰çš„å¡«æ³•æ˜¯å¦åˆæ³•ã€‚ åˆæ³•çš„è¾“å…¥éœ€è¦æ»¡è¶³ä¸€ä¸‹ä¸‰ä¸ªæ¡ä»¶ï¼š 1. æ¯ä¸€è¡Œçš„<code>9</code>ä¸ªæ ¼å­ä¸­æ˜¯<code>1-9</code>çš„<code>9</code>ä¸ªæ•°å­—ï¼Œä¸”æ²¡æœ‰é‡å¤ 2. æ¯ä¸€åˆ—çš„<code>9</code>ä¸ªæ ¼å­ä¸­æ˜¯<code>1-9</code>çš„<code>9</code>ä¸ªæ•°å­—ï¼Œä¸”æ²¡æœ‰é‡å¤ 3. <code>9</code>ä¸ª<code>3*3</code>çš„å°æ ¼å­ä¸­æ˜¯<code>1-9</code>çš„<code>9</code>ä¸ªæ•°å­—ï¼Œä¸”æ²¡æœ‰é‡å¤</p><p>ç©ºæ ¼ç”¨<code>X</code>è¡¨ç¤º</p><p>æœ¬é¢˜æŠ„è‡ªå·±çš„ä»£ç <a href="https://leetcode-cn.com/problems/valid-sudoku/" target="_blank" rel="noopener">LeetCode ç¬¬36é¢˜â€”â€”æœ‰æ•ˆçš„æ•°ç‹¬</a> #### ä»£ç </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">board = []</span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">9</span>):</span><br><span class="line">    board.append(sys.stdin.readline().strip())</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">help</span><span class="params">(board)</span>:</span></span><br><span class="line">    board_t = zip(*board)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">            <span class="keyword">if</span> i == j:</span><br><span class="line">                <span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">                    col = [n <span class="keyword">for</span> n <span class="keyword">in</span> board[<span class="number">3</span>*i+k] <span class="keyword">if</span> n!=<span class="string">'X'</span>]</span><br><span class="line">                    <span class="keyword">if</span> len(col) != len(set(col)):</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                    row = [n <span class="keyword">for</span> n <span class="keyword">in</span> board_t[<span class="number">3</span>*i+k] <span class="keyword">if</span> n!=<span class="string">'X'</span>]</span><br><span class="line">                    <span class="keyword">if</span> len(row) != len(set(row)):</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            block = set()</span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">                <span class="keyword">for</span> s <span class="keyword">in</span> board[<span class="number">3</span>*i+k][<span class="number">3</span>*j:<span class="number">3</span>*j+<span class="number">3</span>]:</span><br><span class="line">                    <span class="keyword">if</span> s != <span class="string">'X'</span>:</span><br><span class="line">                        <span class="keyword">if</span> s <span class="keyword">in</span> block:</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                        block.add(s)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">'true'</span> <span class="keyword">if</span> help(board) <span class="keyword">else</span> <span class="string">'false'</span></span><br></pre></td></tr></table></figure><p></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;ç¬¬ä¸€é¢˜&quot;&gt;ç¬¬ä¸€é¢˜&lt;/h3&gt;&lt;h4 id=&quot;é¢˜ç›®æè¿°&quot;&gt;é¢˜ç›®æè¿°&lt;/h4&gt;&lt;p&gt;è¾“å…¥ä¸€ä¸ªè‹±æ–‡å¥å­ï¼Œè¯ä¹‹é—´æœ‰ &lt;code&gt;1&lt;/code&gt; ä¸ªæˆ–è‹¥å¹²ä¸ªç©ºæ ¼ï¼Œå¥å­ä»¥è‹±æ–‡æ ‡ç‚¹ &amp;quot;.&amp;quot; ç»“å°¾ã€‚ è¦æ±‚é¢ å€’è¯¥å¥å­ä¸­çš„è¯è¯­é¡ºåºï¼Œå¹¶ä¸”è¯ä¹‹é—´æœ‰ä¸”åªæœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œç»“å°¾
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://spiedeman.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="é¢è¯•" scheme="http://spiedeman.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>è®°ä¸‰ä¸ƒäº’å¨±ç¬”è¯•å¤§é¢˜</title>
    <link href="http://spiedeman.github.io/posts/a8055618/"/>
    <id>http://spiedeman.github.io/posts/a8055618/</id>
    <published>2019-09-10T07:23:29.000Z</published>
    <updated>2021-09-18T02:10:59.612Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ä¸‰ä¸ƒäº’å¨±</strong>å…±ä¸¤é“ç®—æ³•å¤§é¢˜ï¼Œæ€»å…±å°±ä¸€ä¸ªå°æ—¶çš„ç¬”è¯•æ—¶é—´ï¼Œæ€»æ„Ÿè§‰æ—¶é—´ä¸å¤Ÿç”¨ã€‚æœ€åä¸€é¢˜ç¡®å®å› ä¸ºæ—¶é—´ä¸å¤Ÿæ²¡å†™å®Œï¼Œå¥½åœ¨æ€è·¯æœ‰äº†ç”¨æ³¨é‡Šæäº†ä¸€ä¸‹ï¼Œä¸çŸ¥é“èƒ½ä¸èƒ½é…Œæƒ…ç»™åˆ†:joy:ã€‚</p><h4 id="ç¬¬ä¸€é¢˜">ç¬¬ä¸€é¢˜</h4><p><strong>æè¿°</strong>ï¼šç»™ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­ <span class="math inline">\(1 \le A[i]\le n\)</span>ã€‚æœ‰äº›å…ƒç´ å‡ºç°ä¸¤æ¬¡ï¼Œæœ‰äº›å‡ºç°ä¸€æ¬¡ï¼Œè¿”å›æ‰€æœ‰å‡ºç°ä¸¤æ¬¡çš„å…ƒç´ ã€‚</p><p><strong>è§£ç­”</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(array)</span>:</span></span><br><span class="line">    count = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> a <span class="keyword">in</span> array:</span><br><span class="line">        <span class="keyword">if</span> a <span class="keyword">not</span> <span class="keyword">in</span> array:</span><br><span class="line">            count[a] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            count[a] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> [key <span class="keyword">for</span> key <span class="keyword">in</span> count <span class="keyword">if</span> count[key] == <span class="number">2</span>]</span><br></pre></td></tr></table></figure><p></p><h4 id="ç¬¬äºŒé¢˜">ç¬¬äºŒé¢˜</h4><p><strong>æè¿°</strong>ï¼šå°æ˜æœ‰æƒ³è®¾è®¡ä¸€ä¸ªéšæœºç®—æ³•æ¥å¬æ­Œï¼Œå¹¶ä¸”å¸Œæœ›æ¯é¦–æ­Œè¢«é€‰ä¸­çš„æ¦‚ç‡æ­£æ¯”äºå®ƒçš„è±†ç“£è¯„åˆ†ã€‚å¦‚æ­Œ A å’Œ B çš„è¯„åˆ†åˆ†åˆ«ä¸º <span class="math inline">\(8.5\)</span> å’Œ <span class="math inline">\(9.3\)</span>ï¼Œåˆ™è¿™ä¸¤é¦–æ­Œè¢«é€‰ä¸­çš„æ¦‚ç‡çš„æ¯”ä¸º <span class="math inline">\(85:93\)</span>ã€‚ç°ç»™å‡º <span class="math inline">\(1000\)</span> é¦–æ­Œçš„è±†ç“£è¯„åˆ†ï¼Œè¯·è®¾è®¡ä¸€ä¸ªéšæœºç®—æ³•å¹¶å®ç°å®ƒã€‚</p><p><strong>è§£ç­”</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(songs, scores)</span>:</span></span><br><span class="line">    n = len(songs)</span><br><span class="line">    <span class="comment"># å‡è®¾è¯„åˆ†åªæœ‰ä¸€ä½å°æ•°</span></span><br><span class="line">    srange = [<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        srange.append(srange[<span class="number">-1</span>] + int(scores[i] * <span class="number">10</span>))</span><br><span class="line">    <span class="comment"># ç”Ÿæˆ [0, srange[-1]] èŒƒå›´çš„å‡åŒ€éšæœºæ•° rand</span></span><br><span class="line">    rand = random.uniform(<span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">    rand = int(rand * srange[<span class="number">-1</span>])</span><br><span class="line">    <span class="comment"># äºŒåˆ†æ³•æŸ¥æ‰¾ rand è½åœ¨ srange çš„å“ªä¸ªåŒºé—´ä¸­</span></span><br><span class="line">    i, j = <span class="number">0</span>, n</span><br><span class="line">    m = (i + j) // <span class="number">2</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; j:</span><br><span class="line">        <span class="keyword">if</span> srange[m] &lt;= rand &lt; srange[m+<span class="number">1</span>]:</span><br><span class="line">            <span class="keyword">return</span> songs[m]</span><br><span class="line">        <span class="keyword">if</span> srange[m] &gt; rand:</span><br><span class="line">            j = m</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            i = m + <span class="number">1</span></span><br><span class="line">        m = (i + j) // <span class="number">2</span></span><br></pre></td></tr></table></figure><p></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;ä¸‰ä¸ƒäº’å¨±&lt;/strong&gt;å…±ä¸¤é“ç®—æ³•å¤§é¢˜ï¼Œæ€»å…±å°±ä¸€ä¸ªå°æ—¶çš„ç¬”è¯•æ—¶é—´ï¼Œæ€»æ„Ÿè§‰æ—¶é—´ä¸å¤Ÿç”¨ã€‚æœ€åä¸€é¢˜ç¡®å®å› ä¸ºæ—¶é—´ä¸å¤Ÿæ²¡å†™å®Œï¼Œå¥½åœ¨æ€è·¯æœ‰äº†ç”¨æ³¨é‡Šæäº†ä¸€ä¸‹ï¼Œä¸çŸ¥é“èƒ½ä¸èƒ½é…Œæƒ…ç»™åˆ†:joy:ã€‚&lt;/p&gt;&lt;h4 id=&quot;ç¬¬ä¸€é¢˜&quot;&gt;ç¬¬ä¸€é¢˜&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;æè¿°&lt;/
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://spiedeman.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="é¢è¯•" scheme="http://spiedeman.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>è®°å°ç±³ä¸€é¢ç®—æ³•é¢˜â€”â€”äººæ°‘å¸å¤§å†™é‡‘é¢è½¬æ¢</title>
    <link href="http://spiedeman.github.io/posts/8bd25443/"/>
    <id>http://spiedeman.github.io/posts/8bd25443/</id>
    <published>2019-09-09T14:01:15.000Z</published>
    <updated>2021-09-18T02:10:59.612Z</updated>
    
    <content type="html"><![CDATA[<p>30åˆ†é’Ÿå°ç±³ç®—æ³•å·¥ç¨‹å¸ˆä¸€é¢ï¼Œç”±äºæ²¡æœ‰é¡¹ç›®ç»å†é¢è¯•å®˜ç»™äº†ä¸€é“ç®—æ³•é¢˜ï¼Œç°æ’¸ä»£ç ã€‚æ¯«æ— æ„å¤–ï¼Œå¿«é€Ÿç ä»£ç å‘æ¥ä¸æ˜¯æˆ‘çš„å¼ºé¡¹ã€‚</p><p>ç‰¹æ­¤è®°å½•å¤±è´¥å²</p><h3 id="é¢˜ç›®æè¿°">é¢˜ç›®æè¿°</h3><p>æ ¹æ®äººæ°‘å¸å¤§å†™é‡‘é¢è§„èŒƒï¼Œå°†æµ®ç‚¹æ•°è½¬æ¢ä¸ºäººæ°‘å¸è¯»æ³•å­—ç¬¦ä¸²éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š 1. æ•°å­—ä¸­é—´æœ‰è¿ç»­ä¸€ä¸ªæˆ–ä»¥ä¸Šä¸ª 0 æ—¶ï¼Œåªå†™ä¸€ä¸ª<strong>é›¶</strong>ã€‚å¦‚ Â¥ 140,090.3ï¼Œåº”å†™ä½œäººæ°‘å¸åå››ä¸‡é›¶ç–æ‹¾å…ƒåè§’ã€‚ 2. è§’ä½é 0 æ—¶ï¼Œ<strong>å…ƒ</strong>åé¢å¯ä»¥ä¸åŠ <strong>é›¶</strong>ã€‚å¦‚ Â¥ 1690.32ï¼Œå¯ä»¥å†™ä½œäººæ°‘å¸å£¹ä»Ÿé™†ä½°ç–æ‹¾å…ƒåè§’[é›¶]è´°åˆ†ã€‚ 3. è§’ä½æ˜¯ 0ï¼Œåˆ†ä½ä¸æ˜¯ 0 æ—¶ï¼Œå¤§å†™é‡‘é¢<strong>å…ƒ</strong>åé¢åº”å†™<strong>é›¶</strong>ã€‚å¦‚ Â¥ 325.04ï¼Œåº”å†™ä¸ºäººæ°‘å¸åä½°è´°æ‹¾å…ƒé›¶è‚†åˆ†ã€‚ 4. è§’å’Œåˆ†éƒ½æ˜¯ 0 æ—¶ï¼Œ<strong>å…ƒ</strong>åé¢åº”å†™ä¸Š<strong>æ•´</strong>æˆ–<strong>æ­£</strong>ã€‚å¦‚ Â¥ 1234.00ï¼Œåº”å†™ä¸ºäººæ°‘å¸å£¹ä»Ÿè´°ä½°åæ‹¾è‚†å…ƒï¼ˆæ•´/æ­£ï¼‰ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šæœ€å°å•ä½ä¸º<strong>åˆ†</strong>ã€‚</p><h3 id="é¢˜è§£">é¢˜è§£</h3><p>ä¸­æ–‡æ•°å­—è¯»æ³•ä»¥ 4 ä¸ªæ•°å­—ä¸ºä¸€ä¸ªç»„ï¼Œè¾…ä»¥å•ä½å¦‚<strong>ä¸‡ã€äº¿ã€å…†ã€äº¬</strong>ç­‰ã€‚è¿™é‡Œå–åˆ°æœ€é«˜ä¸º<strong>äº¿</strong>ã€‚ç”±äºæ¯ç»„å•ä½ä¸åŒï¼Œä¸€åº¦ä¸çŸ¥å¦‚ä½•å¤„ç†ã€‚å› ä¸ºé‡‘é¢å¤§å°æ²¡æœ‰é™åˆ¶ï¼Œæ‰€ä»¥æ•°å­—ä½æ•°å¯ä»¥å¾ˆå¤§ï¼Œå¦‚æœæ ¹æ®å•ä½ç”¨<code>if...else...</code>è¯­å¥ï¼Œæ˜¯è¡Œä¸é€šçš„ã€‚ åæ¥å‘ç°ï¼Œè¿˜æ˜¯å¯ä»¥ä½¿ç”¨<strong>é€’å½’</strong>æ¥è§£å†³é—®é¢˜ã€‚</p><p>è‡³äº<strong>é›¶</strong>çš„å¤„ç†ï¼Œå¯ä»¥è®¾å®šå­—ç¬¦ä¸²æ›¿æ¢è§„åˆ™ï¼Œä½¿å¾—å¤„ç†åæ»¡è¶³è§„èŒƒã€‚</p><h3 id="ä»£ç ">ä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">ch_num = [<span class="string">'é›¶'</span>, <span class="string">'å£¹'</span>, <span class="string">'è´°'</span>, <span class="string">'å'</span>, <span class="string">'è‚†'</span>, <span class="string">'ä¼'</span>, <span class="string">'é™†'</span>, <span class="string">'æŸ’'</span>, <span class="string">'æŒ'</span>, <span class="string">'ç–'</span>]</span><br><span class="line">ch_num = dict(zip(<span class="string">'0123456789'</span>, ch_num))</span><br><span class="line"></span><br><span class="line">ch_unit = [<span class="string">''</span>, <span class="string">'ä¸‡'</span>, <span class="string">'äº¿'</span>]</span><br><span class="line">ch_unit = dict(zip(range(<span class="number">3</span>), ch_unit)) </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">convert_int</span><span class="params">(intPart)</span>:</span></span><br><span class="line">    <span class="string">""" è½¬æ¢æ•´æ•°éƒ¨åˆ†</span></span><br><span class="line"><span class="string">    intPart: str</span></span><br><span class="line"><span class="string">    return: str</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> len(intPart) &lt;= <span class="number">4</span>:</span><br><span class="line">        <span class="comment"># è‹¥é•¿åº¦å°äº 4ï¼Œ åˆ™è¡¥è¶³åˆ° 4 ä½ã€‚</span></span><br><span class="line">        ans = [ch_num[c] <span class="keyword">for</span> c <span class="keyword">in</span> <span class="string">'0'</span>*(<span class="number">4</span>-len(intPart))+intPart]</span><br><span class="line">        <span class="keyword">if</span> ans[<span class="number">-1</span>] == ch_num[<span class="string">'0'</span>]:</span><br><span class="line">            ans = <span class="string">'&#123;&#125;ä»Ÿ&#123;&#125;ä½°&#123;&#125;æ‹¾'</span>.format(*ans[:<span class="number">-1</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            ans = <span class="string">'&#123;&#125;ä»Ÿ&#123;&#125;ä½°&#123;&#125;æ‹¾&#123;&#125;'</span>.format(*ans)</span><br><span class="line">        <span class="comment"># å¤„ç†ä¸­é—´æœ‰ 0 çš„æƒ…å†µ</span></span><br><span class="line">        ans = ans.replace(<span class="string">'é›¶ä»Ÿ'</span>, ch_num[<span class="string">'0'</span>]) </span><br><span class="line">        ans = ans.replace(<span class="string">'é›¶ä½°'</span>, ch_num[<span class="string">'0'</span>]) </span><br><span class="line">        ans = ans.replace(<span class="string">'é›¶æ‹¾'</span>, ch_num[<span class="string">'0'</span>]) </span><br><span class="line">        <span class="comment"># å¤„ç†ä¸­é—´è¿ç»­å¤šä¸ª 0ï¼Œæœ«å°¾æœ‰é›¶çš„æƒ…å†µ</span></span><br><span class="line">        ans = re.sub(<span class="string">'é›¶+'</span>, ch_num[<span class="string">'0'</span>], ans)</span><br><span class="line">        ans = re.sub(<span class="string">'é›¶+$'</span>, ch_unit[<span class="number">0</span>], ans)</span><br><span class="line">        <span class="comment"># è‹¥å¼€å¤´æœ‰ 0 ä¸”æ•´æ•°éƒ¨åˆ†é•¿åº¦å°äº 4ï¼Œåˆ™ä¸¢å¼ƒå¼€å¤´çš„â€™é›¶â€˜ï¼ˆåªæœ‰ 1 ä¸ªï¼‰ã€‚</span></span><br><span class="line">        <span class="keyword">return</span> ans[<span class="number">4</span>!=len(intPart):]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># é‡‘é¢æ•°å­—é•¿åº¦å¯ä»¥å†™æˆ n = 4 * u + r</span></span><br><span class="line">        u, r = len(intPart) // <span class="number">4</span>, len(intPart) % <span class="number">4</span></span><br><span class="line">        <span class="comment"># è‹¥ r = 0ï¼Œåˆ™ u = u - 1ï¼Œè‡³å°‘å…ˆå¤„ç†å¼€å¤´ 4 ä½ã€‚ä¹‹åå†çœ‹ uï¼Œ</span></span><br><span class="line">        <span class="comment"># è‹¥ u &gt; 2ï¼Œåˆ™å…ˆå¤„ç†ä¸åŒ…æ‹¬æœ€å 8 ä½çš„éƒ¨åˆ†ï¼Œå¦åˆ™å°±å…ˆåªå¤„ç†å¼€å¤´ 4 ä½ã€‚</span></span><br><span class="line">        i = r * (r != <span class="number">0</span>) + <span class="number">4</span> * (max(u - <span class="number">2</span> - (r == <span class="number">0</span>), <span class="number">0</span>) + (r == <span class="number">0</span>))</span><br><span class="line">        <span class="comment"># äºæ˜¯åˆ†æˆä¸¤éƒ¨åˆ†é€’å½’å¤„ç† intPart[:i] å’Œ intPart[i:]</span></span><br><span class="line">        left, right = convert_int(intPart[:i]), convert_int(intPart[i:])</span><br><span class="line">        <span class="comment"># è‹¥å·¦éƒ¨åˆ†è¿”å›ç©ºå­—ç¬¦ä¸² ''ï¼Œåˆ™ä¸åŠ å•ä½ï¼Œå³ j = 0 and ch_unit[j] = ''ã€‚</span></span><br><span class="line">        <span class="comment"># åˆå› ä¸ºæœ€å¤§å•ä½ä¸ºâ€œäº¿â€ï¼Œæ‰€ä»¥ 0 &lt;= j &lt;= 2</span></span><br><span class="line">        j = min(u - (r == <span class="number">0</span>), <span class="number">2</span>) <span class="keyword">if</span> left <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">        <span class="comment"># å¾—åˆ°å•ä½</span></span><br><span class="line">        unit = ch_unit[j]</span><br><span class="line">        <span class="comment"># è¿”å›æœ€ç»ˆç»“æœ</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&#123;&#125;&#123;&#125;&#123;&#125;'</span>.format(left, unit, right)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">convert_decimal</span><span class="params">(decimalPart)</span>:</span></span><br><span class="line">    <span class="string">""" å¤„ç†å°æ•°éƒ¨åˆ†ï¼Œå®¹æ˜“å¤šäº†</span></span><br><span class="line"><span class="string">    decimalPart: str</span></span><br><span class="line"><span class="string">    return: str</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    ans = [ch_num[c] <span class="keyword">for</span> c <span class="keyword">in</span> decimalPart + <span class="string">'0'</span> * (<span class="number">2</span> - len(decimalPart))]</span><br><span class="line">    ans = <span class="string">'&#123;&#125;è§’&#123;&#125;åˆ†'</span>.format(*ans)</span><br><span class="line">    ans = ans.replace(<span class="string">'é›¶è§’'</span>, ch_num[<span class="string">'0'</span>])</span><br><span class="line">    ans = ans.replace(<span class="string">'é›¶åˆ†'</span>, ch_unit[<span class="number">0</span>])</span><br><span class="line">    ans = re.sub(<span class="string">'é›¶+$'</span>, ch_unit[<span class="number">0</span>], ans)</span><br><span class="line">    <span class="comment"># å› ä¸ºä½¿ç”¨é€’å½’å¤„ç†æ•´æ•°éƒ¨åˆ†ï¼Œæ‰€ä»¥æ•´æ•°éƒ¨åˆ†å•ä½â€œå…ƒâ€æ”¾åœ¨è¿™é‡Œå¤„ç†ã€‚</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'å…ƒ&#123;&#125;'</span>.format(ans <span class="keyword">or</span> <span class="string">'æ•´'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">convert_RMB</span><span class="params">(money)</span>:</span></span><br><span class="line">    <span class="string">""" å°†æµ®ç‚¹æ•°è½¬æ¢ä¸ºå¤§å†™äººæ°‘å¸è§„èŒƒè¯»æ³•</span></span><br><span class="line"><span class="string">    money: str</span></span><br><span class="line"><span class="string">    return: str</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">'.'</span> <span class="keyword">in</span> money:</span><br><span class="line">        intPart, decimalPart = money.split(<span class="string">'.'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        intPart, decimalPart = money, ch_unit[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'äººæ°‘å¸&#123;&#125;&#123;&#125;'</span>.format(convert_int(intPart), convert_decimal(decimalPart))</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;30åˆ†é’Ÿå°ç±³ç®—æ³•å·¥ç¨‹å¸ˆä¸€é¢ï¼Œç”±äºæ²¡æœ‰é¡¹ç›®ç»å†é¢è¯•å®˜ç»™äº†ä¸€é“ç®—æ³•é¢˜ï¼Œç°æ’¸ä»£ç ã€‚æ¯«æ— æ„å¤–ï¼Œå¿«é€Ÿç ä»£ç å‘æ¥ä¸æ˜¯æˆ‘çš„å¼ºé¡¹ã€‚&lt;/p&gt;&lt;p&gt;ç‰¹æ­¤è®°å½•å¤±è´¥å²&lt;/p&gt;&lt;h3 id=&quot;é¢˜ç›®æè¿°&quot;&gt;é¢˜ç›®æè¿°&lt;/h3&gt;&lt;p&gt;æ ¹æ®äººæ°‘å¸å¤§å†™é‡‘é¢è§„èŒƒï¼Œå°†æµ®ç‚¹æ•°è½¬æ¢ä¸ºäººæ°‘å¸è¯»æ³•å­—ç¬¦ä¸²éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://spiedeman.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="é¢è¯•" scheme="http://spiedeman.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>Vim æ’ä»¶é…ç½®</title>
    <link href="http://spiedeman.github.io/posts/6e83abdb/"/>
    <id>http://spiedeman.github.io/posts/6e83abdb/</id>
    <published>2019-09-02T02:18:29.000Z</published>
    <updated>2021-09-18T02:10:59.622Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è¯­æ³•æ£€æŸ¥ä¸ä»£ç æ ¼å¼åŒ–ale">è¯­æ³•æ£€æŸ¥ä¸ä»£ç æ ¼å¼åŒ–â€”â€”ALE</h2><h3 id="å¼‚æ­¥æ£€æŸ¥è¯­æ³•">å¼‚æ­¥æ£€æŸ¥è¯­æ³•</h3><ul><li><a href="https://pycodestyle.readthedocs.io/en/latest/#" target="_blank" rel="noopener">pycodestyle</a> â€”â€” å‰èº«ä¸ºpep8ï¼Œæ£€æŸ¥Pythonè¯­æ³•ä»¥åŠæ ¼å¼</li></ul><p><strong>å®‰è£…</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pycodestyle</span><br></pre></td></tr></table></figure><p></p><p><strong>é…ç½®</strong></p><p>é…ç½®æ–‡ä»¶åœ¨ <code>~/.config/pycodestyle</code>ã€‚</p><h3 id="ä»£ç æ ¼å¼åŒ–">ä»£ç æ ¼å¼åŒ–</h3><ul><li><a href="https://github.com/google/yapf" target="_blank" rel="noopener">yapf</a> â€”â€” Googleå‡ºå“çš„Pythonä»£ç æ ¼å¼åŒ–å·¥å…·</li><li><a href="https://isort.readthedocs.io/en/latest/#" target="_blank" rel="noopener">isort</a> â€”â€” æ ¼å¼åŒ– <code>import</code> è¯­å¥</li></ul><p><strong>å®‰è£…</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install yapf</span><br><span class="line">pip install isort</span><br></pre></td></tr></table></figure><p></p><p><strong>é…ç½®</strong></p><p>é…ç½®æ–‡ä»¶åœ¨ <code>~/.config/yapf/style</code> å’Œ <code>~/.isort.cfg</code>ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;è¯­æ³•æ£€æŸ¥ä¸ä»£ç æ ¼å¼åŒ–ale&quot;&gt;è¯­æ³•æ£€æŸ¥ä¸ä»£ç æ ¼å¼åŒ–â€”â€”ALE&lt;/h2&gt;&lt;h3 id=&quot;å¼‚æ­¥æ£€æŸ¥è¯­æ³•&quot;&gt;å¼‚æ­¥æ£€æŸ¥è¯­æ³•&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://pycodestyle.readthedocs.io/en/latest/#&quot; targe
      
    
    </summary>
    
      <category term="Vim" scheme="http://spiedeman.github.io/categories/Vim/"/>
    
    
      <category term="Vim-æ’ä»¶" scheme="http://spiedeman.github.io/tags/Vim-%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>å­—ç¬¦ä¸²åŒ¹é…ä¹‹KMPç®—æ³•</title>
    <link href="http://spiedeman.github.io/posts/b5ae7cab/"/>
    <id>http://spiedeman.github.io/posts/b5ae7cab/</id>
    <published>2019-08-18T03:20:11.000Z</published>
    <updated>2021-09-18T02:10:59.542Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>é—®é¢˜</strong>ï¼šç»™å®šé•¿åº¦ä¸º <span class="math inline">\(n\)</span>ï¼Œ<span class="math inline">\(m\)</span> çš„<strong>ç›®æ ‡</strong>å­—ç¬¦ä¸²<code>s</code>å’Œ<strong>æ¨¡å¼</strong>å­—ç¬¦ä¸²<code>p</code>ï¼Œåˆ¤æ–­<code>p</code>æ˜¯å¦æ˜¯<code>s</code>çš„å­ä¸²ã€‚è‹¥æ˜¯ï¼Œ è¿”å›åŒ¹é…ä½ç½®ï¼›å¦åˆ™è¿”å› <span class="math inline">\(-1\)</span>ã€‚</p></blockquote><h4 id="æš´åŠ›ç®—æ³•">æš´åŠ›ç®—æ³•</h4><ul><li>æ¨¡å¼ä¸²ä»ç›®æ ‡ä¸²çš„<strong>ç¬¬ä¸€ä¸ªå…ƒç´ </strong>å¼€å§‹åŒ¹é…</li><li>åŒ¹é…å¤±è´¥ï¼Œåˆ™<strong>ç›®æ ‡ä¸²</strong>å³ç§»ä¸€ä½é‡æ–°åˆ¤æ–­æ˜¯å¦åŒ¹é…æ¨¡å¼ä¸²</li></ul><img src="/posts/b5ae7cab/bf-1.gif" title="æš´åŠ›ç®—æ³•æœ€ä¼˜æƒ…å†µ"><table style="width:10%"><colgroup><col style="width:9%"></colgroup><tbody><tr class="odd"><td>æœ€åæƒ…å†µä¸º <span class="math inline">\(O(mn)\)</span>ã€‚</td></tr><tr class="even"><td><img src="/posts/b5ae7cab/bf-2.gif" title="æš´åŠ›ç®—æ³•æœ€åæƒ…å†µ"></td></tr></tbody></table><h4 id="kmp">KMP</h4><p>é€šè¿‡è§‚å¯Ÿæˆ‘ä»¬å¯ä»¥æé—®ï¼š &gt; æ˜¯å¦é‡åˆ°ä¸åŒ¹é…æ—¶ï¼Œåªèƒ½å³ç§» <strong>ä¸€ä½</strong> é‡æ–°åˆ¤æ–­ï¼Ÿ</p><p>å½“æ¨¡å¼ä¸²çš„ç¬¬ <span class="math inline">\(k\)</span> ä½å¤±é…æ—¶ï¼Œå‰ <span class="math inline">\(k-1\)</span> ä½æ˜¯å·²ç»åŒ¹é…çš„ã€‚é‚£ä¹ˆå¯ä»¥é—®è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼š &gt; å³ç§»å¤šå°‘ä½ä¹‹ååŒ¹é…çš„æŒ‡é’ˆä¸å¿…å¾€å‰ç§»åŠ¨ï¼Œåœ¨å½“å‰ä½ç½®çš„åŸºç¡€ä¸Šç»§ç»­å¾€åå¼€å§‹åŒ¹é…ï¼Œç›´åˆ°åŒ¹é…æˆåŠŸæˆ–è€…å†æ¬¡é‡åˆ°å¤±é…ä½ï¼Ÿ</p><img src="/posts/b5ae7cab/kmp-1.gif" title="kmpç®—æ³•ç¤ºæ„å›¾"><table style="width:8%"><colgroup><col style="width:8%"></colgroup><tbody><tr class="odd"><td>é¦–å…ˆæå‡ºä¸€ä¸ªæ¦‚å¿µï¼šå­—ç¬¦ä¸²å‰ç¼€å’Œåç¼€çš„<strong>æœ€å¤§å…¬å…±é•¿åº¦</strong>ã€‚å‡è®¾æœ€å¤§å…¬å…±é•¿åº¦ä¸º <span class="math inline">\(j\)</span>ï¼Œå­—ç¬¦ä¸²é•¿åº¦ä¸º <span class="math inline">\(n\)</span>ï¼Œé‚£ä¹ˆå³ç§» <span class="math inline">\(n-j\)</span> ä½åï¼Œå‰ <span class="math inline">\(j\)</span> ä½æ˜¯å·²ç»åŒ¹é…äº†çš„ã€‚</td></tr><tr class="even"><td><img src="/posts/b5ae7cab/kmp-2.jpg" title="å‰åç¼€æœ€å¤§å…¬å…±é•¿åº¦"></td></tr></tbody></table><p><strong>æœ€å¤§å…¬å…±é•¿åº¦</strong>ä¸­çš„<strong>æœ€å¤§</strong>è¡¨ç¤ºä¸ºäº†åŒ¹é…éœ€è¦å³ç§»çš„<strong>æœ€å°‘</strong>ä½æ•°ã€‚ä¹Ÿè®¸å³ç§»æ›´å¤šä½ä¹Ÿèƒ½åŒ¹é…ï¼Œä½†å¯èƒ½ä¼šæ¼æ‰è§£ã€‚</p><table style="width:8%"><colgroup><col style="width:8%"></colgroup><tbody><tr class="odd"><td>#### Nextæ•°ç»„ ç°åœ¨æˆ‘ä»¬æ¸…æ¥šäº†ï¼Œä¸ºäº†ä½¿åŒ¹é…æŒ‡é’ˆä¸å¾€å‰ç§»ï¼Œæœ‰æ•ˆåˆ©ç”¨å·²ç»è·å¾—çš„åŒ¹é…ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ¨¡å¼ä¸²è¿›è¡Œé¢„å¤„ç†ã€‚ç›´è§‚åœ°è¯´å°±æ˜¯æˆ‘ä»¬éœ€è¦çŸ¥é“å½“åŒ¹é…åˆ°æ¨¡å¼ä¸²çš„ç¬¬å‡ ä¸ªå…ƒç´ å¤±é…æ—¶ï¼Œåº”è¯¥å³ç§»å¤šå°‘ä½ã€‚è¿™å°±æ˜¯<strong>Nextæ•°ç»„</strong>çš„å«ä¹‰ã€‚</td></tr><tr class="even"><td>åœ¨ <span class="math inline">\(\text{Python}\)</span> ä¸­ï¼Œæ•°ç»„ä¸‹æ ‡ä» <span class="math inline">\(0\)</span> å¼€å§‹ï¼Œä»¥æ­¤ä¸ºå‰æã€‚å‡è®¾ä¸‹æ ‡ä¸º <span class="math inline">\(j\)</span>ï¼ˆç¬¬ <span class="math inline">\(j+1\)</span> ä½ï¼‰å¤±é…ï¼Œåˆ™åŒ¹é…é•¿åº¦ä¸º <span class="math inline">\(j\)</span>ã€‚åˆè®¾æœ€å¤§å…¬å…±é•¿åº¦ä¸º <span class="math inline">\(i\)</span>ï¼Œåˆ™åº”å³ç§» <span class="math inline">\(j-i\)</span> ä½ï¼Œä½¿å¤±é…ä½ä¸ºæ¨¡å¼ä¸²ç¬¬ <span class="math inline">\(i+1\)</span> ä½ï¼Œå³ä¸‹æ ‡ä¸º <span class="math inline">\(i\)</span>ã€‚æ•…æœ‰ <span class="math inline">\(\text{next}[j]=i\)</span>ã€‚</td></tr><tr class="odd"><td>é—®é¢˜å˜ä¸º <strong>å¦‚ä½•å¿«é€Ÿè®¡ç®—æœ€å¤§å…¬å…±é•¿åº¦ <span class="math inline">\(i\)</span></strong> ï¼Ÿ</td></tr><tr class="even"><td><strong>Nextæ•°ç»„</strong>çš„ç®—æ³•æ­¥éª¤å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç¨åå†è¯¦ç»†è®¨è®ºå…¶è¿‡ç¨‹ã€‚</td></tr><tr class="odd"><td><img src="/posts/b5ae7cab/next-1.gif" title="Nextæ•°ç»„ç®—æ³•æ­¥éª¤ç¤ºæ„å›¾"></td></tr></tbody></table><p>å‡è®¾å·²çŸ¥æ¨¡å¼ä¸² <span class="math inline">\(\text{P}\)</span> æœ‰ <span class="math inline">\(\text{next}[q]=k\)</span>ï¼Œè¯´æ˜å‰ <span class="math inline">\(q\)</span> ä½å­—ç¬¦ä¸²çš„æœ€å¤§å…¬å…±é•¿åº¦ä¸º <span class="math inline">\(k\)</span>ã€‚å³æœ‰ <span class="math inline">\(\text{P}[0]=\text{P}[q-k],\cdots, \text{P}[k-1]=\text{P}[q-1]\)</span>ã€‚é—® <span class="math inline">\(\text{next}[q+1]=?\)</span></p><img src="/posts/b5ae7cab/next-2.png" title="Nextæ•°ç»„è®¡ç®—"><p>è‹¥ <span class="math inline">\(\text{P}[q]=\text{P}[k]\)</span>ï¼Œåˆ™<span class="math inline">\(\text{next}[q+1]=\text{next}[q]+1=k+1\)</span>ã€‚è‹¥ <span class="math inline">\(\text{P}[q]\neq \text{P}[k]\)</span>ï¼Œé‚£ä¹ˆ <span class="math inline">\(\text{next}[q]\)</span> ç­‰äºå¤šå°‘ï¼Ÿ</p><img src="/posts/b5ae7cab/next-3.png" title="Nextæ•°ç»„è®¡ç®—"><p>å‡è®¾ <span class="math inline">\(\text{next}[q+1]=j+1\)</span>ï¼Œåˆ™æœ‰ <span class="math display">\[\text{P}[0] = \text{P}[q-j],\cdots,\text{P}[j-1]=\text{P}[q-1],\text{P}[j]=\text{P}[q] \]</span> åˆå› ä¸º <span class="math inline">\(\text{next}[q]=k\)</span>ï¼Œæ‰€ä»¥æœ‰ <span class="math display">\[ \text{P}[k-j]=\text{P}[q-j],\cdots,\text{P}[k-1]=\text{P}[q-1] \]</span> ç”±ä¸Šé¢ä¸¤å¼å¯çŸ¥ï¼Œ <span class="math display">\[ \text{P}[0]=\text{P}[k-j],\cdots,\text{P}[j-1]=\text{P}[k-1] \]</span></p><p>è¿™è¯´æ˜ <span class="math inline">\(j\)</span> æœ€å¤§å¯ä»¥å–åˆ° <span class="math inline">\(\text{next}[k]\)</span>ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åº”è¯¥æ¯”è¾ƒ <span class="math inline">\(\text{P}[q]\)</span> å’Œ <span class="math inline">\(\text{P}[\text{next}[\text{next}[q]]]\)</span>ã€‚ç»è¿‡ä¸€ç‚¹æ€è€ƒå¯çŸ¥ï¼Œ<span class="math inline">\(\text{P}[q]\)</span> å°†ä¾æ¬¡ä¸åºåˆ— <span class="math inline">\(\{\text{P}[\text{next}[q]],\text{P}[\text{next}[\text{next}[q]]],\cdots,\text{P}[\text{next}^{(n)}[q]] \}\)</span> ä¸­çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œç›´åˆ°<strong>ç›¸ç­‰</strong>æˆ–<span class="math inline">\(\text{next}^{(n)}[q]=0\)</span>ã€‚</p><h4 id="python-å®ç°">Python å®ç°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Next</span><span class="params">(p)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    è¿”å›æ¨¡å¼ä¸²çš„Nextï¼ˆä¼˜åŒ–ï¼‰æ•°ç»„</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    ans = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> p]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(p) - <span class="number">1</span>):</span><br><span class="line">        k = ans[i]</span><br><span class="line">        <span class="keyword">while</span> k:</span><br><span class="line">            <span class="keyword">if</span> p[k] == p[i]:</span><br><span class="line">                ans[i+<span class="number">1</span>] = k + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">               k = ans[k]</span><br><span class="line">        <span class="keyword">if</span> ans[i+<span class="number">1</span>] == <span class="number">0</span> <span class="keyword">and</span> p[<span class="number">0</span>] == p[i]:</span><br><span class="line">            ans[i+<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">    <span class="comment"># ç¬¬äºŒä¸ªforå¾ªç¯ç»™å‡ºä¼˜åŒ–KMPç®—æ³•çš„Nextæ•°ç»„</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, len(p)):</span><br><span class="line">        <span class="keyword">if</span> ans[i] == i - <span class="number">1</span>:</span><br><span class="line">            ans[i] = <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">KMP</span><span class="params">(s, p)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    è¿”å›æ¨¡å¼ä¸² p åœ¨ç›®æ ‡ä¸² s ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    _next = Next(p)</span><br><span class="line"></span><br><span class="line">    i, j = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    ns, np = len(s), len(p)</span><br><span class="line">    <span class="keyword">while</span> i &lt; ns <span class="keyword">and</span> j &lt; np:</span><br><span class="line">        <span class="keyword">if</span> s[i] == p[j]:</span><br><span class="line">            i, j = i + <span class="number">1</span>, j + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> j == <span class="number">0</span>:</span><br><span class="line">                i = i + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># é‡åˆ°å¤±é…æ—¶å¿«é€Ÿç§»åŠ¨æ¨¡å¼ä¸²ï¼Œä¼˜äºæš´åŠ›ç®—æ³•çš„åœ°æ–¹</span></span><br><span class="line">                j = _next[j]</span><br><span class="line">    <span class="keyword">if</span> j == np:</span><br><span class="line">        <span class="keyword">return</span> i - j</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;é—®é¢˜&lt;/strong&gt;ï¼šç»™å®šé•¿åº¦ä¸º &lt;span class=&quot;math inline&quot;&gt;\(n\)&lt;/span&gt;ï¼Œ&lt;span class=&quot;math inline&quot;&gt;\(m\)&lt;/span&gt; çš„&lt;strong&gt;ç›®æ ‡&lt;/strong&gt;å­—
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://spiedeman.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="å­—ç¬¦ä¸²åŒ¹é…" scheme="http://spiedeman.github.io/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D/"/>
    
  </entry>
  
  <entry>
    <title>Python-æ•°å€¼ç§¯åˆ†åˆå€¼å¸¸å¾®åˆ†æ–¹ç¨‹ç»„</title>
    <link href="http://spiedeman.github.io/posts/7f1dadbd/"/>
    <id>http://spiedeman.github.io/posts/7f1dadbd/</id>
    <published>2019-07-09T09:27:35.000Z</published>
    <updated>2021-09-18T02:10:59.622Z</updated>
    
    <content type="html"><![CDATA[<p>é€šå¸¸å¯ä»¥å°†å¸¸å¾®åˆ†æ–¹ç¨‹ç»„çš„æ±‚è§£é—®é¢˜åˆ†æˆä¸¤ç±»ï¼š - åˆå€¼é—®é¢˜ - è¾¹ç•Œé—®é¢˜</p><p>è¿™é‡Œè®¨è®º<strong>åˆå€¼</strong>å¸¸å¾®åˆ†æ–¹ç¨‹ç»„çš„æ•°å€¼æ±‚è§£ï¼Œç”¨åˆ°çš„å·¥å…·ä¸º<code>scipy.integrate</code>æ¨¡å—ä¸­çš„<code>solve_ivp</code>å‡½æ•°ã€‚æ¥æ”¶çš„å‚æ•°å’Œè¿”å›å€¼åˆ†åˆ«ä¸º</p><p><strong>å‚æ•°</strong>ï¼š - <code>fun</code>: <em>å‡½æ•°</em></p><pre><code>ä¸€é˜¶å¸¸å¾®åˆ†æ–¹ç¨‹ç»„çš„å³ç«¯ï¼Œ`dy / dt = f(t, y)`ã€‚`t`ä¸ºæ ‡é‡ï¼Œ`y`å¯ä»¥æ˜¯ä¸€ç»´æ•°ç»„ï¼Œæˆ–äºŒç»´æ•°ç»„ï¼ˆæ¯ä¸€åˆ—è¡¨ç¤ºä¸€ä¸ªå‡½æ•°`y`ï¼‰ã€‚è‹¥å‚æ•°`vectorized`ä¸ºçœŸï¼Œåˆ™`y`å¯ä»¥æ˜¯äºŒç»´æ•°ç»„ï¼Œè¿™ä¸€çŸ¢é‡åŒ–çš„å®ç°æ˜¯ä¸ºäº†åœ¨åˆšæ€§é—®é¢˜ä¸­å…è®¸é€šè¿‡æœ‰é™å·®åˆ†æ›´å¿«åœ°ä¼°è®¡é›…å¯æ¯”çŸ©é˜µã€‚</code></pre><ul><li><p><code>t_span</code>: <em>é•¿åº¦ä¸º2çš„æµ®ç‚¹æ•°å…ƒç»„</em></p>ç§¯åˆ†åŒºé—´ä¸º<code>[t0, tf]</code>ã€‚</li><li><p><code>y0</code>: <em>ä¸€ç»´æ•°ç»„</em></p>ç³»ç»Ÿåˆå€¼ã€‚è‹¥è¦åœ¨å¤æ•°åŸŸä¸Šæ±‚è§£ï¼Œåˆ™ä½¿<code>y0</code>çš„<code>data type</code>ä¸ºå¤æ•°ã€‚ ï¼ˆä»¥ä¸‹ä¸ºå¸¸ç”¨å¯é€‰å‚æ•°ï¼‰</li><li><p><code>method</code>: <em>æ–¹æ³•å</em></p>ç§¯åˆ†æ–¹æ³•æœ‰å¦‚ä¸‹å‡ ç§ï¼š<ul><li><code>RK45</code>ï¼ˆé»˜è®¤ï¼‰ï¼š45é˜¶é¾™æ ¼åº“å¡”æ³•ã€‚</li><li><code>RK23</code>ï¼š23é˜¶é¾™æ ¼åº“å¡”æ³•ã€‚</li><li><code>Radau</code>ï¼š5é˜¶éšå¼é¾™æ ¼åº“å¡”æ³•ã€‚</li><li><code>RK23</code>ï¼š23é˜¶é¾™æ ¼åº“å¡”æ³•ã€‚</li><li><code>Radau</code>ï¼š5é˜¶éšå¼é¾™æ ¼åº“å¡”æ³•ã€‚</li><li><code>BDF</code>ï¼šåŸºäºåå‘å¾®åˆ†å…¬å¼çš„éšå¼å¤šæ­¥å˜é˜¶æ³•ã€‚</li><li><code>LSODA</code>ï¼šAdams/BDFæ–¹æ³•ï¼Œå¸¦æœ‰åˆšæ€§æ£€æµ‹å’Œè½¬æ¢åŠŸèƒ½ã€‚</li></ul><p>éåˆšæ€§é—®é¢˜ä½¿ç”¨ <code>RK45</code>æˆ–<code>RK23</code>ï¼Œåˆšæ€§é—®é¢˜ä½¿ç”¨<code>Radau</code>æˆ–<code>BDF</code>ã€‚ä¹Ÿå¯ä»¥ä¼ é€’ä»»æ„ä¸€ä¸ªå®ç°æ±‚è§£åŠŸèƒ½çš„<code>OdeSolver</code>çš„å­ç±»ã€‚</p></li><li><p><code>dense_output</code>: <em>å¸ƒå°”å€¼</em></p><p>æ˜¯å¦è®¡ç®—è¿ç»­è§£ï¼Œé»˜è®¤ä¸º<code>False</code>ã€‚</p></li><li><p><code>t_eval</code>: <em>ä¸€ç»´æ•°ç»„æˆ–None</em></p><p>å¯¹è§£çš„å€¼æ„Ÿå…´è¶£çš„ä¸€ç»„æ—¶åˆ»ã€‚é»˜è®¤ç”±solverå†³å®šã€‚</p></li><li><p><code>events</code>: <em>å‡½æ•°æˆ–å‡½æ•°åˆ—è¡¨</em></p><p>è¿½è¸ªçš„äº‹ä»¶ã€‚é»˜è®¤ä¸ºNoneï¼Œè¡¨ç¤ºæ²¡æœ‰äº‹ä»¶éœ€è¦è¢«è¿½è¸ªã€‚æ¯ä¸€ä¸ªè¿”å›å€¼ä¸ºfloatçš„å½¢å¦‚<code>event(t, y)</code>çš„å‡½æ•°éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªè¿½è¸ªå™¨ã€‚solverä¼šä½¿ç”¨root-findingç®—æ³•æ‰¾åˆ°<code>event(t, y) = 0</code>çš„æ—¶åˆ»<code>t</code>ã€‚æ¯ä¸ª<em>äº‹ä»¶</em>å‡½æ•°å¯èƒ½æ‹¥æœ‰ä¸‹é¢çš„ä¸¤ä¸ªå±æ€§ï¼š &gt; terminal: bool, optional &gt; &gt; æ˜¯å¦åœ¨äº‹ä»¶å‘ç”Ÿæ—¶ç»ˆæ­¢ç§¯åˆ†ã€‚æ— æ­¤å±æ€§ç­‰ä»·äºFalseã€‚ &gt; direction: float, optional &gt; &gt; è¡¨ç¤ºç©¿è¿‡é›¶ç‚¹çš„æ–¹å‘ã€‚directionä¸ºæ­£ï¼Œåˆ™äº‹ä»¶åªä¼šä»¥è´Ÿåˆ°æ­£çš„æ–¹å¼ç©¿è¿‡é›¶ç‚¹æ—¶æ‰ä¼šè¢«è§¦å‘ï¼Œ &gt; åä¹‹åˆ™directionä¸ºè´Ÿã€‚è‹¥ä¸ºé›¶ï¼Œåˆ™å·²ä»»æ„æ–¹å¼ç©¿è¿‡é›¶ç‚¹éƒ½ä¼šè¢«è§¦å‘ã€‚æ— æ­¤å±æ€§ç­‰ä»·äº0ã€‚</p></li><li><p><code>vectorized</code>: <em>å¸ƒå°”å€¼</em> å‡½æ•°æ˜¯å¦ä»¥çŸ¢é‡åŒ–æ–¹å¼å®ç°ã€‚</p></li></ul><p><strong>è¿”å›å€¼</strong> - <code>t</code>: <em>æ•°ç»„</em></p><pre><code>`t_eval`å¯¹åº”çš„æ—¶åˆ»ã€‚</code></pre><ul><li><p><code>y</code>: <em>æ•°ç»„</em></p>è§£åœ¨æ—¶åˆ»<code>t</code>çš„å€¼ã€‚</li><li><p><code>sol</code>: <em>OdeSolution</em> æˆ– <em>None</em></p>å¦‚æœ<code>dense_output</code>ä¸ºFalseï¼Œåˆ™ä¸ºNoneï¼Œå¦åˆ™ä¸ºæ‰¾åˆ°çš„è§£ï¼Œä½œä¸ºOdeSolutionçš„ä¸€ä¸ªå®ä¾‹ã€‚</li><li><p><code>t_events</code>: <em>åˆ—è¡¨</em> æˆ– <em>None</em></p><p>åŒ…å«ä¸€ç»„æ•°ç»„ï¼Œæ¯ä¸ªæ•°ç»„å¯¹åº”ä¸€ä¸ªäº‹ä»¶ï¼ŒåŒ…å«æ‰€æœ‰è¯¥äº‹ä»¶å‘ç”Ÿæ—¶çš„æ—¶åˆ»ã€‚</p></li></ul><p>ä¾‹å­å¯åœ¨<a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.integrate.solve_ivp.html#r179348322575-1" target="_blank" rel="noopener">æ­¤å¤„</a>æ‰¾åˆ°ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;é€šå¸¸å¯ä»¥å°†å¸¸å¾®åˆ†æ–¹ç¨‹ç»„çš„æ±‚è§£é—®é¢˜åˆ†æˆä¸¤ç±»ï¼š - åˆå€¼é—®é¢˜ - è¾¹ç•Œé—®é¢˜&lt;/p&gt;&lt;p&gt;è¿™é‡Œè®¨è®º&lt;strong&gt;åˆå€¼&lt;/strong&gt;å¸¸å¾®åˆ†æ–¹ç¨‹ç»„çš„æ•°å€¼æ±‚è§£ï¼Œç”¨åˆ°çš„å·¥å…·ä¸º&lt;code&gt;scipy.integrate&lt;/code&gt;æ¨¡å—ä¸­çš„&lt;code&gt;solve_ivp&lt;/code&gt;
      
    
    </summary>
    
      <category term="æ•°å€¼è®¡ç®—" scheme="http://spiedeman.github.io/categories/%E6%95%B0%E5%80%BC%E8%AE%A1%E7%AE%97/"/>
    
    
      <category term="Python" scheme="http://spiedeman.github.io/tags/Python/"/>
    
      <category term="Scipy" scheme="http://spiedeman.github.io/tags/Scipy/"/>
    
      <category term="æ•°å€¼è®¡ç®—" scheme="http://spiedeman.github.io/tags/%E6%95%B0%E5%80%BC%E8%AE%A1%E7%AE%97/"/>
    
  </entry>
  
  <entry>
    <title>æ¬¡åºç»Ÿè®¡é‡</title>
    <link href="http://spiedeman.github.io/posts/8a864e22/"/>
    <id>http://spiedeman.github.io/posts/8a864e22/</id>
    <published>2019-05-28T00:59:11.000Z</published>
    <updated>2021-09-18T02:10:59.612Z</updated>
    
    <content type="html"><![CDATA[<p>è®¾ <span class="math inline">\(X_1,\dots,X_n\)</span> ç‹¬ç«‹åŒåˆ†å¸ƒï¼Œæ¦‚ç‡å¯†åº¦å‡½æ•°ä¸ç´¯ç§¯åˆ†å¸ƒå‡½æ•°åˆ†åˆ«ä¸º <span class="math inline">\(f(x;\theta)\)</span> å’Œ <span class="math inline">\(F(x;\theta)\)</span>ï¼Œ<span class="math inline">\(\theta\)</span> ä¸ºåˆ†å¸ƒæ—çš„å‚æ•°ã€‚ä¸ºäº†ç®€åŒ–è¡¨è¾¾å¼ï¼Œåæ–‡å°†çœç•¥å‚æ•° <span class="math inline">\(\theta\)</span>ï¼Œé»˜è®¤ä¸ºå·²çŸ¥å¸¸æ•°ã€‚è®¾ <span class="math inline">\(X_{(1)}\le \dots\le X_{(n)}\)</span>ï¼Œä¸ºç›¸åº”çš„æ¬¡åºç»Ÿè®¡é‡ã€‚<span class="math inline">\(X_{(i)}\)</span> ä¸å¯¹åº”æŸä¸ªç¡®å®šçš„ <span class="math inline">\(X_j\)</span>ï¼Œå› ä¸ºæ¯æ¬¡è¯•éªŒï¼Œ<span class="math inline">\(x_1,\dots,x_n\)</span> çš„ç›¸å¯¹å¤§å°å…³ç³»éƒ½ä¸åŒã€‚å†åŠ ä¸Šå¯¹ <span class="math inline">\(X\sim f(x)\)</span>ç»å¯¹è¿ç»­å‹åˆ†å¸ƒçš„å‡è®¾ï¼Œå³ <span class="math inline">\(P(X_{(i)}=X_{(j)})=0,i\ne j;P(X_{(1)}\lt\dots\lt X_{(n)})=1\)</span>ã€‚ä¸‹æ–‡å°†åœ¨å‰è¿°åŸºç¡€ä¸Šè¿›è¡Œæ¨å¯¼ã€‚</p><p><strong>ç§¯åˆ†æ’ç­‰å¼</strong> <span class="math display">\[ \sum^n_{l=i}{n\choose l}p^l(1-p)^{n-l}=i{n\choose i}\int^p_0dt\ t^{i-1}(1-t)^{n-i},\quad 0\le t\le p\le 1. \]</span></p><p><strong>æ¦‚ç‡å¯†åº¦å‡½æ•° <span class="math inline">\(f_{(i)}(x)\)</span></strong></p><p><span class="math inline">\(f_{(i)}(x)\)</span> è¡¨ç¤º <span class="math inline">\(X_{(i)}\in[x,x+dx]\)</span> çš„ç²¾ç¡®åˆ°ä¸€é˜¶çš„æ¦‚ç‡ã€‚è¿™å¯¹åº”è¿™æ ·ä¸€ç§æƒ…å†µï¼šæœ‰ä¸€ä¸ª <span class="math inline">\(X\)</span> è½åœ¨åŒºé—´ <span class="math inline">\([x,x+dx]\)</span>ï¼Œ<span class="math inline">\(i-1\)</span> ä¸ª <span class="math inline">\(X\)</span> è½åœ¨åŒºé—´ <span class="math inline">\([-\infty,x]\)</span>ï¼Œ<span class="math inline">\(n-i\)</span> ä¸ª <span class="math inline">\(X\)</span> è½åœ¨åŒºé—´ <span class="math inline">\([x+dx,\infty]\)</span>ã€‚äºŒé˜¶åŠé«˜é˜¶å¯¹åº”çš„æƒ…å½¢ä¸ºï¼Œæœ‰ä¸¤ä¸ªåŠä»¥ä¸Šçš„ <span class="math inline">\(X\)</span> è½åœ¨åŒºé—´ <span class="math inline">\([x,x+dx]\)</span>ï¼Œè®¡ç®— <span class="math inline">\(f_{(i)}(x)\)</span> ä¸éœ€è¦è€ƒè™‘ã€‚å› æ­¤æœ‰</p><p><span class="math display">\[ f_{(i)}(x)=n{n-1\choose i-1}[F(x)]^{i-1}f(x)[1-F(x)]^{n-i} \tag{1} \]</span></p><p><strong>ç´¯ç§¯åˆ†å¸ƒå‡½æ•°<span class="math inline">\(F_{(i)}(x)\)</span></strong></p><p><span class="math display">\[ \begin{aligned} F_{(i)}(x)&amp;=\int^x_{-\infty}dy\ f_{(i)}(y) \\ &amp;=n{n-1\choose i-1}\int^{F(x)}_0dF(y)\ F(y)^{i-1}[1-F(y)]^{n-i} \\ &amp;=n{n-1\choose i-1}\sum^n_{j=i}\frac{(n-i)!}{(n-j)!}\frac{(i-1)!}{j!}F(x)^j[1-F(x)]^{n-j}\\ &amp;=\sum^n_{j=i}{n\choose j}F(x)^j[1-F(x)]^{n-j} \end{aligned} \tag{2} \]</span></p><p>è¿™ä¸ªç»“æœä¹Ÿå¾ˆå¥½ç†è§£ï¼Œ<span class="math inline">\(F_{(i)}(x)\)</span> è¡¨ç¤ºæ¦‚ç‡ <span class="math inline">\(\text{P}_\text{r}(X_{(i)}\le x)\)</span>ã€‚<span class="math inline">\(X_{(i)}\le x\)</span> è¡¨ç¤ºè‡³å°‘æœ‰ <span class="math inline">\(j\ge i\)</span> ä¸ª <span class="math inline">\(X\)</span> è½åœ¨åŒºé—´ <span class="math inline">\([-\infty,x]\)</span>ï¼Œå¯¹æ¯ä¸ª <span class="math inline">\(j\)</span>ï¼Œå…±æœ‰ <span class="math inline">\({n\choose j}\)</span> ä¸ªé€‰æ‹©ã€‚</p><p><strong>æ¦‚ç‡å¯†åº¦å‡½æ•° <span class="math inline">\(f_{(i,j)}(x)\)</span></strong></p><p>è€ƒè™‘ <span class="math inline">\(X_{(i)},X_{(j)}\)</span> çš„è”åˆæ¦‚ç‡å¯†åº¦å‡½æ•° <span class="math inline">\(f_{(i,j)}(x,y)\)</span>ï¼Œä¸å¦¨è®¾ <span class="math inline">\(i\lt j\)</span>ã€‚ç±»ä¼¼ <span class="math inline">\(f_{(i)}(x)\)</span> çš„æ¨å¯¼ï¼Œå¯ä»¥ç›´æ¥å†™å‡º <span class="math inline">\(f_{(i,j)}(x,y)\)</span> <span class="math display">\[ f_{(i,j)}(x,y)=2{n\choose i-1}{n-i+1\choose n-j}{j-i+1\choose 2}F(x)^{i-1}[1-F(x)]^{n-j}[F(y)-F(x)]^{j-i-1}f(x)f(y)I\{x\lt y\} \tag{3} \]</span></p><p>æ­¤å¤„ <span class="math display">\[ I\{x\le y\}= \begin{cases} 1,&amp; x\le y\\ 0,&amp; x\gt y \end{cases} \tag{4} \]</span></p><p><strong>ç´¯ç§¯åˆ†å¸ƒå‡½æ•° <span class="math inline">\(F_{(i,j)}(x,y)\)</span></strong></p><p><span class="math display">\[ \begin{aligned} F_{(i,j)}(x,y)&amp;=\int^x_{-\infty}dx\int^y_{-\infty}dy\ f_{(i,j)}(x,y)\\ &amp;=2{n\choose i-1}{n-i+1\choose j-i+1}{n-j\choose2} \int^x_{-\infty}ds\int^y_{-\infty}dt\ F(s)^{i-1}[F(t)-F(s)]^{j-i-1}[1-F(t)]^{n-i}f(s)f(t) I\{s\lt t\}\\ &amp;=2{n\choose i-1}{n-i+1\choose j-i+1}{n-j\choose2} \int^{F(x)}_0dF(s)\ F(s)^{i-1}\int^{F(y)}_{F(s)}dF(t)[F(t)-F(s)]^{j-i-1}[1-F(t)]^{n-j}I\{s\lt y\}\\ &amp;=2{n\choose i-1}{n-i+1\choose j-i+1}{n-j\choose2} \int^{F(x)}_0dF(s)\ F(s)^{i-1}\sum^{n-j}_{k=0}\frac{(n-j)!}{(n-j-k)!}\frac{(j-i-1)!}{(j-i+k)!}[F(y)-F(s)]^{j-i+k}[1-F(y)]^{n-j-k}I\{s\lt y\}\\ &amp;=i\sum^n_{k=j}{n\choose k}{k\choose i}[1-F(y)]^{n-k} \int^{F(x)}_0dF(s)\ F(s)^{i-1}[F(y)-F(s)]^{k-i}I\{x\lt y\}\\ &amp;=i\sum^n_{k=j}{n\choose k}{k\choose i}[1-F(y)]^{n-k} \sum^{k-i}_{l=0}\frac{(k-i)!}{(k-i-l)!}\frac{(i-1)!}{(i+l)!}F(x)^{i+l}[F(y)-F(x)]^{k-i-l}I\{x\lt y\}\\ &amp;=\sum^n_{k=j}\sum^k_{l=i}\frac{n!}{(n-k)!(k-l)!l!}F(x)^l[F(y)-F(x)]^{k-l}[1-F(y)]^{n-k} I\{x\lt y\}\\ &amp;=\sum^n_{k=j}{n\choose k}[1-F(y)]^{n-k}\sum^k_{l=i}{k\choose l}F(x)^l[F(y)-F(x)]^{k-l}I\{x\lt y\} \end{aligned} \tag{5} \]</span></p><p>åŒæ ·ï¼Œè¿™ä¸ªç»“æœä¹Ÿå¾ˆå¥½ç†è§£ï¼Œ<span class="math inline">\(F_{(i,j)}(x,y)=\text{P}_\text{r}(X_{(i)}\le x,X_{(j)}\le y)\)</span>ã€‚<span class="math inline">\(X_{(j)}\le y\)</span> è¡¨ç¤ºè‡³å°‘æœ‰ <span class="math inline">\(k\ge j\)</span> ä¸ª <span class="math inline">\(X\)</span> è½åœ¨åŒºé—´ <span class="math inline">\([-\infty,y]\)</span>ï¼Œå¯¹æ¯ä¸ª <span class="math inline">\(k\)</span>ï¼Œå…±æœ‰ <span class="math inline">\({n\choose k}\)</span> ä¸ªé€‰æ‹©ã€‚ç„¶åï¼Œ<span class="math inline">\(X_{(i)}\le x\)</span> è¡¨ç¤ºè‡³å°‘æœ‰ <span class="math inline">\(i\le l\le k\)</span> ä¸ª <span class="math inline">\(X\)</span> è½åœ¨åŒºé—´ <span class="math inline">\([-\infty, x]\)</span>ï¼Œå¯¹æ¯ä¸ª <span class="math inline">\(l\)</span>ï¼Œå…±æœ‰ <span class="math inline">\({k\choose l}\)</span> ä¸ªé€‰æ‹©ã€‚å†è€ƒè™‘åˆ°éœ€è¦æ»¡è¶³ <span class="math inline">\(x\lt y\)</span>ï¼Œå³å¾— <span class="math inline">\((5)\)</span> ä¸­æœ€åä¸€ä¸ªç­‰å¼ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è®¾ &lt;span class=&quot;math inline&quot;&gt;\(X_1,\dots,X_n\)&lt;/span&gt; ç‹¬ç«‹åŒåˆ†å¸ƒï¼Œæ¦‚ç‡å¯†åº¦å‡½æ•°ä¸ç´¯ç§¯åˆ†å¸ƒå‡½æ•°åˆ†åˆ«ä¸º &lt;span class=&quot;math inline&quot;&gt;\(f(x;\theta)\)&lt;/span&gt; å’Œ &lt;span clas
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://spiedeman.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="æ•°å­¦" scheme="http://spiedeman.github.io/tags/%E6%95%B0%E5%AD%A6/"/>
    
      <category term="ç»Ÿè®¡" scheme="http://spiedeman.github.io/tags/%E7%BB%9F%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨å¤šå°ç”µè„‘ä¸ŠåŒæ­¥æ›´æ–°Hexoåšå®¢</title>
    <link href="http://spiedeman.github.io/posts/77781092/"/>
    <id>http://spiedeman.github.io/posts/77781092/</id>
    <published>2019-04-20T08:04:50.000Z</published>
    <updated>2021-09-18T02:10:59.612Z</updated>
    
    <content type="html"><![CDATA[<h1 id="èƒŒæ™¯">èƒŒæ™¯</h1><p>ç›®å‰æ›´æ–°åšå®¢æ–‡ç« ï¼Œåªåœ¨è‡ªå·±çš„ç¬”è®°æœ¬æ“ä½œã€‚ä¸€æ—¦æƒ³è¦åœ¨åŠå…¬å®¤çš„å°å¼æœºä¸Šå†™æ–‡ç« å¹¶å‘å¸ƒåˆ° Github Pages ä¸Šå°±å˜å¾—å¾ˆéº»çƒ¦ï¼Œä¸€æ—¶ä¸çŸ¥ä»ä½•ä¸‹æ‰‹ã€‚</p><h1 id="éœ€æ±‚">éœ€æ±‚</h1><p>åšå®¢çš„æºæ–‡ä»¶èƒ½åœ¨å¤šä¸ªè®¾å¤‡ä¸ŠåŒæ­¥æ›´æ–°ï¼Œå¹¶ä¸”åœ¨ä»»æ„è®¾å¤‡ä¸Šéƒ½èƒ½è‡ªå¦‚å†™æ–‡ç« å¹¶å‘å¸ƒã€‚</p><h1 id="æ–¹æ¡ˆ">æ–¹æ¡ˆ</h1><p>åˆ©ç”¨ <code>GitHub</code> çš„åˆ†æ”¯åŠŸèƒ½ï¼Œå°† <code>Hexo</code>å»ºç«™çš„å¿…å¤‡æºæ–‡ä»¶ä»¥åŠåšå®¢æ–‡ç« çš„æºæ–‡ä»¶å¤‡ä»½åˆ° <code>source</code> åˆ†æ”¯ä¸Šã€‚è€Œ <code>hexo</code>ç”Ÿæˆçš„é™æ€åšå®¢æ–‡ä»¶ä»ç„¶æ”¾åœ¨é»˜è®¤çš„ <code>master</code> åˆ†æ”¯ä¸Šã€‚è¿™æ ·åœ¨ä»»ä½•è®¾å¤‡ä¸Šåªéœ€å°†<code>source</code> åˆ†æ”¯å…‹éš†åˆ°æœ¬åœ°ï¼Œå³å¯å¼€å§‹å†™æ–°åšå®¢ã€‚ä¹‹åé€šè¿‡ <code>hexo</code>å‘½ä»¤å³å¯å°†æ–°ç”Ÿæˆçš„ç½‘ç«™å†…å®¹æ¨é€åˆ° <code>master</code> åˆ†æ”¯ä¸Šã€‚ä¸¤ä¸ªåˆ†æ”¯ä¸Šçš„å†…å®¹äº’ä¸å¹²æ‰°ï¼Œéƒ½èƒ½ç»´æŒæœ€æ–°çŠ¶æ€ã€‚</p><h2 id="æ“ä½œ">æ“ä½œ</h2><h3 id="åˆ›å»ºæ–°çš„åˆ†æ”¯">åˆ›å»ºæ–°çš„åˆ†æ”¯</h3><p>æ–°åˆ†æ”¯çš„å‘½åæ²¡æœ‰è¦æ±‚ï¼Œæœ¬æ–‡é‡‡ç”¨<code>source</code>ã€‚</p><p>åˆ›å»ºåˆ†æ”¯çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼Œ - åœ¨æµè§ˆå™¨ä¸­ç™»é™†<a href="https://github.com" target="_blank" rel="noopener">GitHub</a>è¿›è¡Œæ“ä½œã€‚ - åœ¨æœ¬åœ°é€šè¿‡å‘½ä»¤è¡Œæ“ä½œã€‚</p><p>ç”±äºæµè§ˆå™¨æ“ä½œæ¯”è¾ƒç®€å•ï¼Œå°±ä¸è¯¦ç»†è®¨è®ºäº†ã€‚é‡ç‚¹è®°å½•ä¸€ä¸‹ç»ˆç«¯æ“ä½œè¿‡ç¨‹ã€‚</p><p>1ã€å…‹éš†ä»“åº“ <code>username.github.io</code> åˆ°æœ¬åœ°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/username/username.github.io Hexo</span><br></pre></td></tr></table></figure><p></p><p>2ã€è¿›å…¥è¯¥æ–‡ä»¶å¤¹å¹¶åˆ›å»ºæ–°çš„åˆ†æ”¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> username.github.io</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ–°çš„åˆ†æ”¯ source</span></span><br><span class="line">git checkout -b <span class="built_in">source</span></span><br></pre></td></tr></table></figure><p></p><p>3ã€åœ¨ <code>source</code> åˆ†æ”¯å†…åˆ é™¤åŸæœ‰çš„æ‰€æœ‰æ–‡ä»¶ï¼Œç„¶åå°† <code>Hexo</code> å»ºç«™æ‰€éœ€çš„å¿…å¤‡æ–‡ä»¶ä»¥åŠæ‰€æœ‰çš„åšå®¢æ–‡ç« æ‹·è´è¿›æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤æ‰€æœ‰çš„åŸæœ‰å†…å®¹ï¼Œ.git æ–‡ä»¶å¤¹ä¿ç•™</span></span><br><span class="line">rm -rf *</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‹·è´å¿…è¦çš„æ–‡ä»¶åˆ°å½“å‰ç›®å½•</span></span><br><span class="line">cp -r /path/to/hexo/<span class="built_in">source</span> .</span><br><span class="line">cp -r /path/to/hexo/scaffolds .</span><br><span class="line">cp -r /path/to/hexo/themes .</span><br><span class="line">cp /path/to/hexo/_config.yml .</span><br><span class="line">cp /path/to/hexo/package.json .</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ <code>themes</code> ä¸­å¯èƒ½å­˜åœ¨ <code>.git</code> æ–‡ä»¶å¤¹ï¼Œéœ€è¦æŠŠå®ƒä»¬å…¨éƒ¨åˆ é™¤ã€‚</p><p>4ã€æäº¤ source åˆ†æ”¯ ç”±äº <code>Hexo</code> å‘½ä»¤ç”Ÿæˆç½‘ç«™å†…å®¹æ—¶ä¼šæ–°å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ <code>public</code> å’Œ<code>.deploy_git</code>ã€‚<code>public</code>ä¸­åŒ…å«çš„æ­£æ˜¯æ‰€æœ‰ç½‘ç«™çš„æºæ–‡ä»¶ï¼Œè¿™äº›å†…å®¹å¹¶ä¸éœ€è¦ä¿å­˜åœ¨ <code>source</code>åˆ†æ”¯ï¼Œå› æ­¤æäº¤æ—¶è¦å¿½ç•¥ã€‚<code>.deploy_git</code> æ˜¯ <code>Hexo</code>å¸®æˆ‘ä»¬æŠŠç½‘ç«™å†…å®¹æ¨é€åˆ° <code>master</code>åˆ†æ”¯ä¸Šæ‰€å»ºçš„æ–‡ä»¶å¤¹ï¼Œæ•…ä¹Ÿå¯ä»¥å¿½ç•¥ã€‚å¦å¤–ä¸éœ€è¦æ¨é€çš„ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä¾¿æ˜¯<code>node_modules</code>ã€‚è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œæ˜¯ <code>Hexo</code>ç”¨åˆ°çš„æ‰€æœ‰æ’ä»¶ï¼Œåœ¨æœ¬åœ°å®‰è£…ä¸€ä¸‹å°±æœ‰äº†ï¼Œä¸éœ€è¦ä¿å­˜åœ¨ <code>GitHub</code> ä¸Šã€‚</p><p>å› æ­¤ï¼Œæäº¤ <code>source</code> åˆ†æ”¯å‰éœ€è¦</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">'node_modules'</span> &gt;&gt; .gitignore</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'public'</span> &gt;&gt; .gitignore</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'.deploy_git'</span> &gt;&gt; .gitignore</span><br></pre></td></tr></table></figure><p>ç°åœ¨å¯ä»¥æäº¤äº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"update blog files"</span></span><br><span class="line">git push origin <span class="built_in">source</span></span><br></pre></td></tr></table></figure><h3 id="åœ¨æ–°è®¾å¤‡ä¸Šçš„å‡†å¤‡å·¥ä½œ">åœ¨æ–°è®¾å¤‡ä¸Šçš„å‡†å¤‡å·¥ä½œ</h3><p>è¦åœ¨æ–°è®¾å¤‡ä¸Šæ„‰å¿«åœ°ç”¨ <code>Hexo</code> å†™åšå®¢ä¹‹å‰ï¼Œéœ€è¦åšä¸€äº›å‡†å¤‡å·¥ä½œã€‚</p><p>1ã€å®‰è£… gitï¼Œå¹¶å°†æ–°è®¾å¤‡ä¸Šçš„ ssh key æ·»åŠ åˆ° GitHub è´¦æˆ·ä¸Šã€‚</p><p>2ã€å®‰è£… Hexo</p><p>3ã€æŠŠ souce åˆ†æ”¯å…‹éš†åˆ°æœ¬åœ°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b <span class="built_in">source</span> git@github.com:username/username.github.io.git Hexo</span><br><span class="line"></span><br><span class="line"><span class="comment"># è‹¥å·²å°† source åˆ†æ”¯è®¾ä¸ºé»˜è®¤åˆ†æ”¯ï¼Œåˆ™å¯ä»¥ç®€åŒ–å‘½ä»¤</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/username/username.github.io Hexo</span><br></pre></td></tr></table></figure><p>4ã€å®‰è£…æ‰€æœ‰ä¾èµ–ï¼Œç”Ÿæˆ <code>node_modules</code> ç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><p></p><p>5ã€åˆ›å»ºæ–°æ–‡ç« ï¼Œç”Ÿæˆåšå®¢çš„é™æ€æ–‡ä»¶ï¼ˆå³ <code>public</code> ç›®å½•ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">"title"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ç« å†™å®Œä¹‹å</span></span><br><span class="line">hexo g</span><br></pre></td></tr></table></figure><p></p><p>6ã€å°†åšå®¢å†…å®¹æ¨é€åˆ° GitHub ä¸Š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åšå®¢çš„é™æ€æ–‡ä»¶åœ¨ master åˆ†æ”¯ï¼Œå…¶ä»–çš„æºæ–‡ä»¶åœ¨ source åˆ†æ”¯</span></span><br><span class="line"><span class="comment"># _config.yml ä¸­ deploy çš„ branch å€¼å¿…é¡»ä¸º master</span></span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p></p><p>7ã€æœ€åæŠŠä¿®æ”¹æ¨é€åˆ° source åˆ†æ”¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"commit message"</span></span><br><span class="line">git push origin <span class="built_in">source</span></span><br></pre></td></tr></table></figure><p></p><p><strong>æ³¨æ„</strong>ï¼šåœ¨æ–°è®¾å¤‡ä¸Šçš„æ‰€æœ‰æ“ä½œéƒ½åœ¨ <code>source</code> åˆ†æ”¯ä¸‹å®Œæˆã€‚</p><h3 id="æ—¥å¸¸æ“ä½œ">æ—¥å¸¸æ“ä½œ</h3><p>ç”±äºä¸Šä¸€æ¬¡æ›´æ–°åšå®¢æœ‰å¯èƒ½ä¸æ˜¯åœ¨æ‰‹å¤´çš„ç”µè„‘ä¸Šæ“ä½œçš„ã€‚å› æ­¤ <code>GitHub</code> ä¸Šçš„ <code>source</code> åˆ†æ”¯å¯èƒ½æ¯”æœ¬åœ°çš„æ›´æ–°ï¼Œå› æ­¤é¦–å…ˆè¦æ›´æ–°æœ¬åœ°çš„ <code>source</code> åˆ†æ”¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull origin <span class="built_in">source</span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼ŒæŒ‰ç…§æ­£å¸¸æµç¨‹å†™æ–‡ç« å¹¶ç”¨<code>hexo</code>éƒ¨ç½²åˆ°<code>GitHub</code>ä¸Šã€‚</p><p>æœ€åï¼ŒæŠŠå¯¹æºæ–‡ä»¶çš„ä¿®æ”¹æ¨é€åˆ° <code>source</code> åˆ†æ”¯ä¸Šã€‚</p><p>å‚è€ƒèµ„æ–™ï¼š <a href="https://theqwang.github.io/2017/03/17/åœ¨å¤šå°ç”µè„‘é—´ä½¿ç”¨hexo/#more" target="_blank" rel="noopener">theqwang's blog</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;èƒŒæ™¯&quot;&gt;èƒŒæ™¯&lt;/h1&gt;&lt;p&gt;ç›®å‰æ›´æ–°åšå®¢æ–‡ç« ï¼Œåªåœ¨è‡ªå·±çš„ç¬”è®°æœ¬æ“ä½œã€‚ä¸€æ—¦æƒ³è¦åœ¨åŠå…¬å®¤çš„å°å¼æœºä¸Šå†™æ–‡ç« å¹¶å‘å¸ƒåˆ° Github Pages ä¸Šå°±å˜å¾—å¾ˆéº»çƒ¦ï¼Œä¸€æ—¶ä¸çŸ¥ä»ä½•ä¸‹æ‰‹ã€‚&lt;/p&gt;&lt;h1 id=&quot;éœ€æ±‚&quot;&gt;éœ€æ±‚&lt;/h1&gt;&lt;p&gt;åšå®¢çš„æºæ–‡ä»¶èƒ½åœ¨å¤šä¸ªè®¾å¤‡ä¸ŠåŒæ­¥æ›´æ–°ï¼Œå¹¶ä¸”åœ¨
      
    
    </summary>
    
      <category term="Hexo" scheme="http://spiedeman.github.io/categories/Hexo/"/>
    
    
      <category term="Hexo" scheme="http://spiedeman.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>GitBook å®‰è£…é…ç½® &amp; å¯¼å‡º PDF</title>
    <link href="http://spiedeman.github.io/posts/3741144490/"/>
    <id>http://spiedeman.github.io/posts/3741144490/</id>
    <published>2019-04-18T11:46:20.000Z</published>
    <updated>2021-09-18T02:10:59.602Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…-gitbook">å®‰è£… GitBook</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g gitbook-cli</span><br><span class="line">gitbook -V <span class="comment"># æŸ¥çœ‹ç‰ˆæœ¬</span></span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-calibre-æ’ä»¶ç”Ÿæˆpdf">ä½¿ç”¨ calibre æ’ä»¶ç”ŸæˆPDF</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">brew cask install calibre</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> path/to/book</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆ pdf</span></span><br><span class="line">gitbook pdf . mypdf.pdf</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å®‰è£…-gitbook&quot;&gt;å®‰è£… GitBook&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span cl
      
    
    </summary>
    
      <category term="ç”µå­ä¹¦" scheme="http://spiedeman.github.io/categories/%E7%94%B5%E5%AD%90%E4%B9%A6/"/>
    
    
      <category term="GitBook" scheme="http://spiedeman.github.io/tags/GitBook/"/>
    
  </entry>
  
  <entry>
    <title>Vim æŠ€å·§</title>
    <link href="http://spiedeman.github.io/posts/4131642440/"/>
    <id>http://spiedeman.github.io/posts/4131642440/</id>
    <published>2019-02-18T02:11:19.000Z</published>
    <updated>2021-09-18T02:10:59.622Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç”¨æ³•">ç”¨æ³•</h2><h3 id="è‡ªå®šä¹‰æ˜ å°„">è‡ªå®šä¹‰æ˜ å°„</h3><h4 id="æ­£ç¡®ä½¿ç”¨optionalté”®">æ­£ç¡®ä½¿ç”¨option/Alté”®</h4><p><code>option</code>é”®åœ¨<code>macOS</code>ä¸‹ä½œä¸ºç»„åˆæŒ‰é”®ä¹‹ä¸€ï¼Œå¯¹åº”äºPCã€Linuxä¸Šçš„<code>Alt</code>é”®ï¼Œä½†æ˜¯åŠŸèƒ½ä¸å¤ªä¸€æ ·ã€‚<code>Mac</code>ä¸Šå­—æ¯åŠä¸€äº›æ ‡ç‚¹ç¬¦å·ä¸<code>option</code>ç»„åˆä¼šè¾“å‡º<code>unicode</code>å­—ç¬¦ã€‚ åŸå› åœ¨äºæŒ‰ä¸‹æŒ‰ä¸‹<code>option</code>é”®å‘é€çš„ä¸æ˜¯<code>Escape Sequence</code>ã€‚å› æ­¤åœ¨<code>vim,emacs</code>ç­‰ç»ˆç«¯è½¯ä»¶ä¸­ï¼Œæ²¡æ³•ç›´æ¥ä½¿ç”¨<code>Alt</code>é”®å®šä¹‰æ˜ å°„ã€‚</p><p>æ‰¾åˆ°åŸå› å°±å¥½åŠï¼Œè§£å†³æ–¹æ³•åˆ†ä¸ºä¸¤æ­¥ï¼š 1. åœ¨ç»ˆç«¯ä¸­ä¿®æ”¹<code>option/Alt</code>é”®çš„è¡Œä¸º 2. åœ¨<code>vim,emacs</code>ç­‰è¿è¡Œäºç»ˆç«¯ä¸‹çš„è½¯ä»¶ä¸­è¿›è¡Œå¯èƒ½å¿…è¦çš„è®¾ç½®</p><p>ä»¥ç»ˆç«¯ç¨‹åº<code>kitty</code>å’Œ<code>alacritty</code>ä¸ºä¾‹ï¼Œå…·ä½“è®¨è®ºè§£å†³æ–¹æ³•ä¸­çš„ç¬¬ä¸€æ­¥å¦‚ä½•æ“ä½œã€‚ - kitty - æ‰“å¼€é…ç½®æ–‡ä»¶<code>kitty.conf</code> - æ‰¾åˆ°é€‰é¡¹<code>macos_option_as_alt no</code>ï¼Œå°†<code>no</code>æ”¹ä¸º<code>yes</code> - alacrity - æ‰“å¼€é…ç½®æ–‡ä»¶<code>alacrity.yml</code> - å®šä½åˆ°<code>key_bindings</code> - æ·»åŠ éœ€è¦çš„é”®ä½è®¾ç½®ï¼Œä¾‹å¦‚ <code>- { key: x, mods: Alt, chars: &quot;\x1bx&quot; }</code></p><p>ä»¥è¿è¡Œåœ¨ç»ˆç«¯ä¸‹çš„<code>vim</code>ä¸ºä¾‹ï¼Œç»™å‡ºç¬¬äºŒæ­¥ä¸­éœ€è¦çš„å…·ä½“æ“ä½œã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>! <span class="title">Terminal_MetaMode</span><span class="params">(mode)</span></span></span><br><span class="line">    <span class="keyword">set</span> ttimeout</span><br><span class="line">    <span class="keyword">if</span> $TMUX != <span class="string">''</span></span><br><span class="line">        <span class="keyword">set</span> ttimeoutlen=<span class="number">30</span></span><br><span class="line">    <span class="keyword">elseif</span> &amp;ttimeoutlen &gt; <span class="number">80</span> || &amp;ttimeoutlen &lt;= <span class="number">0</span></span><br><span class="line">        <span class="keyword">set</span> ttimeoutlen=<span class="number">80</span></span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">has</span>(<span class="string">'nvim'</span>) || <span class="built_in">has</span>(<span class="string">'gui_running'</span>) || $TERM_PROGRAM =~? <span class="string">'iTerm2'</span></span><br><span class="line">        <span class="keyword">return</span> </span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line">    <span class="comment">" ğŸ‘†è¡¨ç¤ºåªæœ‰æŸäº›ç»ˆç«¯ä¸‹çš„viméœ€è¦ğŸ‘‡çš„è®¾ç½®</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span>! <span class="title">s</span>:<span class="title">metacode</span><span class="params">(mode, key)</span></span></span><br><span class="line">        <span class="comment">" è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯å‘Šè¯‰vimï¼Œ&lt;M-x&gt;çš„é”®ç›˜åºåˆ—ç æ˜¯å¤šå°‘</span></span><br><span class="line">        <span class="comment">" è¿™æ ·vimå°†æŒ‰ç…§ttimeoutlençš„è®¾ç½®æ¥æ£€æŸ¥æ˜¯å¦è¶…æ—¶</span></span><br><span class="line">        <span class="comment">" å¦‚æœç”¨ `noremap &lt;ESC&gt;x &lt;M-x&gt;` ç„¶å `noremap &lt;M-x&gt; ...`çš„æ–¹å¼ï¼Œ</span></span><br><span class="line">        <span class="comment">" åˆ™ä¼šä½¿ç”¨timeoutlenæ¥æ£€æŸ¥æ˜¯å¦è¶…æ—¶</span></span><br><span class="line">        <span class="comment">" ä¸€èˆ¬timeoutlenè®¾ç½®çš„ç›¸å¯¹æ›´å¤§ï¼Œå¦‚æœç”¨å®ƒæ›´å®¹æ˜“è¯¯æ“ä½œï¼Œé™ä½ä½¿ç”¨ä½“éªŒ</span></span><br><span class="line">        <span class="keyword">if</span> <span class="variable">a:mode</span> == <span class="number">0</span></span><br><span class="line">            exec <span class="string">"set &lt;M-"</span>.<span class="variable">a:key</span>.<span class="string">"&gt;=\e"</span>.<span class="variable">a:key</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="comment">"ğŸ‘‡è¿™æ¡éœ€è¦å¯¹ç»ˆç«¯è¿›è¡Œæ›´é’ˆå¯¹æ€§çš„è®¾ç½®ï¼Œå†™æœ¬èŠ‚æ—¶åªæƒ³åˆ°åœ¨alacrityä¸­è®¾ç½®ä¼šå®¹æ˜“äº›</span></span><br><span class="line">            exec <span class="string">"set &lt;M-"</span>.<span class="variable">a:key</span>.<span class="string">"&gt;=\e]&#123;0&#125;"</span>.<span class="variable">a:key</span>.<span class="string">"~"</span></span><br><span class="line">        <span class="keyword">endif</span></span><br><span class="line">    <span class="keyword">endfunction</span></span><br><span class="line">    <span class="comment">" é’ˆå¯¹alacrityï¼Œè¿˜éœ€è®¾ç½®å‡ ä¸ªåŠŸèƒ½é”®</span></span><br><span class="line">    <span class="keyword">if</span> $TERM_PROGRAM =~? <span class="string">'alacritty'</span></span><br><span class="line">        exec <span class="string">"set &lt;F1&gt;=\eOP"</span></span><br><span class="line">        exec <span class="string">"set &lt;F2&gt;=\eOQ"</span></span><br><span class="line">        exec <span class="string">"set &lt;F3&gt;=\eOR"</span></span><br><span class="line">        exec <span class="string">"set &lt;F4&gt;=\eOS"</span></span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line">    <span class="keyword">for</span> i in <span class="built_in">range</span>(<span class="number">10</span>)</span><br><span class="line">        <span class="keyword">call</span> <span class="variable">s:metacode</span>(<span class="variable">a:mode</span>, <span class="built_in">nr2char</span>(<span class="built_in">char2nr</span>(<span class="string">'0'</span>) + i))</span><br><span class="line">    <span class="keyword">endfor</span></span><br><span class="line">    <span class="keyword">for</span> i in <span class="built_in">range</span>(<span class="number">26</span>)</span><br><span class="line">        <span class="keyword">call</span> <span class="variable">s:metacode</span>(<span class="variable">a:mode</span>, <span class="built_in">nr2char</span>(<span class="built_in">char2nr</span>(<span class="string">'a'</span>) + i))</span><br><span class="line">        <span class="keyword">call</span> <span class="variable">s:metacode</span>(<span class="variable">a:mode</span>, <span class="built_in">nr2char</span>(<span class="built_in">char2nr</span>(<span class="string">'A'</span>) + i))</span><br><span class="line">    <span class="keyword">endfor</span></span><br><span class="line">    <span class="keyword">if</span> <span class="variable">a:mode</span> != <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> <span class="keyword">c</span> in [<span class="string">','</span>, <span class="string">'.'</span>, <span class="string">'/'</span>. <span class="string">';'</span>, <span class="string">'['</span>, <span class="string">']'</span>, <span class="string">'&#123;'</span>, <span class="string">'&#125;'</span>]</span><br><span class="line">            <span class="keyword">call</span> <span class="variable">s:metacode</span>(<span class="variable">a:mode</span>, <span class="keyword">c</span>)</span><br><span class="line">        <span class="keyword">endfor</span></span><br><span class="line">        <span class="keyword">for</span> <span class="keyword">c</span> in [<span class="string">'?'</span>, <span class="string">':'</span>, <span class="string">'-'</span>, <span class="string">'_'</span>]</span><br><span class="line">            <span class="keyword">call</span> <span class="variable">s:metacode</span>(<span class="variable">a:mode</span>, <span class="keyword">c</span>)</span><br><span class="line">        <span class="keyword">endfor</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">for</span> <span class="keyword">c</span> in [<span class="string">','</span>, <span class="string">'.'</span>, <span class="string">'/'</span>, <span class="string">';'</span>, <span class="string">'&#123;'</span>, <span class="string">'&#125;'</span>]</span><br><span class="line">            <span class="keyword">call</span> <span class="variable">s:metacode</span>(<span class="variable">a:mode</span>, <span class="keyword">c</span>)</span><br><span class="line">        <span class="keyword">endfor</span></span><br><span class="line">        <span class="keyword">for</span> <span class="keyword">c</span> in [<span class="string">'?'</span>, <span class="string">':'</span>, <span class="string">'-'</span>, <span class="string">'_'</span>]</span><br><span class="line">            <span class="keyword">call</span> <span class="variable">s:metacode</span>(<span class="variable">a:mode</span>, <span class="keyword">c</span>)</span><br><span class="line">        <span class="keyword">endfor</span></span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line"><span class="keyword">endfunction</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" è®¾ç½®ç”¨æˆ·è‡ªå®šä¹‰å‘½ä»¤</span></span><br><span class="line">command! -nargs=<span class="number">0</span> -bang VimMetaInit <span class="keyword">call</span> Terminal_MetaMode(<span class="symbol">&lt;bang&gt;</span><span class="number">0</span>)</span><br><span class="line"><span class="comment">" buffer è¯»å…¥åè‡ªåŠ¨è¿›è¡Œè®¾ç½®</span></span><br><span class="line"><span class="keyword">augroup</span> alt_key</span><br><span class="line">    autocmd!</span><br><span class="line">    <span class="keyword">autocmd</span> BufReadPost * :VimMetaInit</span><br><span class="line"><span class="keyword">augroup</span> END</span><br></pre></td></tr></table></figure><p></p><h3 id="ç”¨æˆ·è‡ªå®šä¹‰äº‹ä»¶">ç”¨æˆ·è‡ªå®šä¹‰äº‹ä»¶</h3><p>è‡ªå®šä¹‰äº†åˆ‡æ¢é€æ˜å’ŒèƒŒæ™¯çš„å‡½æ•°ï¼Œå¹¶ç»‘å®šäº†å¿«æ·é”®ã€‚åŒæ—¶ä¸»é¢˜æ ä½¿ç”¨çš„æ˜¯<a href="https://github.com/itchyny/lightline.vim" target="_blank" rel="noopener">lightline</a>ã€‚ æˆ‘ä¸º<code>dark</code>å’Œ<code>light</code>ä¸¤ç§èƒŒæ™¯é€‰å–ä¸åŒçš„<code>lightline</code>ä¸»é¢˜ï¼Œä¸ºäº†ä½¿èƒŒæ™¯åˆ‡æ¢ä¹‹åï¼Œä¸»é¢˜æ çš„åˆ‡æ¢ä¹Ÿç”Ÿæ•ˆï¼Œè¿™é‡Œä½¿ç”¨ç”¨æˆ·è‡ªå®šä¹‰äº‹ä»¶æ¥è§£å†³é—®é¢˜ã€‚ å½“ç„¶è¿™ä¸æ˜¯å”¯ä¸€çš„æ–¹æ³•ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>! <span class="title">ToggleBackground</span><span class="params">()</span></span></span><br><span class="line">    <span class="comment">" A lot of stuff is happening here.</span></span><br><span class="line">    <span class="comment">" å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶</span></span><br><span class="line">    <span class="keyword">doautocmd</span> User ToggleBackgroundExit</span><br><span class="line"><span class="keyword">endfunction</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>! <span class="title">ToggleTransparent</span><span class="params">()</span></span></span><br><span class="line">    <span class="comment">" A lot of stuff is happening here.</span></span><br><span class="line">    <span class="comment">" å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶</span></span><br><span class="line">    <span class="keyword">doautocmd</span> User ToggleTransparentExit</span><br><span class="line"><span class="keyword">endfunction</span></span><br></pre></td></tr></table></figure><p></p><p>ç°åœ¨å¯ä»¥åœ¨åˆ‡æ¢èƒŒæ™¯å’Œé€æ˜åº¦æ‰§è¡Œå®Œæˆååšä»»ä½•æƒ³åšçš„äº‹ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">autocmd</span> User ToggleBackgroundExit <span class="keyword">call</span> lightline#enable()</span><br></pre></td></tr></table></figure><p></p><h3 id="æ’ä»¶">æ’ä»¶</h3><h4 id="æ’ä»¶ç®¡ç†å™¨vim-plug">æ’ä»¶ç®¡ç†å™¨ï¼ˆvim-plugï¼‰</h4><p><a href="https://github.com/junegunn/vim-plug" target="_blank" rel="noopener">vim-plug</a>æ˜¯ä¸€æ¬¾å¼‚æ­¥æ’ä»¶ç®¡ç†å™¨ã€‚å…·æœ‰å®‰è£…é€Ÿåº¦å¿«ï¼Œå»¶è¿ŸåŠ è½½ç­‰ç‰¹æ€§ã€‚ è¿™é‡Œè¦è®¨è®ºçš„æ˜¯åˆšå‘ç°çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå¯ä»¥è®©æ’ä»¶æŒ‰ç…§ä¾èµ–å…³ç³»è¿›è¡ŒåŠ è½½ã€‚</p><p>æ —å­ğŸŒ°ï¼Œæˆ‘æœ‰ä¸‰æ¬¾ç”¨äº<code>markdown</code>çš„æ’ä»¶ï¼Œåˆ†åˆ«æ˜¯</p><ul><li><a href="https://github.com/plasticboy/vim-markdown" target="_blank" rel="noopener"><code>plasticboy/vim-markdown</code></a></li><li><a href="https://github.com/jszakmeister/markdown2ctags" target="_blank" rel="noopener"><code>jszakmeister/markdown2ctags</code></a></li><li><a href="https://github.com/iamcco/markdown-preview.nvim" target="_blank" rel="noopener"><code>iamcco/markdown-preview.nvim</code></a></li></ul><p>åŸæœ¬å¯ä»¥åœ¨æ¯ä¸ªæ’ä»¶åé¢ï¼Œç”¨<code>{'for':'markdown'}</code>ä½¿å…¶ä»…åœ¨ç¼–è¾‘<code>.md</code>æ–‡ä»¶æ—¶æ‰åŠ è½½ã€‚ä½†æˆ‘å‘ç° è¿™ç§æ–¹æ³•å¯¹ç¬¬äºŒæ¬¾æ’ä»¶æ— æ•ˆã€‚å› æ­¤æƒ³åˆ°è¿™é‡Œçš„åŠæ³•ã€‚</p><p><code>vim-plug</code>åœ¨è°ƒç”¨å‡½æ•°<code>plug#load()</code>åŠ è½½æ’ä»¶ä¹‹åä¼šä»¥æ’ä»¶åå®šä¹‰ä¸€ä¸ªç”¨æˆ·è‡ªå®šä¹‰äº‹ä»¶ã€‚å¯ä»¥åˆ©ç”¨è¿™ä¸€äº‹ä»¶è§¦å‘å¯¹å…¶æœ‰ä¾èµ–çš„æ’ä»¶çš„è°ƒç”¨ã€‚å¦‚ä¸‹ä¸ºå…·ä½“çš„ä½¿ç”¨æ¡ˆä¾‹ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" ä»¥æ–‡ä»¶ç±»å‹ä½œä¸ºåŠ è½½çš„ä¾æ®</span></span><br><span class="line">Plug <span class="string">'iamcco/markdown-preview.nvim'</span>, &#123;<span class="string">'for'</span>: <span class="string">'markdown'</span>, <span class="string">'do'</span>: <span class="string">'cd app &amp; yarn install'</span>&#125;</span><br><span class="line">  <span class="comment">" ä¸‹é¢çš„æ’ä»¶æ— æ³•æŒ‰ç…§æ–‡ä»¶ç±»å‹è¿›è¡ŒåŠ è½½</span></span><br><span class="line">  <span class="comment">" æ•…é€šè¿‡vim-plug å®šä¹‰çš„ç”¨æˆ·è‡ªå®šä¹‰äº‹ä»¶è¿›è¡Œè§¦å‘</span></span><br><span class="line">  Plug <span class="string">'plasticboy/vim-markdown'</span>, &#123;<span class="string">'on'</span> : []&#125;</span><br><span class="line">  Plug <span class="string">'jszakmeister/markdown2ctags'</span>, &#123;<span class="string">'on'</span>: []&#125;</span><br><span class="line">  <span class="keyword">augroup</span> vimplug_load_for_markdown</span><br><span class="line">    autocmd!</span><br><span class="line">    <span class="keyword">autocmd</span> User markdown-preview.nvim plug#load(</span><br><span class="line">                \ <span class="string">'vim-markdown'</span>,</span><br><span class="line">                \ <span class="string">'markdown2ctags'</span>,</span><br><span class="line">                \ )</span><br><span class="line">                \ | autocmd! vimplug_load_for_markdown</span><br><span class="line">  <span class="keyword">augroup</span> END</span><br></pre></td></tr></table></figure><p>è¿›ä¸€æ­¥ï¼Œé’ˆå¯¹ä¸€ä¸ªæ’ä»¶çš„æ‰€æœ‰é…ç½®å¯ä»¥åšåˆ°è¿™æ ·ï¼šåœ¨æ’ä»¶è¢«</p><ul><li>åŠ è½½å‰ï¼Œä¸è½½å…¥</li><li>åŠ è½½åï¼Œè‡ªåŠ¨è½½å…¥</li></ul><p>å¯ä»¥è¿™æ ·å®ç°</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" ä»ç„¶ä»¥ä¸Šé¢çš„æ’ä»¶ä¸ºä¾‹</span></span><br><span class="line"><span class="comment">" åœ¨è½½å…¥ vim-markdownä¹‹åè‡ªåŠ¨åŠ è½½ç›¸å…³é…ç½®ã€‚æ‰€æœ‰é…ç½®åœ¨å‡½æ•°SetVimmarkdown()ä¹‹ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>! <span class="title">SetVimmarkdown</span><span class="params">()</span></span></span><br><span class="line">    <span class="comment">" all configurations for vim-markdown are at here</span></span><br><span class="line"><span class="keyword">endfunction</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">augroup</span> load_for_vimmarkdown</span><br><span class="line">    autocmd!</span><br><span class="line">    <span class="keyword">autocmd</span> User <span class="keyword">vim</span>-markdown <span class="keyword">call</span> SetVimmarkdown() | autocmd!  load_for_vimmarkdown</span><br><span class="line"><span class="keyword">augroup</span> END</span><br></pre></td></tr></table></figure><h4 id="ä¸­æ–‡è¾“å…¥æ³•">ä¸­æ–‡è¾“å…¥æ³•</h4><p><code>vim</code> çš„æ¨¡å¼åˆ‡æ¢ä¸ä¸­æ–‡è¾“å…¥æ³•å¹¶ä¸æ€»èƒ½å¤Ÿå’Œè°å…±å¤„ã€‚ | | è‹±æ–‡ | ä¸­æ–‡ | |--------|------|------| | normal | :) | :( | | insert | :) | :) |</p><p>è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹å¼å¤§ä½“ä¸Šæœ‰ä¸¤ç§ï¼Œ1ã€<code>vim</code> æä¾›ä¸­æ–‡è¾“å…¥æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªé—®é¢˜å°±ç•™ç»™<code>vim</code>åŠå…¶æ’ä»¶çš„å¼€å‘è€…ä»¬å»è§£å†³äº†ï¼›2ã€ä»ç„¶ä½¿ç”¨å¤–éƒ¨ä¸­æ–‡è¾“å…¥æ³•ï¼Œå¦‚æœç‹—ç­‰ï¼Œ é‚£ä¹ˆå…³é”®åœ¨äºä»¥å“ªç§æ–¹å¼è‡ªåŠ¨åˆ‡æ¢è¾“å…¥æ³•ï¼</p><p>è¿™é‡Œæ²¿ç”¨ç¬¬äºŒç§æ€è·¯ã€‚å°è¯•è¿‡å¦‚ä¸‹å‡ ç§æ–¹å¼ï¼š</p><ol type="1"><li>é€šè¿‡ vim å†…ç½®å‡½æ•°æ¨¡æ‹ŸæŒ‰é”®æ“ä½œæ¥åˆ‡æ¢è¾“å…¥æ³•ã€‚æ²¡æœ‰æˆåŠŸï¼Œä½†ä¸æ’é™¤å¯è¡Œæ€§ã€‚</li><li>è°ƒç”¨å¤–éƒ¨ç¨‹åºè¿›è¡Œè¾“å…¥æ³•åˆ‡æ¢ã€‚æˆåŠŸï¼Œä½†æ˜¯å¹¶ä¸å®Œç¾ã€‚</li></ol><p>æ‰€ä»¥æœ€ç»ˆé‡‡å–çš„æ–¹æ¡ˆæ˜¯é€šè¿‡è°ƒç”¨å¤–éƒ¨ç¨‹åºåœ¨è¿›å…¥å’Œç¦»å¼€<code>insert</code>æ¨¡å¼æ—¶åªèƒ½åˆ‡æ¢è¾“å…¥æ³•ã€‚å®ç°æ–¹å¼å…·ä½“çœ‹ä¸‹é¢çš„<code>vim</code>é…ç½®ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" å®šä¹‰ç¼“å†²åŒºå˜é‡ï¼Œä½¿å¾—å¯ä»¥å¯¹æ¯ä¸ªç¼“å†²åŒºå•ç‹¬ç›‘æ§è¾“å…¥æ³•çŠ¶æ€</span></span><br><span class="line"><span class="keyword">au</span> BufEnter * <span class="keyword">let</span> <span class="variable">b:im</span>=<span class="number">0</span></span><br><span class="line"><span class="comment">" ä¸ºäº†å°½é‡ä¸å½±å“ä½“éªŒï¼Œé€šè¿‡å¼‚æ­¥æœºåˆ¶æ¥è¿›è¡Œå¤„ç†</span></span><br><span class="line"><span class="comment">" ä¸‹é¢çš„å‡½æ•°ç”¨äºåœ¨ job è¿›è¡Œè¿‡ç¨‹ä¸­å¤„ç†è¿”å›ä¿¡æ¯</span></span><br><span class="line">fun! IMHandler(channel, msg)</span><br><span class="line">    <span class="keyword">if</span> <span class="variable">a:msg</span> !=? <span class="string">'com.apple.keylayout.ABC'</span></span><br><span class="line">        <span class="comment">" åˆ‡æ¢åˆ°è‹±æ–‡è¾“å…¥æ³•ä¹‹å‰ä¿å­˜å½“å‰çŠ¶æ€</span></span><br><span class="line">        <span class="keyword">let</span> <span class="variable">b:im</span> = <span class="number">1</span></span><br><span class="line">        <span class="keyword">call</span> job_start([<span class="string">'issw'</span>, <span class="string">'com.apple.keylayout.ABC'</span>])</span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line">endfun</span><br><span class="line">fun! Lang2en()</span><br><span class="line">    <span class="keyword">let</span> job = job_start([<span class="string">'issw'</span>], &#123;<span class="string">"out_cb"</span>: <span class="string">"IMHandler"</span>&#125;)</span><br><span class="line">endfun</span><br><span class="line"><span class="comment">" è¿™é‡Œä¸­æ–‡è¾“å…¥æ³•çš„åˆ‡æ¢ç”¨äº†è‡ªå·±å†™çš„è„šæœ¬ï¼Œè™½ç„¶ä¹Ÿå¯ä»¥ç”¨ä¸Šé¢çš„ issw å‘½ä»¤ã€‚</span></span><br><span class="line">fun! Lang2zh()</span><br><span class="line">    <span class="keyword">if</span> <span class="variable">b:im</span> == <span class="number">1</span></span><br><span class="line">        <span class="keyword">call</span> job_start([<span class="string">'switchim'</span>])</span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line">endfun</span><br><span class="line"><span class="keyword">autocmd</span> InsertEnter * <span class="keyword">call</span> Lang2zh()</span><br><span class="line"><span class="keyword">autocmd</span> BufEnter,InsertLeave * <span class="keyword">call</span> Lang2en()</span><br></pre></td></tr></table></figure><p>å› ä¸ºä¸æƒ³ç”¨ç ´è§£è½¯ä»¶æ¥ä¿®æ”¹æŒ‰é”®æ˜ å°„åŠå¿«æ·é”®ï¼Œå¯¼è‡´ä»æœ‰ä¸è¶³ä¹‹å¤„ï¼š</p><ul><li>è°ƒç”¨çš„å¤–éƒ¨ç¨‹åºåˆ‡æ¢è¾“å…¥æ³•ä¸å¤Ÿå¿«ï¼Œä»ç„¶æœ‰ä¸€å®šå‡ ç‡äº§ç”Ÿå›°æ‰°ã€‚</li><li>insert æ¨¡å¼ä¸‹ï¼Œå¦‚æœè¦ç”¨æœç‹—è¾“å…¥æ³•ï¼Œä»è‹±æ–‡åˆ‡æ¢å›ä¸­æ–‡æ¯”è¾ƒéº»çƒ¦ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç”¨æ³•&quot;&gt;ç”¨æ³•&lt;/h2&gt;&lt;h3 id=&quot;è‡ªå®šä¹‰æ˜ å°„&quot;&gt;è‡ªå®šä¹‰æ˜ å°„&lt;/h3&gt;&lt;h4 id=&quot;æ­£ç¡®ä½¿ç”¨optionalté”®&quot;&gt;æ­£ç¡®ä½¿ç”¨option/Alté”®&lt;/h4&gt;&lt;p&gt;&lt;code&gt;option&lt;/code&gt;é”®åœ¨&lt;code&gt;macOS&lt;/code&gt;ä¸‹ä½œä¸ºç»„åˆæŒ‰é”®ä¹‹ä¸€ï¼Œ
      
    
    </summary>
    
      <category term="Vim" scheme="http://spiedeman.github.io/categories/Vim/"/>
    
    
      <category term="Vim" scheme="http://spiedeman.github.io/tags/Vim/"/>
    
  </entry>
  
  <entry>
    <title>Graphviz ä»‹ç»</title>
    <link href="http://spiedeman.github.io/posts/1414645917/"/>
    <id>http://spiedeman.github.io/posts/1414645917/</id>
    <published>2019-02-16T08:46:44.000Z</published>
    <updated>2021-09-18T02:10:59.602Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ç¯‡æ–‡ç« å‚è€ƒè‡ª<a href="http://www.graphviz.org/pdf/dotguide.pdf" target="_blank" rel="noopener">Drawing graphs with <em>dot</em></a></p><p><span class="math inline">\(dot\)</span> é€šè¿‡<span class="math inline">\(DOT\)</span>è¯­è¨€æ¥ä½œå›¾ã€‚è¯¥è¯­è¨€æè¿°äº†ä¸‰å¤§å¯¹è±¡ï¼šå›¾(graphs)ï¼ŒèŠ‚ç‚¹(nodes)ï¼Œè¾¹(edges)ã€‚åŒæ—¶æ”¯æŒæœ‰å‘å›¾å’Œæ— å‘å›¾ï¼Œå¹¶æ”¯æŒå›¾çš„åµŒå¥—(<span class="math inline">\(subgraph\)</span>)ã€‚ é»˜è®¤é‡‡ç”¨æœ‰å‘å›¾çš„å¸ƒå±€æ–¹å¼ï¼Œæœ‰å¦ä¸€ä¸ªç‹¬ç«‹çš„å¸ƒå±€å·¥å…·ï¼Œ<em>neato</em>ï¼Œç”¨äºæ— å‘å›¾ã€‚</p><p><span class="math inline">\(dot\)</span> ç¼–è¯‘çš„æ–¹å¼æ˜¯æŒ‰é¡ºåºä¸€è¡Œä¸€è¡Œåœ°å¤„ç† *.dot æ–‡ä»¶ä¸­å†…å®¹ã€‚æ‰€ä»¥å„ç§å¯¹è±¡çš„å±æ€§çš„æœ‰æ•ˆæ€§ä»ä»å±æ€§è®¾ç½®è¯­å¥æ‰€åœ¨è¡Œå¼€å§‹ç›´åˆ°ä¸‹ä¸€æ¬¡å±æ€§è®¾ç½®è¯­å¥æ‰€åœ¨è¡Œä¹‹å‰ã€‚</p><p>å®Œæ•´çš„å±æ€§æè¿°å¯ä»¥å‚è€ƒ<span class="math inline">\(Graphviz\)</span>å®˜ç½‘çš„<a href="http://www.graphviz.org/doc/info/attrs.html" target="_blank" rel="noopener">è¯¥é¡µé¢</a>ã€‚</p><h2 id="è¦ç´ ">è¦ç´ </h2><p>ä¸€å¹…å›¾å¯ä»¥åŒ…å«å¦‚ä¸‹è¦ç´ ï¼š</p><ol type="1"><li>æ³¨é‡Š</li></ol><ul><li>åŒæ–œæ </li></ul><ol start="2" type="1"><li>æœ‰å‘å›¾ or æ— å‘å›¾</li><li>èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»</li></ol><ul><li>æœ‰å‘å›¾ï¼š<code>a-&gt;b</code>ï¼ŒèŠ‚ç‚¹ a æŒ‡å‘èŠ‚ç‚¹ b</li><li>æ— å‘å›¾ï¼š<code>a--b</code>ï¼ŒèŠ‚ç‚¹ a å’ŒèŠ‚ç‚¹ bè¿é€š</li></ul><ol start="4" type="1"><li>å®šä¹‰èŠ‚ç‚¹å±æ€§</li></ol><ul><li>å½¢çŠ¶ï¼Œå¤šè¾¹å½¢<code>polygon</code>å’Œ<code>record</code>ï¼ˆä¸çŸ¥é“æ€ä¹ˆç¿»è¯‘ï¼‰</li><li>é¢œè‰²</li><li>æ ‡ç­¾</li><li>ç­‰ç­‰</li></ul><ol start="5" type="1"><li>å®šä¹‰è¾¹çš„å±æ€§</li></ol><ul><li>å½¢çŠ¶</li><li>é¢œè‰²</li><li>æ–‡æœ¬</li><li>ç­‰ç­‰</li></ul><ol start="6" type="1"><li>å®šä¹‰ç»“æ„(<code>record</code>)</li></ol><ul><li>å†…éƒ¨ç»“æ„</li><li>æ–¹å‘ï¼Œæ°´å¹³æˆ–ç«–ç›´æ’åˆ—</li><li>æ ‡ç­¾</li></ul><h2 id="æ ·ä¾‹">æ ·ä¾‹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">digraph G&#123;</span><br><span class="line">    a -&gt; b -&gt; c;</span><br><span class="line">    b -&gt; d;</span><br><span class="line">    a [shape=polygon,sides=5,peripheries=3,color=lightblue,style=filled];</span><br><span class="line">    c [shape=polygon,sides=4,skew=.4,label=&quot;hello world&quot;]</span><br><span class="line">    d [shape=invtriangle];</span><br><span class="line">    e [shape=polygon,sides=4,distortion=.7];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/posts/1414645917/graph-with-polygonal-shapes.svg"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">digraph structs&#123;</span><br><span class="line">node [shape=record];</span><br><span class="line">    struct1 [shape=record,label=&quot;&lt;f0&gt; left|&lt;f1&gt; mid\ dle|&lt;f2&gt; right&quot;];</span><br><span class="line">    struct2 [shape=record,label=&quot;&lt;f0&gt; one|&lt;f1&gt; two&quot;];</span><br><span class="line">    struct3 [shape=record,label=&quot;hello\nworld | &#123; b |&#123;c|&lt;here&gt; d|e&#125;| f&#125;|g|h &quot;];</span><br><span class="line">    struct1 -&gt; struct2;</span><br><span class="line">    struct1 -&gt; struct3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/posts/1414645917/records-with-nested-fields.svg"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">digraph G &#123;</span><br><span class="line">    node[shape=record,height=.1];   //å®šä¹‰nodeæ ·å¼</span><br><span class="line"></span><br><span class="line">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; A|&lt;f2&gt; &quot;]; //å…·ä½“çš„ä¸€ä¸ªnodeï¼Œå«ä¸‰ä¸ªå±æ€§ï¼Œç¬¬äºŒä¸ªå±æ€§æœ‰åå­—</span><br><span class="line">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; B|&lt;f2&gt; &quot;];</span><br><span class="line">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; C|&lt;f2&gt; &quot;];</span><br><span class="line">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; D|&lt;f2&gt; &quot;];</span><br><span class="line">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; E|&lt;f2&gt; &quot;];</span><br><span class="line">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; F|&lt;f2&gt; &quot;];</span><br><span class="line">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; H|&lt;f2&gt; &quot;];</span><br><span class="line">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; I|&lt;f2&gt; &quot;];</span><br><span class="line">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; J|&lt;f2&gt; &quot;];</span><br><span class="line">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; K|&lt;f2&gt; &quot;];</span><br><span class="line"></span><br><span class="line">    &quot;node0&quot;:f2 -&gt; &quot;node1&quot;: f1;  //node0çš„ç¬¬ä¸‰ä¸ªå±æ€§æŒ‡å‘node1çš„ç¬¬äºŒä¸ªå±æ€§</span><br><span class="line">    &quot;node1&quot;:f0 -&gt; &quot;node2&quot;: f1;</span><br><span class="line">    &quot;node1&quot;:f1 -&gt; &quot;node3&quot;: f2;</span><br><span class="line">    &quot;node3&quot;:f0 -&gt; &quot;node4&quot;: f0;</span><br><span class="line">    &quot;node3&quot;:f1 -&gt; &quot;node5&quot;: f1;</span><br><span class="line">    &quot;node3&quot;:f2 -&gt; &quot;node6&quot;: f2;</span><br><span class="line">    &quot;node6&quot;:f1 -&gt; &quot;node7&quot;: f1;</span><br><span class="line">    &quot;node7&quot;:f1 -&gt; &quot;node8&quot;: f0;</span><br><span class="line">    &quot;node2&quot;:f2 -&gt; &quot;node9&quot;: f1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/posts/1414645917/record-structure.svg">]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿™ç¯‡æ–‡ç« å‚è€ƒè‡ª&lt;a href=&quot;http://www.graphviz.org/pdf/dotguide.pdf&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Drawing graphs with &lt;em&gt;dot&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;span
      
    
    </summary>
    
      <category term="Graphviz" scheme="http://spiedeman.github.io/categories/Graphviz/"/>
    
    
      <category term="Graphviz" scheme="http://spiedeman.github.io/tags/Graphviz/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 16.04 LTS å¼€å¯BBR</title>
    <link href="http://spiedeman.github.io/posts/3381164653/"/>
    <id>http://spiedeman.github.io/posts/3381164653/</id>
    <published>2019-01-05T16:56:29.000Z</published>
    <updated>2021-09-18T02:10:59.622Z</updated>
    
    <content type="html"><![CDATA[<p>Vultr ä¸Šå®‰è£… ubuntu 16.04 å¹¶å¼€å¯BBRã€‚</p><h1 id="æ›´æ–°å†…æ ¸">æ›´æ–°å†…æ ¸</h1><p><code>BBR</code>åªæ”¯æŒ4.9+çš„Linuxå†…æ ¸ç‰ˆæœ¬ï¼Œå› æ­¤é¦–å…ˆæ£€æŸ¥å¹¶æ›´æ–°å†…æ ¸ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰å†…æ ¸ç‰ˆæœ¬</span></span><br><span class="line">uname -r</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…æœ€æ–°ç‰ˆå†…æ ¸</span></span><br><span class="line">sudo apt install linux-image-generic-hwe-16.04</span><br></pre></td></tr></table></figure><p></p><h1 id="é‡å¯">é‡å¯</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo reboot</span><br></pre></td></tr></table></figure><h1 id="å¼€å¯bbr">å¼€å¯BBR</h1><p>æ·»åŠ å¦‚ä¸‹ä¸¤è¡Œè‡³æ–‡ä»¶<code>/etc/sysctl.conf</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.default_qdisc=fq</span><br><span class="line">net.ipv4.tcp_congestion_control=bbr</span><br></pre></td></tr></table></figure><p></p><p>å¯åŠ¨bbr</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl -p</span><br></pre></td></tr></table></figure><p></p><p>éªŒè¯æ˜¯å¦æˆåŠŸ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lsmod | grep bbr</span><br><span class="line"></span><br><span class="line">tcp_bbr         20480 1</span><br></pre></td></tr></table></figure><p></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Vultr ä¸Šå®‰è£… ubuntu 16.04 å¹¶å¼€å¯BBRã€‚&lt;/p&gt;&lt;h1 id=&quot;æ›´æ–°å†…æ ¸&quot;&gt;æ›´æ–°å†…æ ¸&lt;/h1&gt;&lt;p&gt;&lt;code&gt;BBR&lt;/code&gt;åªæ”¯æŒ4.9+çš„Linuxå†…æ ¸ç‰ˆæœ¬ï¼Œå› æ­¤é¦–å…ˆæ£€æŸ¥å¹¶æ›´æ–°å†…æ ¸ã€‚&lt;/p&gt;&lt;figure class=&quot;highlight ba
      
    
    </summary>
    
      <category term="ç§‘å­¦ä¸Šç½‘" scheme="http://spiedeman.github.io/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
    
      <category term="BBR" scheme="http://spiedeman.github.io/tags/BBR/"/>
    
  </entry>
  
  <entry>
    <title>Pythonä¸‡ç‰©çš†å¯¹è±¡</title>
    <link href="http://spiedeman.github.io/posts/1949292692/"/>
    <id>http://spiedeman.github.io/posts/1949292692/</id>
    <published>2018-12-14T11:33:45.000Z</published>
    <updated>2021-09-18T02:10:59.622Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç±»ä¸å¯¹è±¡">ç±»ä¸å¯¹è±¡</h1><p><code>Python</code>ä¸­æœ‰ä¸¤ç§å…³ç³»ï¼š - ç±»ä¸å¯¹è±¡ï¼Œé¡¶ç‚¹ä¸º<code>Type</code>ã€‚ - ç»§æ‰¿ï¼Œé¡¶ç‚¹ä¸º<code>Object</code>ã€‚</p><h2 id="ç±»ä¸å¯¹è±¡type">ç±»ä¸å¯¹è±¡ï¼ˆTypeï¼‰</h2><p><code>__class__</code>æ–¹æ³•æŸ¥çœ‹å½“å‰å¯¹è±¡æ‰€å±çš„ç±»ï¼Œäº¦å³ç”±å“ªä¸ªç±»å®ä¾‹åŒ–å¾—åˆ°ã€‚</p><blockquote><p>Python ä¸­çš„å¯¹è±¡å¯ä»¥åˆ†æˆä¸¤ç§ - ä¸æ˜¯ç±»çš„å¯¹è±¡ï¼Œä¾‹å¦‚æ‰‹é‡Œçš„ä¸€ä¸ªğŸã€‚ - äº¦æ˜¯ç±»çš„å¯¹è±¡ï¼Œä¾‹å¦‚ğŸï¼Œä½œä¸ºæ°´æœè¿™ä¸ªç±»çš„ä¸€ä¸ªå®ä¾‹ï¼ˆå¯¹è±¡ï¼‰ã€‚</p></blockquote><p>ç±»æ¯”å¦‚ä¸‹å…³ç³»ï¼š &gt; æ‰‹é‡Œçš„ğŸï¼ˆåˆ›å»ºè‡ªï¼‰ğŸï¼ˆåˆ›å»ºè‡ªï¼‰æ°´æœï¼ˆåˆ›å»ºè‡ªï¼‰é£Ÿç‰©ï¼ˆåˆ›å»ºè‡ªï¼‰... é¡¶ç‚¹</p><p>Python ç‰ˆæœ¬ &gt; ä¸æ˜¯ç±»çš„å¯¹è±¡ï¼ˆåˆ›å»ºè‡ªï¼‰äº¦æ˜¯ç±»çš„å¯¹è±¡ï¼ˆåˆ›å»ºè‡ªï¼‰ç±»çš„ç±»ï¼ˆåˆ›å»ºè‡ªï¼‰Typeï¼ˆé¡¶ç‚¹ï¼‰</p><h2 id="ç»§æ‰¿object">ç»§æ‰¿ï¼ˆObjectï¼‰</h2><p><code>__base__</code>æ–¹æ³•æŸ¥çœ‹å½“å‰ç±»çš„çˆ¶ç±»ï¼Œäº¦å³ç»§æ‰¿è‡ªå“ªä¸ªç±»ã€‚</p><blockquote><p>Python ä¸­çš„ç±»ä¹Ÿå¯ä»¥åˆ†æˆä¸¤ç§ - æ™®é€šç±»ï¼Œç±»ç»§æ‰¿é“¾æ¡çš„æœ«ç«¯ï¼Œå…¶å®ä¾‹ä¸æ˜¯ç±»ã€‚ - å…ƒç±»ï¼Œç±»ç»§æ‰¿é“¾æ¡çš„éæœ«ç«¯ï¼Œå…¶å®ä¾‹ä¾ç„¶æ˜¯ç±»ã€‚</p></blockquote><p>ç±»æ¯”å¦‚ä¸‹å…³ç³»ï¼š &gt; ğŸï¼ˆç»§æ‰¿è‡ªï¼‰æ°´æœï¼ˆç»§æ‰¿è‡ªï¼‰é£Ÿç‰©ï¼ˆç»§æ‰¿è‡ªï¼‰... é¡¶ç‚¹</p><p>Python ç‰ˆæœ¬ &gt; æ™®é€šç±»ï¼ˆç»§æ‰¿è‡ªï¼‰å…ƒç±»ï¼ˆç»§æ‰¿è‡ªï¼‰...ï¼ˆç»§æ‰¿è‡ªï¼‰Objectï¼ˆé¡¶ç‚¹ï¼‰</p><h2 id="typeobject">Type/Object</h2><p>Type ä½œä¸º - ç±»ï¼Œç»§æ‰¿è‡ª Object - å¯¹è±¡ï¼Œåˆ›å»ºè‡ª Typeï¼ˆè‡ªèº«ï¼‰</p><p>Object ä½œä¸º - ç±»ï¼Œç»§æ‰¿è‡ª Objectï¼ˆè‡ªèº«ï¼‰ - å¯¹è±¡ï¼Œåˆ›å»ºè‡ª Type</p><img src="/posts/1949292692/type-and-object.png" title="ç±»ä¸å¯¹è±¡å…³ç³»"><hr><blockquote><p>é“ç”Ÿä¸€ï¼Œä¸€ç”ŸäºŒï¼ŒäºŒç”Ÿä¸‰ï¼Œä¸‰ç”Ÿä¸‡ç‰©</p></blockquote><p>ç½‘ä¸Šæœ‰äººç”¨å®ƒæ¥ç†è§£ <strong>ç±»å¯¹è±¡</strong> å…³ç³»ï¼Œè§‰å¾—ç”ŸåŠ¨å½¢è±¡ï¼Œæ•…è®°å½•äºæ­¤ã€‚ 1ã€é“ å³ Type 2ã€ä¸€ å³ å…ƒç±» 3ã€äºŒ å³ æ™®é€šç±» 4ã€ä¸‰ å³ å®ä¾‹ 5ã€<strong>ä¸‡ç‰©</strong> å³ å„ç§å®ä¾‹å±æ€§ï¼Œæ–¹æ³•</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ç±»ä¸å¯¹è±¡&quot;&gt;ç±»ä¸å¯¹è±¡&lt;/h1&gt;&lt;p&gt;&lt;code&gt;Python&lt;/code&gt;ä¸­æœ‰ä¸¤ç§å…³ç³»ï¼š - ç±»ä¸å¯¹è±¡ï¼Œé¡¶ç‚¹ä¸º&lt;code&gt;Type&lt;/code&gt;ã€‚ - ç»§æ‰¿ï¼Œé¡¶ç‚¹ä¸º&lt;code&gt;Object&lt;/code&gt;ã€‚&lt;/p&gt;&lt;h2 id=&quot;ç±»ä¸å¯¹è±¡type&quot;&gt;ç±»ä¸å¯¹è±¡ï¼ˆTyp
      
    
    </summary>
    
      <category term="Python" scheme="http://spiedeman.github.io/categories/Python/"/>
    
    
      <category term="ç±»å‹ä¸å¯¹è±¡" scheme="http://spiedeman.github.io/tags/%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%AF%B9%E8%B1%A1/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨é›†ç¾¤ï¼ˆCentOS 6.6ï¼‰ä¸Šå®‰è£…YouCompleteMe</title>
    <link href="http://spiedeman.github.io/posts/3242500049/"/>
    <id>http://spiedeman.github.io/posts/3242500049/</id>
    <published>2018-12-08T16:25:58.000Z</published>
    <updated>2021-09-18T02:10:59.542Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ</h1><h2 id="è·å–åŠ¨æ€åº“">è·å–åŠ¨æ€åº“</h2><p>å®‰è£…<code>YouCompleteMe</code>æ‰€éœ€çš„å…¶å®åªæœ‰ä¸€ä¸ªåŠ¨æ€åº“æ–‡ä»¶<code>libclang.so.$version</code>ã€‚ç”±äº<code>YCM</code>ä¸€ç›´åœ¨å‡çº§ï¼Œå¯¹<code>clang</code>çš„ç‰ˆæœ¬è¦æ±‚ä¹Ÿè¶Šæ¥è¶Šé«˜ã€‚ æ— å¥ˆå®˜ç½‘æœ€æ–°çš„å‡ ä¸ªç‰ˆæœ¬éƒ½æ²¡æœ‰ç»™å‡º<code>CentOS</code>çš„é¢„ç¼–è¯‘åŒ…ï¼Œåªèƒ½ä¸‹è½½å®˜ç½‘<code>unknown-linux-gnu</code>ç‰ˆæœ¬æˆ–è‡ªè¡Œç¼–è¯‘<code>clang</code>å¾—åˆ°åº“æ–‡ä»¶ã€‚</p><p>å®é™…å°è¯•è¿‡åå‘ç°å®˜ç½‘<code>unknown-linux-gnu</code>ç‰ˆæœ¬è™½ç„¶å¯ä»¥ç¼–è¯‘é€šè¿‡ï¼Œä½†æ˜¯æ— æ³•ä½¿ç”¨ã€‚å› æ­¤åªèƒ½é€‰æ‹©è‡ªè¡Œç¼–è¯‘<code>clang</code>ï¼Œå…·ä½“ç¼–è¯‘å®‰è£…è¿‡ç¨‹å¯ä»¥<a href="/posts/2372579481/" title="å‚è€ƒ">å‚è€ƒ</a>ã€‚</p><h2 id="é…ç½®gccåŠgç‰ˆæœ¬">é…ç½®gccåŠg++ç‰ˆæœ¬</h2><p>ç”±äºé›†ç¾¤é»˜è®¤<code>gcc</code>ç‰ˆæœ¬å¤ªä½ï¼Œæ•…éœ€åˆ‡æ¢é«˜ç‰ˆæœ¬<code>gcc</code>å¹¶è®¾ç½®<code>CC</code>å’Œ<code>CXX</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> CC=gcc</span><br><span class="line"><span class="built_in">export</span> CXX=g++</span><br><span class="line"><span class="comment"># ä¸åšä¸Šè¿°è®¾ç½®åˆ™éœ€è¦æ·»åŠ  CMAKE é€‰é¡¹</span></span><br><span class="line"><span class="comment"># -DCMAKE_C_COMPILER=gcc</span></span><br><span class="line"><span class="comment"># â€”DCMAKE_CXX_COMPILER=g++</span></span><br></pre></td></tr></table></figure><p></p><h2 id="è®¾ç½®pythonç‰ˆæœ¬">è®¾ç½®pythonç‰ˆæœ¬</h2><p><code>YouCompleteMe</code>ç›®å‰åŒæ—¶æ”¯æŒ<code>python2</code>åŠ<code>python3</code>ï¼Œå› æ­¤å¼€å¯<code>vim</code>å¯¹<code>python2/3</code>çš„æ”¯æŒå‡å¯ä»¥ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ‡æ¢shellä¸­pythonç‰ˆæœ¬ï¼Œä½¿å…¶ä¸vimæ”¯æŒçš„ä¸€è‡´</span></span><br><span class="line">pyenv shell 2.7.15</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">pyenv shell 3.6.6</span><br></pre></td></tr></table></figure><p></p><p><strong>é—®é¢˜</strong>ï¼šåŸæœ¬æƒ³ç¼–è¯‘<code>vim</code>ä½¿å…¶åŒæ—¶æ”¯æŒ<code>python2</code>å’Œ<code>python3</code>ï¼Œä½†ä¸çŸ¥å“ªé‡Œå‡ºäº†é—®é¢˜ï¼Œè™½ç„¶æ˜¾ç¤ºåŒæ—¶æ”¯æŒï¼Œå¯å®é™…ä¸Šä¸€ä¸ªéƒ½ä¸æ”¯æŒã€‚</p><h1 id="å®‰è£…-ycm">å®‰è£… YCM</h1><h2 id="æ–¹æ³•ä¸€">æ–¹æ³•ä¸€</h2><p>ä½¿ç”¨è‡ªå¸¦å®‰è£…è„šæœ¬<code>install.py</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># YCM é€šè¿‡sha256æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦ä»å®˜ç½‘ä¸‹è½½éœ€è¦çš„åº“æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># ä¸ºäº†é¿å…è‡ªåŠ¨ä¸‹è½½ï¼Œä½¿å…¶ä½¿ç”¨è‡ªè¡Œç¼–è¯‘å¹¶æ‰“åŒ…çš„åŠ¨æ€åº“</span></span><br><span class="line"><span class="comment"># éœ€è¦ä¿®æ”¹å¦‚ä¸‹æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$HOME</span>/.vim/vim_plugin/YouCompleteMe/third_party/ycmd/cpp/ycm/</span><br><span class="line">vim CMakeLists.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹ç¬¬74è¡Œï¼Œå°†è¯¥sha256å€¼æ›¿æ¢ä¸ºè‡ªå·±çš„å‹ç¼©æ–‡ä»¶çš„sha256å€¼ï¼Œä¿å­˜å¹¶æ¨å‡ºã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†æ‰“åŒ…çš„åº“æ–‡ä»¶æ”¾åˆ°å¦‚ä¸‹ç›®å½•ä¸­</span></span><br><span class="line">mv /path/to/my/libclang-<span class="variable">$version</span>-*.tar.bz2 ../../clang_archive/</span><br></pre></td></tr></table></figure><p></p><h2 id="æ–¹æ³•äºŒ">æ–¹æ³•äºŒ</h2><p>ä½¿ç”¨æˆ‘è‡ªå·±å†™çš„è„šæœ¬è¿›è¡Œ<code>Full Installation</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è‡ªå®šä¹‰è·¯å¾„</span></span><br><span class="line">pathbuild=<span class="variable">$HOME</span>/ycm_build</span><br><span class="line">pathdest=<span class="variable">$HOME</span>/.vim/vim_plugin/YouCompleteMe/third_party/ycmd/cpp</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°å»ºç›®å½• build</span></span><br><span class="line">[ -d <span class="variable">$pathbuild</span> ] &amp;&amp; rm -rf <span class="variable">$pathbuild</span></span><br><span class="line">mkdir <span class="variable">$pathbuild</span> &amp;&amp; <span class="built_in">cd</span> <span class="variable">$pathbuild</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å§‹ç¼–è¯‘</span></span><br><span class="line">cmake -DCMAKE_C_COMPILER=gcc \</span><br><span class="line">    -DCMAKE_CXX_COMPILER=g++ \</span><br><span class="line">    -DUSE_PYTHON2=<span class="string">'OFF'</span> \</span><br><span class="line">    -DPYTHON_INCLUDE_DIR=<span class="variable">$HOME</span>/.pyenv/versions/3.6.6/include/python3.6m \</span><br><span class="line">    -DPYTHON_LIBRARY=<span class="variable">$HOME</span>/.pyenv/versions/3.6.6/lib/libpython3.6m.so \</span><br><span class="line">    -G <span class="string">"Unix Makefiles"</span> -DEXTERNAL_LIBCLANG_PATH=/path/to/libclang.so .  <span class="variable">$pathdest</span></span><br><span class="line"></span><br><span class="line">cmake --build . --target ycm_core --config Release</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤ç›®å½• build</span></span><br><span class="line">rm -rf <span class="variable">$pathbuild</span></span><br></pre></td></tr></table></figure><p></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;å‡†å¤‡å·¥ä½œ&lt;/h1&gt;&lt;h2 id=&quot;è·å–åŠ¨æ€åº“&quot;&gt;è·å–åŠ¨æ€åº“&lt;/h2&gt;&lt;p&gt;å®‰è£…&lt;code&gt;YouCompleteMe&lt;/code&gt;æ‰€éœ€çš„å…¶å®åªæœ‰ä¸€ä¸ªåŠ¨æ€åº“æ–‡ä»¶&lt;code&gt;libclang.so.$version&lt;/code&gt;ã€‚ç”±äº&lt;code&gt;YCM&lt;/
      
    
    </summary>
    
      <category term="Vim" scheme="http://spiedeman.github.io/categories/Vim/"/>
    
    
      <category term="YouCompleteMe" scheme="http://spiedeman.github.io/tags/YouCompleteMe/"/>
    
  </entry>
  
</feed>
