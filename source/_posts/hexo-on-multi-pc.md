---
title: åœ¨å¤šå°ç”µè„‘ä¸ŠåŒæ­¥æ›´æ–°Hexoåšå®¢
tags:
  - Hexo
abbrlink: 77781092
date: 2019-04-20 16:04:50
---

# èƒŒæ™¯
ç›®å‰æ›´æ–°åšå®¢æ–‡ç« ï¼Œåªåœ¨è‡ªå·±çš„ç¬”è®°æœ¬æ“ä½œã€‚ä¸€æ—¦æƒ³è¦åœ¨åŠå…¬å®¤çš„å°å¼æœºä¸Šå†™æ–‡ç« å¹¶å‘å¸ƒåˆ°
Github Pages ä¸Šå°±å˜å¾—å¾ˆéº»çƒ¦ï¼Œä¸€æ—¶ä¸çŸ¥ä»ä½•ä¸‹æ‰‹ã€‚


# éœ€æ±‚
åšå®¢çš„æºæ–‡ä»¶èƒ½åœ¨å¤šä¸ªè®¾å¤‡ä¸ŠåŒæ­¥æ›´æ–°ï¼Œå¹¶ä¸”åœ¨ä»»æ„è®¾å¤‡ä¸Šéƒ½èƒ½è‡ªå¦‚å†™æ–‡ç« å¹¶å‘å¸ƒã€‚

# æ–¹æ¡ˆ
åˆ©ç”¨ `GitHub` çš„åˆ†æ”¯åŠŸèƒ½ï¼Œå°† `Hexo`å»ºç«™çš„å¿…å¤‡æºæ–‡ä»¶ä»¥åŠåšå®¢æ–‡ç« çš„æºæ–‡ä»¶å¤‡ä»½åˆ° `source` åˆ†æ”¯ä¸Šã€‚è€Œ `hexo`ç”Ÿæˆçš„é™æ€åšå®¢æ–‡ä»¶ä»ç„¶æ”¾åœ¨é»˜è®¤çš„ `master` åˆ†æ”¯ä¸Šã€‚è¿™æ ·åœ¨ä»»ä½•è®¾å¤‡ä¸Šåªéœ€å°†`source` åˆ†æ”¯å…‹éš†åˆ°æœ¬åœ°ï¼Œå³å¯å¼€å§‹å†™æ–°åšå®¢ã€‚ä¹‹åé€šè¿‡ `hexo`å‘½ä»¤å³å¯å°†æ–°ç”Ÿæˆçš„ç½‘ç«™å†…å®¹æ¨é€åˆ° `master` åˆ†æ”¯ä¸Šã€‚ä¸¤ä¸ªåˆ†æ”¯ä¸Šçš„å†…å®¹äº’ä¸å¹²æ‰°ï¼Œéƒ½èƒ½ç»´æŒæœ€æ–°çŠ¶æ€ã€‚

## æ“ä½œ

### åˆ›å»ºæ–°çš„åˆ†æ”¯
æ–°åˆ†æ”¯çš„å‘½åæ²¡æœ‰è¦æ±‚ï¼Œæœ¬æ–‡é‡‡ç”¨`source`ã€‚

åˆ›å»ºåˆ†æ”¯çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼Œ
- åœ¨æµè§ˆå™¨ä¸­ç™»é™†[GitHub](https://github.com)è¿›è¡Œæ“ä½œã€‚
- åœ¨æœ¬åœ°é€šè¿‡å‘½ä»¤è¡Œæ“ä½œã€‚

ç”±äºæµè§ˆå™¨æ“ä½œæ¯”è¾ƒç®€å•ï¼Œå°±ä¸è¯¦ç»†è®¨è®ºäº†ã€‚é‡ç‚¹è®°å½•ä¸€ä¸‹ç»ˆç«¯æ“ä½œè¿‡ç¨‹ã€‚

1ã€å…‹éš†ä»“åº“ `username.github.io` åˆ°æœ¬åœ°
```bash
git clone https://github.com/username/username.github.io Hexo
```

2ã€è¿›å…¥è¯¥æ–‡ä»¶å¤¹å¹¶åˆ›å»ºæ–°çš„åˆ†æ”¯
```bash
cd username.github.io

# åˆ›å»ºæ–°çš„åˆ†æ”¯ source
git checkout -b source
```

3ã€åœ¨ `source` åˆ†æ”¯å†…åˆ é™¤åŸæœ‰çš„æ‰€æœ‰æ–‡ä»¶ï¼Œç„¶åå°† `Hexo`
å»ºç«™æ‰€éœ€çš„å¿…å¤‡æ–‡ä»¶ä»¥åŠæ‰€æœ‰çš„åšå®¢æ–‡ç« æ‹·è´è¿›æ¥

```bash
# åˆ é™¤æ‰€æœ‰çš„åŸæœ‰å†…å®¹ï¼Œ.git æ–‡ä»¶å¤¹ä¿ç•™
rm -rf *

# æ‹·è´å¿…è¦çš„æ–‡ä»¶åˆ°å½“å‰ç›®å½•
cp -r /path/to/hexo/source .
cp -r /path/to/hexo/scaffolds .
cp -r /path/to/hexo/themes .
cp /path/to/hexo/_config.yml .
cp /path/to/hexo/package.json .
```

éœ€è¦æ³¨æ„çš„æ˜¯ `themes` ä¸­å¯èƒ½å­˜åœ¨ `.git` æ–‡ä»¶å¤¹ï¼Œéœ€è¦æŠŠå®ƒä»¬å…¨éƒ¨åˆ é™¤ã€‚

4ã€æäº¤ source åˆ†æ”¯
ç”±äº `Hexo` å‘½ä»¤ç”Ÿæˆç½‘ç«™å†…å®¹æ—¶ä¼šæ–°å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ `public` å’Œ`.deploy_git`ã€‚`public`ä¸­åŒ…å«çš„æ­£æ˜¯æ‰€æœ‰ç½‘ç«™çš„æºæ–‡ä»¶ï¼Œè¿™äº›å†…å®¹å¹¶ä¸éœ€è¦ä¿å­˜åœ¨ `source`åˆ†æ”¯ï¼Œå› æ­¤æäº¤æ—¶è¦å¿½ç•¥ã€‚`.deploy_git` æ˜¯ `Hexo`å¸®æˆ‘ä»¬æŠŠç½‘ç«™å†…å®¹æ¨é€åˆ° `master`åˆ†æ”¯ä¸Šæ‰€å»ºçš„æ–‡ä»¶å¤¹ï¼Œæ•…ä¹Ÿå¯ä»¥å¿½ç•¥ã€‚å¦å¤–ä¸éœ€è¦æ¨é€çš„ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä¾¿æ˜¯`node_modules`ã€‚è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œæ˜¯ `Hexo`ç”¨åˆ°çš„æ‰€æœ‰æ’ä»¶ï¼Œåœ¨æœ¬åœ°å®‰è£…ä¸€ä¸‹å°±æœ‰äº†ï¼Œä¸éœ€è¦ä¿å­˜åœ¨ `GitHub` ä¸Šã€‚

å› æ­¤ï¼Œæäº¤ `source` åˆ†æ”¯å‰éœ€è¦

```bash
echo 'node_modules' >> .gitignore
echo 'public' >> .gitignore
echo '.deploy_git' >> .gitignore
```

ç°åœ¨å¯ä»¥æäº¤äº†

```bash
git add .
git commit -m "update blog files"
git push origin source
```

### åœ¨æ–°è®¾å¤‡ä¸Šçš„å‡†å¤‡å·¥ä½œ
è¦åœ¨æ–°è®¾å¤‡ä¸Šæ„‰å¿«åœ°ç”¨ `Hexo` å†™åšå®¢ä¹‹å‰ï¼Œéœ€è¦åšä¸€äº›å‡†å¤‡å·¥ä½œã€‚

1ã€å®‰è£… gitï¼Œå¹¶å°†æ–°è®¾å¤‡ä¸Šçš„ ssh key æ·»åŠ åˆ° GitHub è´¦æˆ·ä¸Šã€‚

2ã€å®‰è£… Hexo

3ã€æŠŠ souce åˆ†æ”¯å…‹éš†åˆ°æœ¬åœ°

```bash
git clone -b source git@github.com:username/username.github.io.git Hexo

# è‹¥å·²å°† source åˆ†æ”¯è®¾ä¸ºé»˜è®¤åˆ†æ”¯ï¼Œåˆ™å¯ä»¥ç®€åŒ–å‘½ä»¤
git clone https://github.com/username/username.github.io Hexo
```

4ã€å®‰è£…æ‰€æœ‰ä¾èµ–ï¼Œç”Ÿæˆ `node_modules` ç›®å½•
```bash
npm install
```

5ã€åˆ›å»ºæ–°æ–‡ç« ï¼Œç”Ÿæˆåšå®¢çš„é™æ€æ–‡ä»¶ï¼ˆå³ `public` ç›®å½•ï¼‰
```bash
hexo new "title"

# æ–‡ç« å†™å®Œä¹‹å
hexo g
```

6ã€å°†åšå®¢å†…å®¹æ¨é€åˆ° GitHub ä¸Š
```bash
# åšå®¢çš„é™æ€æ–‡ä»¶åœ¨ master åˆ†æ”¯ï¼Œå…¶ä»–çš„æºæ–‡ä»¶åœ¨ source åˆ†æ”¯
# _config.yml ä¸­ deploy çš„ branch å€¼å¿…é¡»ä¸º master
hexo d
```

7ã€æœ€åæŠŠä¿®æ”¹æ¨é€åˆ° source åˆ†æ”¯
```bash
git add .
git commit -m "commit message"
git push origin source
```

**æ³¨æ„**ï¼šåœ¨æ–°è®¾å¤‡ä¸Šçš„æ‰€æœ‰æ“ä½œéƒ½åœ¨ `source` åˆ†æ”¯ä¸‹å®Œæˆã€‚

### æ—¥å¸¸æ“ä½œ
ç”±äºä¸Šä¸€æ¬¡æ›´æ–°åšå®¢æœ‰å¯èƒ½ä¸æ˜¯åœ¨æ‰‹å¤´çš„ç”µè„‘ä¸Šæ“ä½œçš„ã€‚å› æ­¤ `GitHub` ä¸Šçš„ `source` åˆ†æ”¯å¯èƒ½æ¯”æœ¬åœ°çš„æ›´æ–°ï¼Œå› æ­¤é¦–å…ˆè¦æ›´æ–°æœ¬åœ°çš„ `source` åˆ†æ”¯ã€‚

```bash
git pull origin source
```

æ¥ä¸‹æ¥ï¼ŒæŒ‰ç…§æ­£å¸¸æµç¨‹å†™æ–‡ç« å¹¶ç”¨`hexo`éƒ¨ç½²åˆ°`GitHub`ä¸Šã€‚

æœ€åï¼ŒæŠŠå¯¹æºæ–‡ä»¶çš„ä¿®æ”¹æ¨é€åˆ° `source` åˆ†æ”¯ä¸Šã€‚


--- 
:clap: åˆğŸ‰ï¸åˆ°ä¸€é¡¹æ–°æŠ€èƒ½ï¼Œå“ˆå“ˆ:smirk:

---
å‚è€ƒèµ„æ–™ï¼š
[theqwang's blog](https://theqwang.github.io/2017/03/17/åœ¨å¤šå°ç”µè„‘é—´ä½¿ç”¨hexo/#more)
