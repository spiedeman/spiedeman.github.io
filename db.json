{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[],"Cache":[{"_id":"source/_posts/YouCompleteMe-on-ITP.md","hash":"ae5db28dfcf1871cb2e33f2834b2da9ba13c573d","modified":1555811908728},{"_id":"source/_posts/article2.md","hash":"eb4585fd41912b26416df7d6047540700671d6a4","modified":1555811908728},{"_id":"source/_posts/bash-sed.md","hash":"a3ab55f1a685f8b0f599e64e0fba746fa1a4b688","modified":1555811908751},{"_id":"source/_posts/bash-tips.md","hash":"eb338c561f3453d679ed64df2990803b31cb83ac","modified":1555811908751},{"_id":"source/_posts/camb-with-python-on-mac.md","hash":"ba552e34c60bda5369704e6f8b4a1d0fcc602d76","modified":1555811908751},{"_id":"source/_posts/clang-from-source-on-centos6.md","hash":"9e3df7c9a13126d87335ed2bfe00aed2174b0923","modified":1555811908752},{"_id":"source/_posts/cosmology.md","hash":"18ce4b497d8c01064506815673f38bc90831f52f","modified":1555811908752},{"_id":"source/_posts/euler-lagrange-equation.md","hash":"8a3cbe9162ceb5695c75d838583daa94273303ed","modified":1555811908752},{"_id":"source/_posts/graphviz-introduction.md","hash":"02afa4c8fa34cc4aafedec3974340e37b565bc76","modified":1555811908753},{"_id":"source/_posts/hello-world.md","hash":"c49eb886e163fa8b650b8ccc71cb38a131eb7c15","modified":1555811908755},{"_id":"source/_posts/hexo-guide.md","hash":"0a8aadba035aa44e91db857e57ce89a78176ad67","modified":1555811908755},{"_id":"source/_posts/hexo-on-multi-pc.md","hash":"4bee464f1059dfd203b5f34966810aa4bee56f66","modified":1555811908755},{"_id":"source/_posts/homebrew-guide.md","hash":"ff96f4a03383263998fe4fcdb0f5597986d4867f","modified":1555811908756},{"_id":"source/_posts/jupyter-with-virtualenv.md","hash":"5abab09cdd39185b4eea4e41cc841ed3ee1a63ce","modified":1555811908756},{"_id":"source/_posts/matplotlib-tips.md","hash":"8e3e0b87c1fca8c9e2f92f627dc32cd3513149c5","modified":1555811908757},{"_id":"source/_posts/pandas-guide.md","hash":"b8a702efbdfe4b90822153a3ee8d1b9115210195","modified":1555811908761},{"_id":"source/_posts/physics-oscillation.md","hash":"419d9ed1325a881ac6f760bc5efabe0727e9edc8","modified":1555811908761},{"_id":"source/_posts/pyenv-guide.md","hash":"3b6125d3b78ae8a766988deb23cb987733214223","modified":1555811908762},{"_id":"source/_posts/python-metaclass.md","hash":"ad2a89d1c12b11954475582b571f061407ebf104","modified":1555811908763},{"_id":"source/_posts/python-type-and-object.md","hash":"c7583f7435e750a787f0e9e8c96675f7bc2c5805","modified":1555811908763},{"_id":"source/_posts/raspberry-install.md","hash":"5e77f8c4c28a6d2f79a2cfc434f59da8182ad771","modified":1555811908764},{"_id":"source/_posts/vector-tensor-decomposition.md","hash":"795e3bc242d6a47b3f3fa24fd3bfa8496e1d95a0","modified":1555811908764},{"_id":"source/_posts/vim-install-from-source.md","hash":"f44f3b0258c125e6ea719038dd15b59b95577c29","modified":1555811908764},{"_id":"source/_posts/vim-tips.md","hash":"71b12eb9ea0446dcdd357239db89de19ee13a82a","modified":1555811908765},{"_id":"source/_posts/vultr-ubuntu16-04-bbr.md","hash":"0930a8539af4d7c9451e3ffb02a092453f8e95c5","modified":1555811908765},{"_id":"source/about/index.md","hash":"9c95cabb533409d06daefc4295021ad199761efc","modified":1555562577221},{"_id":"source/categories/index.md","hash":"5d2a4f103d27bebbe3eef1604649d0f5c6d86ac6","modified":1555562546706},{"_id":"source/links/index.md","hash":"febcf87eb0ab3c5080578275d25f3970bba39625","modified":1555562571292},{"_id":"source/books/index.md","hash":"cf4163959c23244059cbbbc1c0fe379cc3b2cb73","modified":1555562521491},{"_id":"source/repository/index.md","hash":"ed0e082c30f233dd5c140d188f1e4bce44bdbf79","modified":1552835312000},{"_id":"source/tags/index.md","hash":"42e9c904ea63b0a7dd4033e2e8f153225bc5cda5","modified":1555562566311},{"_id":"source/_posts/article2/ocsillator.png","hash":"da24e2bcf928d2b1a14c9d1cad79bcd2b72a3709","modified":1555811908751},{"_id":"source/_posts/graphviz-introduction/graph-with-polygonal-shapes.dot","hash":"2a613cd8c0ead804476cbccb2bd89976e2b6dbc9","modified":1555811908753},{"_id":"source/_posts/graphviz-introduction/graph-with-polygonal-shapes.svg","hash":"71f97a882c47103f791f8d5b38611b6463c369fe","modified":1555811908753},{"_id":"source/_posts/graphviz-introduction/record-structure.dot","hash":"28ec9df8780e13d9ac97bfcad430bc400d6be9a3","modified":1555811908754},{"_id":"source/_posts/graphviz-introduction/record-structure.svg","hash":"5ca7a7c1b2c5ba2dcefe75d8f5ff40dc8184d71e","modified":1555811908754},{"_id":"source/_posts/graphviz-introduction/records-with-nested-fields.dot","hash":"49f9159ba863db7953f1e2ea77bcd6b4d524684c","modified":1555811908754},{"_id":"source/_posts/graphviz-introduction/records-with-nested-fields.svg","hash":"a8954f3afb1a1ad22dfa764a108a01156ef30d33","modified":1555811908755},{"_id":"source/_posts/jupyter-with-virtualenv/jupyter-with-virtualenv.png","hash":"369ef959659272883d7f81d2ffa68e9445e85b4d","modified":1555811908757},{"_id":"source/_posts/matplotlib-tips/.DS_Store","hash":"490616f0811fdfad854e782aecef84bca4613767","modified":1555811908758},{"_id":"source/_posts/matplotlib-tips/Figure_1.png","hash":"f53b2508a900e9eafbf3fe4a9e242df0ac44d73c","modified":1555811908758},{"_id":"source/_posts/matplotlib-tips/Figure_2.png","hash":"f53b2508a900e9eafbf3fe4a9e242df0ac44d73c","modified":1555811908759},{"_id":"source/_posts/matplotlib-tips/Figure_3.png","hash":"fcaf935133a157d98d973f27c24afee9d826c248","modified":1555811908759},{"_id":"source/_posts/matplotlib-tips/Figure_4.png","hash":"5ed939c90d52c4e1be165f5830032a75c6a66c4b","modified":1555811908759},{"_id":"source/_posts/matplotlib-tips/Figure_5.png","hash":"2203e5c09041a4f3af3beca610b19d200c337955","modified":1555811908760},{"_id":"source/_posts/matplotlib-tips/Figure_6.png","hash":"e3b8ee15b80d44e152d214fb75a0ee55785f7f3f","modified":1555811908760},{"_id":"source/_posts/python-type-and-object/type-and-object.png","hash":"9b905928754c6d2d1f5aca4ced08e3a7623f3ba3","modified":1555811908764},{"_id":"source/_posts/physics-oscillation/damp-oscillation.png","hash":"46ca16f71c216d9b0d1c743e2717abb9fc566b1d","modified":1555811908762},{"_id":"source/_posts/article2/buffon_needle.gif","hash":"fa940a62e55dab08db8d122bbe90b6d12146cc40","modified":1555811908750},{"_id":"public/atom.xml","hash":"d1066f7f4b25940705426aa65cfc8beb6173fe4f","modified":1555813033890},{"_id":"public/content.json","hash":"cb26491c1785fc9aab47ad87fb64d64cb96c431e","modified":1555813033890},{"_id":"public/sitemap.xml","hash":"c7e224e0a51a43c9cb8dd4f0446dcdda9e21e3a0","modified":1555813033891},{"_id":"public/about/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033913},{"_id":"public/categories/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033913},{"_id":"public/links/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033913},{"_id":"public/books/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033913},{"_id":"public/repository/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033914},{"_id":"public/tags/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033914},{"_id":"public/posts/1243066710/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033914},{"_id":"public/posts/77781092/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033914},{"_id":"public/posts/4131642440/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033914},{"_id":"public/posts/1414645917/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033914},{"_id":"public/posts/3381164653/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033914},{"_id":"public/posts/1949292692/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033914},{"_id":"public/posts/3242500049/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033914},{"_id":"public/posts/2372579481/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033915},{"_id":"public/posts/3465068350/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033915},{"_id":"public/posts/319510325/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033915},{"_id":"public/posts/4141491110/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033915},{"_id":"public/posts/3538923028/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033915},{"_id":"public/posts/3264731549/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033915},{"_id":"public/posts/2712929324/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033915},{"_id":"public/posts/3976093928/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033915},{"_id":"public/posts/1952119038/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033915},{"_id":"public/posts/2388637373/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033915},{"_id":"public/posts/1982572123/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033915},{"_id":"public/posts/1362387800/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033915},{"_id":"public/posts/3384466728/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033916},{"_id":"public/posts/2825119572/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033916},{"_id":"public/posts/1795312736/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033916},{"_id":"public/posts/2704906340/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033916},{"_id":"public/posts/386283100/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033916},{"_id":"public/posts/3452120969/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033916},{"_id":"public/archives/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033916},{"_id":"public/archives/page/2/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033916},{"_id":"public/archives/page/3/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033916},{"_id":"public/archives/2017/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033916},{"_id":"public/archives/2017/06/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033916},{"_id":"public/archives/2017/12/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033916},{"_id":"public/archives/2018/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033917},{"_id":"public/archives/2018/01/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033917},{"_id":"public/archives/2018/page/2/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033917},{"_id":"public/archives/2018/09/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033917},{"_id":"public/archives/2018/10/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033917},{"_id":"public/archives/2018/11/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033917},{"_id":"public/archives/2018/12/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033917},{"_id":"public/archives/2019/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033917},{"_id":"public/archives/2019/01/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033917},{"_id":"public/archives/2019/02/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033917},{"_id":"public/archives/2019/04/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033917},{"_id":"public/categories/Vim/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033917},{"_id":"public/categories/article/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033917},{"_id":"public/categories/bash/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033918},{"_id":"public/categories/python/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033918},{"_id":"public/categories/Clang/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033918},{"_id":"public/categories/cosmology/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033918},{"_id":"public/categories/QFT/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033918},{"_id":"public/categories/Graphviz/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033918},{"_id":"public/categories/hexo/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033918},{"_id":"public/categories/Homebrew/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033918},{"_id":"public/categories/Python/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033918},{"_id":"public/categories/python/matplotlib/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033919},{"_id":"public/categories/Physics/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033919},{"_id":"public/categories/Raspberrypi/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033919},{"_id":"public/categories/Math/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033919},{"_id":"public/categories/Vultr/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033919},{"_id":"public/categories/Python/Pandas/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033919},{"_id":"public/categories/Physics/Oscillation/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033919},{"_id":"public/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033919},{"_id":"public/page/2/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033919},{"_id":"public/page/3/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033920},{"_id":"public/tags/YouCompleteMe/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033920},{"_id":"public/tags/bash/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033920},{"_id":"public/tags/sed/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033920},{"_id":"public/tags/python/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033920},{"_id":"public/tags/camb/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033920},{"_id":"public/tags/clang/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033920},{"_id":"public/tags/centos/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033920},{"_id":"public/tags/cosmology/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033920},{"_id":"public/tags/最小作用量/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033921},{"_id":"public/tags/诺特定理/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033921},{"_id":"public/tags/graphviz/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033921},{"_id":"public/tags/hexo/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033921},{"_id":"public/tags/Hexo/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033921},{"_id":"public/tags/homebrew/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033921},{"_id":"public/tags/jupyter/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033921},{"_id":"public/tags/virtualenv/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033922},{"_id":"public/tags/matplotlib/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033922},{"_id":"public/tags/Python/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033922},{"_id":"public/tags/Pandas/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033922},{"_id":"public/tags/Physics/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033922},{"_id":"public/tags/Oscillation/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033922},{"_id":"public/tags/Type/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033922},{"_id":"public/tags/Object/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033922},{"_id":"public/tags/Raspberrypi/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033923},{"_id":"public/tags/vim/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033923},{"_id":"public/tags/BBR/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033923},{"_id":"public/tags/Vim/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1555813033924},{"_id":"public/posts/1949292692/type-and-object.png","hash":"9b905928754c6d2d1f5aca4ced08e3a7623f3ba3","modified":1555813033941},{"_id":"public/posts/386283100/ocsillator.png","hash":"da24e2bcf928d2b1a14c9d1cad79bcd2b72a3709","modified":1555813033941},{"_id":"public/posts/1414645917/graph-with-polygonal-shapes.svg","hash":"71f97a882c47103f791f8d5b38611b6463c369fe","modified":1555813033941},{"_id":"public/posts/1414645917/graph-with-polygonal-shapes.dot","hash":"2a613cd8c0ead804476cbccb2bd89976e2b6dbc9","modified":1555813033941},{"_id":"public/posts/1414645917/record-structure.dot","hash":"28ec9df8780e13d9ac97bfcad430bc400d6be9a3","modified":1555813033942},{"_id":"public/posts/1414645917/record-structure.svg","hash":"5ca7a7c1b2c5ba2dcefe75d8f5ff40dc8184d71e","modified":1555813033942},{"_id":"public/posts/1414645917/records-with-nested-fields.dot","hash":"49f9159ba863db7953f1e2ea77bcd6b4d524684c","modified":1555813033942},{"_id":"public/posts/1414645917/records-with-nested-fields.svg","hash":"a8954f3afb1a1ad22dfa764a108a01156ef30d33","modified":1555813033942},{"_id":"public/posts/1362387800/Figure_1.png","hash":"f53b2508a900e9eafbf3fe4a9e242df0ac44d73c","modified":1555813033942},{"_id":"public/posts/1362387800/Figure_2.png","hash":"f53b2508a900e9eafbf3fe4a9e242df0ac44d73c","modified":1555813033942},{"_id":"public/posts/1362387800/Figure_3.png","hash":"fcaf935133a157d98d973f27c24afee9d826c248","modified":1555813033942},{"_id":"public/posts/1362387800/Figure_4.png","hash":"5ed939c90d52c4e1be165f5830032a75c6a66c4b","modified":1555813033942},{"_id":"public/posts/1362387800/Figure_5.png","hash":"2203e5c09041a4f3af3beca610b19d200c337955","modified":1555813033942},{"_id":"public/posts/1362387800/Figure_6.png","hash":"e3b8ee15b80d44e152d214fb75a0ee55785f7f3f","modified":1555813033942},{"_id":"public/posts/3264731549/jupyter-with-virtualenv.png","hash":"369ef959659272883d7f81d2ffa68e9445e85b4d","modified":1555813033945},{"_id":"public/posts/3976093928/damp-oscillation.png","hash":"46ca16f71c216d9b0d1c743e2717abb9fc566b1d","modified":1555813033945},{"_id":"public/posts/386283100/buffon_needle.gif","hash":"fa940a62e55dab08db8d122bbe90b6d12146cc40","modified":1555813033974}],"Category":[{"name":"Vim","_id":"cjuqawq6y0004h51j13xvykhp"},{"name":"article","_id":"cjuqawq79000bh51jq08cd9nr"},{"name":"bash","_id":"cjuqawq7l000jh51jxkflylmv"},{"name":"python","_id":"cjuqawq7w000uh51j61jf1jwl"},{"name":"Clang","_id":"cjuqawq800011h51jugvbu90q"},{"name":"cosmology","_id":"cjuqawq840017h51jkqil65x6"},{"name":"QFT","_id":"cjuqawq88001eh51jso17mqy2"},{"name":"Graphviz","_id":"cjuqawq8c001jh51j7qwun6ab"},{"name":"hexo","_id":"cjuqawq8g001rh51j7snb8aob"},{"name":"Homebrew","_id":"cjuqawq8k001xh51jq90uuf5k"},{"name":"Python","_id":"cjuqawq8l0021h51jwm55r4e7"},{"name":"matplotlib","parent":"cjuqawq7w000uh51j61jf1jwl","_id":"cjuqawq8n0026h51j0xrdqg4a"},{"name":"Physics","_id":"cjuqawq8q002dh51joj292jro"},{"name":"Raspberrypi","_id":"cjuqawq8v002rh51j9ry2n3gz"},{"name":"Math","_id":"cjuqawq8x002xh51jslac78it"},{"name":"Vultr","_id":"cjuqawq8y0030h51j4motnh0j"},{"name":"Pandas","parent":"cjuqawq8l0021h51jwm55r4e7","_id":"cjuqawq8z0034h51jepjpej48"},{"name":"Oscillation","parent":"cjuqawq8q002dh51joj292jro","_id":"cjuqawq910038h51j2hu4vasy"}],"Data":[],"Page":[{"title":"关于","description":"个人简介","layout":"about","comments":0,"sidebar":"custom","_content":"个人详细介绍","source":"about/index.md","raw":"---\ntitle: 关于\ndescription: 个人简介\nlayout: about\ncomments: false\nsidebar: custom\n---\n个人详细介绍","date":"2019-04-21T01:58:59.132Z","updated":"2019-04-18T04:42:57.221Z","path":"about/index.html","_id":"cjuqawq6s0001h51jqmt6ymre","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p>个人详细介绍</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p>个人详细介绍</p><!-- rebuild by neat -->"},{"title":"分类","layout":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"---\ntitle: 分类\nlayout: categories\ncomments: false\n---\n","date":"2019-04-21T01:59:07.418Z","updated":"2019-04-18T04:42:26.706Z","path":"categories/index.html","_id":"cjuqawq6w0003h51jyg1u0oa2","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><!-- rebuild by neat -->"},{"title":"友情链接","layout":"links","comments":1,"sidebar":"none","_content":"","source":"links/index.md","raw":"---\ntitle: 友情链接\nlayout: links\ncomments: true\nsidebar: none\n---","date":"2019-04-21T01:59:12.030Z","updated":"2019-04-18T04:42:51.292Z","path":"links/index.html","_id":"cjuqawq730007h51jh651z030","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><!-- rebuild by neat -->"},{"title":"书单","layout":"books","comments":0,"sidebar":"none","_content":"","source":"books/index.md","raw":"---\ntitle: 书单\nlayout: books\ncomments: false\nsidebar: none\n---","date":"2019-04-21T01:59:03.426Z","updated":"2019-04-18T04:42:01.491Z","path":"books/index.html","_id":"cjuqawq760009h51jkw9hls25","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><!-- rebuild by neat -->"},{"title":"Repositories","layout":"repository","comments":0,"sidebar":"none","_content":"","source":"repository/index.md","raw":"---\ntitle: Repositories\nlayout: repository\ncomments: false\nsidebar: none\n---\n","date":"2019-04-21T01:59:16.443Z","updated":"2019-03-17T15:08:32.000Z","path":"repository/index.html","_id":"cjuqawq7a000dh51j18o7v2qk","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><!-- rebuild by neat -->"},{"title":"标签","layout":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\nlayout: tags\ncomments: false\n---\n","date":"2019-04-21T01:59:20.963Z","updated":"2019-04-18T04:42:46.311Z","path":"tags/index.html","_id":"cjuqawq7h000gh51jy10va3zr","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><!-- rebuild by neat -->"}],"Post":[{"title":"在集群（CentOS 6.6）上安装YouCompleteMe","mathjax":false,"toc":true,"abbrlink":3242500049,"date":"2018-12-08T16:25:58.000Z","_content":"# 准备工作\n## 获取动态库\n安装`YouCompleteMe`所需的其实只有一个动态库文件`libclang.so.$version`。由于`YCM`一直在升级，对`clang`的版本要求也越来越高。\n无奈官网最新的几个版本都没有给出`CentOS`的预编译包，只能下载官网`unknown-linux-gnu`版本或自行编译`clang`得到库文件。\n\n实际尝试过后发现官网`unknown-linux-gnu`版本虽然可以编译通过，但是无法使用。因此只能选择自行编译`clang`，具体编译安装过程可以{% post_link clang-from-source-on-centos6 参考 %}。\n\n## 配置gcc及g++版本\n由于集群默认`gcc`版本太低，故需切换高版本`gcc`并设置`CC`和`CXX`\n```bash\nexport CC=gcc\nexport CXX=g++\n# 不做上述设置则需要添加 CMAKE 选项\n# -DCMAKE_C_COMPILER=gcc\n# —DCMAKE_CXX_COMPILER=g++\n```\n\n## 设置python版本\n`YouCompleteMe`目前同时支持`python2`及`python3`，因此开启`vim`对`python2/3`的支持均可以。\n```bash\n# 切换shell中python版本，使其与vim支持的一致\npyenv shell 2.7.15\n# or\npyenv shell 3.6.6\n```\n\n**问题**：原本想编译`vim`使其同时支持`python2`和`python3`，但不知哪里出了问题，虽然显示同时支持，可实际上一个都不支持。\n\n\n# 安装 YCM\n\n## 方法一\n使用自带安装脚本`install.py`。\n```bash\n# YCM 通过sha256来判断是否需要从官网下载需要的库文件\n# 为了避免自动下载，使其使用自行编译并打包的动态库\n# 需要修改如下文件\ncd $HOME/.vim/vim_plugin/YouCompleteMe/third_party/ycmd/cpp/ycm/\nvim CMakeLists.txt\n\n# 修改第74行，将该sha256值替换为自己的压缩文件的sha256值，保存并推出。\n\n# 将打包的库文件放到如下目录中\nmv /path/to/my/libclang-$version-*.tar.bz2 ../../clang_archive/\n```\n\n## 方法二\n使用我自己写的脚本进行`Full Installation`。\n```bash\n# 自定义路径\npathbuild=$HOME/ycm_build\npathdest=$HOME/.vim/vim_plugin/YouCompleteMe/third_party/ycmd/cpp\n\n# 新建目录 build\n[ -d $pathbuild ] && rm -rf $pathbuild\nmkdir $pathbuild && cd $pathbuild\n\n# 开始编译\ncmake -DCMAKE_C_COMPILER=gcc \\\n    -DCMAKE_CXX_COMPILER=g++ \\\n    -DUSE_PYTHON2='OFF' \\\n    -DPYTHON_INCLUDE_DIR=$HOME/.pyenv/versions/3.6.6/include/python3.6m \\\n    -DPYTHON_LIBRARY=$HOME/.pyenv/versions/3.6.6/lib/libpython3.6m.so \\\n    -G \"Unix Makefiles\" -DEXTERNAL_LIBCLANG_PATH=/path/to/libclang.so .  $pathdest\n\ncmake --build . --target ycm_core --config Release\n\n# 删除目录 build\nrm -rf $pathbuild\n```\n","source":"_posts/YouCompleteMe-on-ITP.md","raw":"---\ntitle: 在集群（CentOS 6.6）上安装YouCompleteMe\nmathjax: false\ntoc: true\ncategory:\n  - Vim\ntags:\n  - YouCompleteMe\nabbrlink: 3242500049\ndate: 2018-12-09 00:25:58\n---\n# 准备工作\n## 获取动态库\n安装`YouCompleteMe`所需的其实只有一个动态库文件`libclang.so.$version`。由于`YCM`一直在升级，对`clang`的版本要求也越来越高。\n无奈官网最新的几个版本都没有给出`CentOS`的预编译包，只能下载官网`unknown-linux-gnu`版本或自行编译`clang`得到库文件。\n\n实际尝试过后发现官网`unknown-linux-gnu`版本虽然可以编译通过，但是无法使用。因此只能选择自行编译`clang`，具体编译安装过程可以{% post_link clang-from-source-on-centos6 参考 %}。\n\n## 配置gcc及g++版本\n由于集群默认`gcc`版本太低，故需切换高版本`gcc`并设置`CC`和`CXX`\n```bash\nexport CC=gcc\nexport CXX=g++\n# 不做上述设置则需要添加 CMAKE 选项\n# -DCMAKE_C_COMPILER=gcc\n# —DCMAKE_CXX_COMPILER=g++\n```\n\n## 设置python版本\n`YouCompleteMe`目前同时支持`python2`及`python3`，因此开启`vim`对`python2/3`的支持均可以。\n```bash\n# 切换shell中python版本，使其与vim支持的一致\npyenv shell 2.7.15\n# or\npyenv shell 3.6.6\n```\n\n**问题**：原本想编译`vim`使其同时支持`python2`和`python3`，但不知哪里出了问题，虽然显示同时支持，可实际上一个都不支持。\n\n\n# 安装 YCM\n\n## 方法一\n使用自带安装脚本`install.py`。\n```bash\n# YCM 通过sha256来判断是否需要从官网下载需要的库文件\n# 为了避免自动下载，使其使用自行编译并打包的动态库\n# 需要修改如下文件\ncd $HOME/.vim/vim_plugin/YouCompleteMe/third_party/ycmd/cpp/ycm/\nvim CMakeLists.txt\n\n# 修改第74行，将该sha256值替换为自己的压缩文件的sha256值，保存并推出。\n\n# 将打包的库文件放到如下目录中\nmv /path/to/my/libclang-$version-*.tar.bz2 ../../clang_archive/\n```\n\n## 方法二\n使用我自己写的脚本进行`Full Installation`。\n```bash\n# 自定义路径\npathbuild=$HOME/ycm_build\npathdest=$HOME/.vim/vim_plugin/YouCompleteMe/third_party/ycmd/cpp\n\n# 新建目录 build\n[ -d $pathbuild ] && rm -rf $pathbuild\nmkdir $pathbuild && cd $pathbuild\n\n# 开始编译\ncmake -DCMAKE_C_COMPILER=gcc \\\n    -DCMAKE_CXX_COMPILER=g++ \\\n    -DUSE_PYTHON2='OFF' \\\n    -DPYTHON_INCLUDE_DIR=$HOME/.pyenv/versions/3.6.6/include/python3.6m \\\n    -DPYTHON_LIBRARY=$HOME/.pyenv/versions/3.6.6/lib/libpython3.6m.so \\\n    -G \"Unix Makefiles\" -DEXTERNAL_LIBCLANG_PATH=/path/to/libclang.so .  $pathdest\n\ncmake --build . --target ycm_core --config Release\n\n# 删除目录 build\nrm -rf $pathbuild\n```\n","slug":"YouCompleteMe-on-ITP","published":1,"updated":"2019-04-21T01:58:28.728Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq6k0000h51jif2i4dpb","content":"<!-- build time:Sun Apr 21 2019 10:17:12 GMT+0800 (中国标准时间) --><h1 id=\"准备工作\"><a class=\"markdownIt-Anchor\" href=\"#准备工作\"></a> 准备工作</h1><h2 id=\"获取动态库\"><a class=\"markdownIt-Anchor\" href=\"#获取动态库\"></a> 获取动态库</h2><p>安装<code>YouCompleteMe</code>所需的其实只有一个动态库文件<code>libclang.so.$version</code>。由于<code>YCM</code>一直在升级，对<code>clang</code>的版本要求也越来越高。<br>无奈官网最新的几个版本都没有给出<code>CentOS</code>的预编译包，只能下载官网<code>unknown-linux-gnu</code>版本或自行编译<code>clang</code>得到库文件。</p><p>实际尝试过后发现官网<code>unknown-linux-gnu</code>版本虽然可以编译通过，但是无法使用。因此只能选择自行编译<code>clang</code>，具体编译安装过程可以<a href=\"/posts/2372579481/\" title=\"参考\">参考</a>。</p><h2 id=\"配置gcc及g版本\"><a class=\"markdownIt-Anchor\" href=\"#配置gcc及g版本\"></a> 配置gcc及g++版本</h2><p>由于集群默认<code>gcc</code>版本太低，故需切换高版本<code>gcc</code>并设置<code>CC</code>和<code>CXX</code></p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> CC=gcc</span><br><span class=\"line\"><span class=\"built_in\">export</span> CXX=g++</span><br><span class=\"line\"><span class=\"comment\"># 不做上述设置则需要添加 CMAKE 选项</span></span><br><span class=\"line\"><span class=\"comment\"># -DCMAKE_C_COMPILER=gcc</span></span><br><span class=\"line\"><span class=\"comment\"># —DCMAKE_CXX_COMPILER=g++</span></span><br></pre></td></tr></table></figure><h2 id=\"设置python版本\"><a class=\"markdownIt-Anchor\" href=\"#设置python版本\"></a> 设置python版本</h2><p><code>YouCompleteMe</code>目前同时支持<code>python2</code>及<code>python3</code>，因此开启<code>vim</code>对<code>python2/3</code>的支持均可以。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 切换shell中python版本，使其与vim支持的一致</span></span><br><span class=\"line\">pyenv shell 2.7.15</span><br><span class=\"line\"><span class=\"comment\"># or</span></span><br><span class=\"line\">pyenv shell 3.6.6</span><br></pre></td></tr></table></figure><p><strong>问题</strong>：原本想编译<code>vim</code>使其同时支持<code>python2</code>和<code>python3</code>，但不知哪里出了问题，虽然显示同时支持，可实际上一个都不支持。</p><h1 id=\"安装-ycm\"><a class=\"markdownIt-Anchor\" href=\"#安装-ycm\"></a> 安装 YCM</h1><h2 id=\"方法一\"><a class=\"markdownIt-Anchor\" href=\"#方法一\"></a> 方法一</h2><p>使用自带安装脚本<code>install.py</code>。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># YCM 通过sha256来判断是否需要从官网下载需要的库文件</span></span><br><span class=\"line\"><span class=\"comment\"># 为了避免自动下载，使其使用自行编译并打包的动态库</span></span><br><span class=\"line\"><span class=\"comment\"># 需要修改如下文件</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> <span class=\"variable\">$HOME</span>/.vim/vim_plugin/YouCompleteMe/third_party/ycmd/cpp/ycm/</span><br><span class=\"line\">vim CMakeLists.txt</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 修改第74行，将该sha256值替换为自己的压缩文件的sha256值，保存并推出。</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 将打包的库文件放到如下目录中</span></span><br><span class=\"line\">mv /path/to/my/libclang-<span class=\"variable\">$version</span>-*.tar.bz2 ../../clang_archive/</span><br></pre></td></tr></table></figure><h2 id=\"方法二\"><a class=\"markdownIt-Anchor\" href=\"#方法二\"></a> 方法二</h2><p>使用我自己写的脚本进行<code>Full Installation</code>。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 自定义路径</span></span><br><span class=\"line\">pathbuild=<span class=\"variable\">$HOME</span>/ycm_build</span><br><span class=\"line\">pathdest=<span class=\"variable\">$HOME</span>/.vim/vim_plugin/YouCompleteMe/third_party/ycmd/cpp</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 新建目录 build</span></span><br><span class=\"line\">[ -d <span class=\"variable\">$pathbuild</span> ] &amp;&amp; rm -rf <span class=\"variable\">$pathbuild</span></span><br><span class=\"line\">mkdir <span class=\"variable\">$pathbuild</span> &amp;&amp; <span class=\"built_in\">cd</span> <span class=\"variable\">$pathbuild</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 开始编译</span></span><br><span class=\"line\">cmake -DCMAKE_C_COMPILER=gcc \\</span><br><span class=\"line\">    -DCMAKE_CXX_COMPILER=g++ \\</span><br><span class=\"line\">    -DUSE_PYTHON2=<span class=\"string\">'OFF'</span> \\</span><br><span class=\"line\">    -DPYTHON_INCLUDE_DIR=<span class=\"variable\">$HOME</span>/.pyenv/versions/3.6.6/include/python3.6m \\</span><br><span class=\"line\">    -DPYTHON_LIBRARY=<span class=\"variable\">$HOME</span>/.pyenv/versions/3.6.6/lib/libpython3.6m.so \\</span><br><span class=\"line\">    -G <span class=\"string\">\"Unix Makefiles\"</span> -DEXTERNAL_LIBCLANG_PATH=/path/to/libclang.so .  <span class=\"variable\">$pathdest</span></span><br><span class=\"line\"></span><br><span class=\"line\">cmake --build . --target ycm_core --config Release</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 删除目录 build</span></span><br><span class=\"line\">rm -rf <span class=\"variable\">$pathbuild</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:12 GMT+0800 (中国标准时间) --><h1 id=\"准备工作\"><a class=\"markdownIt-Anchor\" href=\"#准备工作\"></a> 准备工作</h1><h2 id=\"获取动态库\"><a class=\"markdownIt-Anchor\" href=\"#获取动态库\"></a> 获取动态库</h2><p>安装<code>YouCompleteMe</code>所需的其实只有一个动态库文件<code>libclang.so.$version</code>。由于<code>YCM</code>一直在升级，对<code>clang</code>的版本要求也越来越高。<br>无奈官网最新的几个版本都没有给出<code>CentOS</code>的预编译包，只能下载官网<code>unknown-linux-gnu</code>版本或自行编译<code>clang</code>得到库文件。</p><p>实际尝试过后发现官网<code>unknown-linux-gnu</code>版本虽然可以编译通过，但是无法使用。因此只能选择自行编译<code>clang</code>，具体编译安装过程可以<a href=\"/posts/2372579481/\" title=\"参考\">参考</a>。</p><h2 id=\"配置gcc及g版本\"><a class=\"markdownIt-Anchor\" href=\"#配置gcc及g版本\"></a> 配置gcc及g++版本</h2><p>由于集群默认<code>gcc</code>版本太低，故需切换高版本<code>gcc</code>并设置<code>CC</code>和<code>CXX</code></p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> CC=gcc</span><br><span class=\"line\"><span class=\"built_in\">export</span> CXX=g++</span><br><span class=\"line\"><span class=\"comment\"># 不做上述设置则需要添加 CMAKE 选项</span></span><br><span class=\"line\"><span class=\"comment\"># -DCMAKE_C_COMPILER=gcc</span></span><br><span class=\"line\"><span class=\"comment\"># —DCMAKE_CXX_COMPILER=g++</span></span><br></pre></td></tr></table></figure><h2 id=\"设置python版本\"><a class=\"markdownIt-Anchor\" href=\"#设置python版本\"></a> 设置python版本</h2><p><code>YouCompleteMe</code>目前同时支持<code>python2</code>及<code>python3</code>，因此开启<code>vim</code>对<code>python2/3</code>的支持均可以。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 切换shell中python版本，使其与vim支持的一致</span></span><br><span class=\"line\">pyenv shell 2.7.15</span><br><span class=\"line\"><span class=\"comment\"># or</span></span><br><span class=\"line\">pyenv shell 3.6.6</span><br></pre></td></tr></table></figure><p><strong>问题</strong>：原本想编译<code>vim</code>使其同时支持<code>python2</code>和<code>python3</code>，但不知哪里出了问题，虽然显示同时支持，可实际上一个都不支持。</p><h1 id=\"安装-ycm\"><a class=\"markdownIt-Anchor\" href=\"#安装-ycm\"></a> 安装 YCM</h1><h2 id=\"方法一\"><a class=\"markdownIt-Anchor\" href=\"#方法一\"></a> 方法一</h2><p>使用自带安装脚本<code>install.py</code>。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># YCM 通过sha256来判断是否需要从官网下载需要的库文件</span></span><br><span class=\"line\"><span class=\"comment\"># 为了避免自动下载，使其使用自行编译并打包的动态库</span></span><br><span class=\"line\"><span class=\"comment\"># 需要修改如下文件</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> <span class=\"variable\">$HOME</span>/.vim/vim_plugin/YouCompleteMe/third_party/ycmd/cpp/ycm/</span><br><span class=\"line\">vim CMakeLists.txt</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 修改第74行，将该sha256值替换为自己的压缩文件的sha256值，保存并推出。</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 将打包的库文件放到如下目录中</span></span><br><span class=\"line\">mv /path/to/my/libclang-<span class=\"variable\">$version</span>-*.tar.bz2 ../../clang_archive/</span><br></pre></td></tr></table></figure><h2 id=\"方法二\"><a class=\"markdownIt-Anchor\" href=\"#方法二\"></a> 方法二</h2><p>使用我自己写的脚本进行<code>Full Installation</code>。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 自定义路径</span></span><br><span class=\"line\">pathbuild=<span class=\"variable\">$HOME</span>/ycm_build</span><br><span class=\"line\">pathdest=<span class=\"variable\">$HOME</span>/.vim/vim_plugin/YouCompleteMe/third_party/ycmd/cpp</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 新建目录 build</span></span><br><span class=\"line\">[ -d <span class=\"variable\">$pathbuild</span> ] &amp;&amp; rm -rf <span class=\"variable\">$pathbuild</span></span><br><span class=\"line\">mkdir <span class=\"variable\">$pathbuild</span> &amp;&amp; <span class=\"built_in\">cd</span> <span class=\"variable\">$pathbuild</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 开始编译</span></span><br><span class=\"line\">cmake -DCMAKE_C_COMPILER=gcc \\</span><br><span class=\"line\">    -DCMAKE_CXX_COMPILER=g++ \\</span><br><span class=\"line\">    -DUSE_PYTHON2=<span class=\"string\">'OFF'</span> \\</span><br><span class=\"line\">    -DPYTHON_INCLUDE_DIR=<span class=\"variable\">$HOME</span>/.pyenv/versions/3.6.6/include/python3.6m \\</span><br><span class=\"line\">    -DPYTHON_LIBRARY=<span class=\"variable\">$HOME</span>/.pyenv/versions/3.6.6/lib/libpython3.6m.so \\</span><br><span class=\"line\">    -G <span class=\"string\">\"Unix Makefiles\"</span> -DEXTERNAL_LIBCLANG_PATH=/path/to/libclang.so .  <span class=\"variable\">$pathdest</span></span><br><span class=\"line\"></span><br><span class=\"line\">cmake --build . --target ycm_core --config Release</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 删除目录 build</span></span><br><span class=\"line\">rm -rf <span class=\"variable\">$pathbuild</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"The second article","toc":true,"mathjax":true,"abbrlink":386283100,"date":"2017-12-12T16:00:00.000Z","_content":"\n## intra-site link examples\n\n{% post_link hexo-guide-md with filename %}\n{% post_path hexo-guide-md with filename %}\n{% asset_path buffon_needle.gif  %}\n\n## Math Formula\n$e^{i\\pi}=1$\n\nHere is the Buffon's Needle experiment for calculating $\\pi$.\n{% asset_img buffon_needle.gif 投针试验 %}\n","source":"_posts/article2.md","raw":"---\ntitle: The second article\ncategory: article\ntoc: true\nmathjax: true\nabbrlink: 386283100\ndate: 2017-12-13 00:00:00\n---\n\n## intra-site link examples\n\n{% post_link hexo-guide-md with filename %}\n{% post_path hexo-guide-md with filename %}\n{% asset_path buffon_needle.gif  %}\n\n## Math Formula\n$e^{i\\pi}=1$\n\nHere is the Buffon's Needle experiment for calculating $\\pi$.\n{% asset_img buffon_needle.gif 投针试验 %}\n","slug":"article2","published":1,"updated":"2019-04-21T01:58:28.728Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq6u0002h51jgz7djln4","content":"<!-- build time:Sun Apr 21 2019 10:17:12 GMT+0800 (中国标准时间) --><h2 id=\"intra-site-link-examples\"><a class=\"markdownIt-Anchor\" href=\"#intra-site-link-examples\"></a> intra-site link examples</h2>/posts/386283100/buffon_needle.gif<h2 id=\"math-formula\"><a class=\"markdownIt-Anchor\" href=\"#math-formula\"></a> Math Formula</h2><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>e</mi><mrow><mi>i</mi><mi>π</mi></mrow></msup><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">e^{i\\pi}=1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.824664em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.824664em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span><span class=\"mord mathdefault mtight\" style=\"margin-right:.03588em\">π</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">1</span></span></span></span></p><p>Here is the Buffon’s Needle experiment for calculating <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">π</span></span></span></span>.</p><img src=\"/posts/386283100/buffon_needle.gif\" title=\"投针试验\"><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:12 GMT+0800 (中国标准时间) --><h2 id=\"intra-site-link-examples\"><a class=\"markdownIt-Anchor\" href=\"#intra-site-link-examples\"></a> intra-site link examples</h2>/posts/386283100/buffon_needle.gif<h2 id=\"math-formula\"><a class=\"markdownIt-Anchor\" href=\"#math-formula\"></a> Math Formula</h2><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>e</mi><mrow><mi>i</mi><mi>π</mi></mrow></msup><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">e^{i\\pi}=1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.824664em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.824664em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span><span class=\"mord mathdefault mtight\" style=\"margin-right:.03588em\">π</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">1</span></span></span></span></p><p>Here is the Buffon’s Needle experiment for calculating <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">π</span></span></span></span>.</p><img src=\"/posts/386283100/buffon_needle.gif\" title=\"投针试验\"><!-- rebuild by neat -->"},{"title":"sed 学习笔记","mathjax":false,"abbrlink":2825119572,"date":"2018-09-18T07:09:07.000Z","toc":true,"_content":"\n# sed 简介\n\n`sed` 是强大的文本编辑工具。所有的操作都在**模式空间**进行，且每次只会将一行文本复制到其中等待 `sed` 命令对其操作。因此，从第二条命令开始，操作的对象都是上一条命令作用后的文本。\n\n## 命令格式\n```bash\nsed [option] 'COMMANDS' file\n```\n\n常用的`option`有\n\n```bash\n-e      表明后接 sed 命令。命令多于一条时不能省略\n-i      直接对文件进行操作。\n-f      后接包含一列 sed 命令的脚本文件。\n```\n\n命令`COMMANDS` 通常格式为\n\n```bash\n'address[,address]cmd[options]'     # 三部分组成：地址、命令、具体操作\n```\n\n- 地址：右行号、正则表达式给出，用于指定需要操作的行。有些命令只能操作单行，有些可以操作连续多行。地址对所有的命令都是可选项，如果不指定，则作用在所有的行上。\n- 命令：有追加（`a`）、改变（`c`）、插入（`i`）、替换（`s`）等最常用。\n- 选项：格式由前面的命令决定。\n\n### 替换（s）\n\n`options`的格式为`/pattern/replacement/flags`。\n\n- `pattern`与`replacement`都支持正则表达式。\n- `flags`选项有\n  - `n`：1~512的整数，表示只替换第`n`个匹配项。\n  - `g`：替换全部匹配项\n  - 默认替换第一个匹配项\n\n\n#### 技巧\n\n`pattern`和`replacement`中包含`Shell`变量`$var`。如果命令用单引号括起来，那么美元符号`$`分别表示行尾和符号本身。只有用双引号，`$var`才会被替换为变量值。\n\n```bash\n#!/bin/bash\nvar=LINUX\nsed 's/linux/$var/' sonfile\n...$var...      # linux 被替换为 $var\n\nvar=LINUX\nsed \"s/linux/$var\"  somefile\n...LINUX...     # linux 被替换为 LINUX\n```\n\n替换命令（s）格式中的斜杠`/`作为定界符，可以换成任何其它符号（好像有一个例外），并且必须出现三次。通常当匹配项或替换项中出现斜杠`/`时会变更定界符，如`#`。\n\n```bash\n's#pattern#replacement#'\n```\n\n#### 例子\n\n- 删除空白行\n\n`sed -i '/^$/d' input.xxx   # -i，修改源文件`\n\n- 输出某一行到其他文件\n\n`sed -n '3p' input.xxx >> output.xxx`\n","source":"_posts/bash-sed.md","raw":"---\ntitle: sed 学习笔记\nmathjax: false\nabbrlink: 2825119572\ndate: 2018-09-18 15:09:07\ntoc: true\ncategories:\n  - bash\ntags:\n  - bash\n  - sed\n---\n\n# sed 简介\n\n`sed` 是强大的文本编辑工具。所有的操作都在**模式空间**进行，且每次只会将一行文本复制到其中等待 `sed` 命令对其操作。因此，从第二条命令开始，操作的对象都是上一条命令作用后的文本。\n\n## 命令格式\n```bash\nsed [option] 'COMMANDS' file\n```\n\n常用的`option`有\n\n```bash\n-e      表明后接 sed 命令。命令多于一条时不能省略\n-i      直接对文件进行操作。\n-f      后接包含一列 sed 命令的脚本文件。\n```\n\n命令`COMMANDS` 通常格式为\n\n```bash\n'address[,address]cmd[options]'     # 三部分组成：地址、命令、具体操作\n```\n\n- 地址：右行号、正则表达式给出，用于指定需要操作的行。有些命令只能操作单行，有些可以操作连续多行。地址对所有的命令都是可选项，如果不指定，则作用在所有的行上。\n- 命令：有追加（`a`）、改变（`c`）、插入（`i`）、替换（`s`）等最常用。\n- 选项：格式由前面的命令决定。\n\n### 替换（s）\n\n`options`的格式为`/pattern/replacement/flags`。\n\n- `pattern`与`replacement`都支持正则表达式。\n- `flags`选项有\n  - `n`：1~512的整数，表示只替换第`n`个匹配项。\n  - `g`：替换全部匹配项\n  - 默认替换第一个匹配项\n\n\n#### 技巧\n\n`pattern`和`replacement`中包含`Shell`变量`$var`。如果命令用单引号括起来，那么美元符号`$`分别表示行尾和符号本身。只有用双引号，`$var`才会被替换为变量值。\n\n```bash\n#!/bin/bash\nvar=LINUX\nsed 's/linux/$var/' sonfile\n...$var...      # linux 被替换为 $var\n\nvar=LINUX\nsed \"s/linux/$var\"  somefile\n...LINUX...     # linux 被替换为 LINUX\n```\n\n替换命令（s）格式中的斜杠`/`作为定界符，可以换成任何其它符号（好像有一个例外），并且必须出现三次。通常当匹配项或替换项中出现斜杠`/`时会变更定界符，如`#`。\n\n```bash\n's#pattern#replacement#'\n```\n\n#### 例子\n\n- 删除空白行\n\n`sed -i '/^$/d' input.xxx   # -i，修改源文件`\n\n- 输出某一行到其他文件\n\n`sed -n '3p' input.xxx >> output.xxx`\n","slug":"bash-sed","published":1,"updated":"2019-04-21T01:58:28.751Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq710006h51jybhs5kr6","content":"<!-- build time:Sun Apr 21 2019 10:17:12 GMT+0800 (中国标准时间) --><h1 id=\"sed-简介\"><a class=\"markdownIt-Anchor\" href=\"#sed-简介\"></a> sed 简介</h1><p><code>sed</code> 是强大的文本编辑工具。所有的操作都在<strong>模式空间</strong>进行，且每次只会将一行文本复制到其中等待 <code>sed</code> 命令对其操作。因此，从第二条命令开始，操作的对象都是上一条命令作用后的文本。</p><h2 id=\"命令格式\"><a class=\"markdownIt-Anchor\" href=\"#命令格式\"></a> 命令格式</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sed [option] <span class=\"string\">'COMMANDS'</span> file</span><br></pre></td></tr></table></figure><p>常用的<code>option</code>有</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-e      表明后接 sed 命令。命令多于一条时不能省略</span><br><span class=\"line\">-i      直接对文件进行操作。</span><br><span class=\"line\">-f      后接包含一列 sed 命令的脚本文件。</span><br></pre></td></tr></table></figure><p>命令<code>COMMANDS</code> 通常格式为</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">'address[,address]cmd[options]'</span>     <span class=\"comment\"># 三部分组成：地址、命令、具体操作</span></span><br></pre></td></tr></table></figure><ul><li>地址：右行号、正则表达式给出，用于指定需要操作的行。有些命令只能操作单行，有些可以操作连续多行。地址对所有的命令都是可选项，如果不指定，则作用在所有的行上。</li><li>命令：有追加（<code>a</code>）、改变（<code>c</code>）、插入（<code>i</code>）、替换（<code>s</code>）等最常用。</li><li>选项：格式由前面的命令决定。</li></ul><h3 id=\"替换s\"><a class=\"markdownIt-Anchor\" href=\"#替换s\"></a> 替换（s）</h3><p><code>options</code>的格式为<code>/pattern/replacement/flags</code>。</p><ul><li><code>pattern</code>与<code>replacement</code>都支持正则表达式。</li><li><code>flags</code>选项有<ul><li><code>n</code>：1~512的整数，表示只替换第<code>n</code>个匹配项。</li><li><code>g</code>：替换全部匹配项</li><li>默认替换第一个匹配项</li></ul></li></ul><h4 id=\"技巧\"><a class=\"markdownIt-Anchor\" href=\"#技巧\"></a> 技巧</h4><p><code>pattern</code>和<code>replacement</code>中包含<code>Shell</code>变量<code>$var</code>。如果命令用单引号括起来，那么美元符号<code>$</code>分别表示行尾和符号本身。只有用双引号，<code>$var</code>才会被替换为变量值。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\">var=LINUX</span><br><span class=\"line\">sed <span class=\"string\">'s/linux/$var/'</span> sonfile</span><br><span class=\"line\">...<span class=\"variable\">$var</span>...      <span class=\"comment\"># linux 被替换为 $var</span></span><br><span class=\"line\"></span><br><span class=\"line\">var=LINUX</span><br><span class=\"line\">sed <span class=\"string\">\"s/linux/<span class=\"variable\">$var</span>\"</span>  somefile</span><br><span class=\"line\">...LINUX...     <span class=\"comment\"># linux 被替换为 LINUX</span></span><br></pre></td></tr></table></figure><p>替换命令（s）格式中的斜杠<code>/</code>作为定界符，可以换成任何其它符号（好像有一个例外），并且必须出现三次。通常当匹配项或替换项中出现斜杠<code>/</code>时会变更定界符，如<code>#</code>。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">'s#pattern#replacement#'</span></span><br></pre></td></tr></table></figure><h4 id=\"例子\"><a class=\"markdownIt-Anchor\" href=\"#例子\"></a> 例子</h4><ul><li>删除空白行</li></ul><p><code>sed -i '/^$/d' input.xxx # -i，修改源文件</code></p><ul><li>输出某一行到其他文件</li></ul><p><code>sed -n '3p' input.xxx &gt;&gt; output.xxx</code></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:12 GMT+0800 (中国标准时间) --><h1 id=\"sed-简介\"><a class=\"markdownIt-Anchor\" href=\"#sed-简介\"></a> sed 简介</h1><p><code>sed</code> 是强大的文本编辑工具。所有的操作都在<strong>模式空间</strong>进行，且每次只会将一行文本复制到其中等待 <code>sed</code> 命令对其操作。因此，从第二条命令开始，操作的对象都是上一条命令作用后的文本。</p><h2 id=\"命令格式\"><a class=\"markdownIt-Anchor\" href=\"#命令格式\"></a> 命令格式</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sed [option] <span class=\"string\">'COMMANDS'</span> file</span><br></pre></td></tr></table></figure><p>常用的<code>option</code>有</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-e      表明后接 sed 命令。命令多于一条时不能省略</span><br><span class=\"line\">-i      直接对文件进行操作。</span><br><span class=\"line\">-f      后接包含一列 sed 命令的脚本文件。</span><br></pre></td></tr></table></figure><p>命令<code>COMMANDS</code> 通常格式为</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">'address[,address]cmd[options]'</span>     <span class=\"comment\"># 三部分组成：地址、命令、具体操作</span></span><br></pre></td></tr></table></figure><ul><li>地址：右行号、正则表达式给出，用于指定需要操作的行。有些命令只能操作单行，有些可以操作连续多行。地址对所有的命令都是可选项，如果不指定，则作用在所有的行上。</li><li>命令：有追加（<code>a</code>）、改变（<code>c</code>）、插入（<code>i</code>）、替换（<code>s</code>）等最常用。</li><li>选项：格式由前面的命令决定。</li></ul><h3 id=\"替换s\"><a class=\"markdownIt-Anchor\" href=\"#替换s\"></a> 替换（s）</h3><p><code>options</code>的格式为<code>/pattern/replacement/flags</code>。</p><ul><li><code>pattern</code>与<code>replacement</code>都支持正则表达式。</li><li><code>flags</code>选项有<ul><li><code>n</code>：1~512的整数，表示只替换第<code>n</code>个匹配项。</li><li><code>g</code>：替换全部匹配项</li><li>默认替换第一个匹配项</li></ul></li></ul><h4 id=\"技巧\"><a class=\"markdownIt-Anchor\" href=\"#技巧\"></a> 技巧</h4><p><code>pattern</code>和<code>replacement</code>中包含<code>Shell</code>变量<code>$var</code>。如果命令用单引号括起来，那么美元符号<code>$</code>分别表示行尾和符号本身。只有用双引号，<code>$var</code>才会被替换为变量值。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\">var=LINUX</span><br><span class=\"line\">sed <span class=\"string\">'s/linux/$var/'</span> sonfile</span><br><span class=\"line\">...<span class=\"variable\">$var</span>...      <span class=\"comment\"># linux 被替换为 $var</span></span><br><span class=\"line\"></span><br><span class=\"line\">var=LINUX</span><br><span class=\"line\">sed <span class=\"string\">\"s/linux/<span class=\"variable\">$var</span>\"</span>  somefile</span><br><span class=\"line\">...LINUX...     <span class=\"comment\"># linux 被替换为 LINUX</span></span><br></pre></td></tr></table></figure><p>替换命令（s）格式中的斜杠<code>/</code>作为定界符，可以换成任何其它符号（好像有一个例外），并且必须出现三次。通常当匹配项或替换项中出现斜杠<code>/</code>时会变更定界符，如<code>#</code>。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">'s#pattern#replacement#'</span></span><br></pre></td></tr></table></figure><h4 id=\"例子\"><a class=\"markdownIt-Anchor\" href=\"#例子\"></a> 例子</h4><ul><li>删除空白行</li></ul><p><code>sed -i '/^$/d' input.xxx # -i，修改源文件</code></p><ul><li>输出某一行到其他文件</li></ul><p><code>sed -n '3p' input.xxx &gt;&gt; output.xxx</code></p><!-- rebuild by neat -->"},{"title":"bash-tips","mathjax":false,"abbrlink":3452120969,"date":"2017-06-09T06:54:21.000Z","toc":true,"_content":"\n持续更新 `bash` 小技巧\n\n- 检测程序是否已安装\n\n```bash\n#!/bin/bash\ncheck_software(){\n    local software=(\"vim\" \"git\" \"tmux\" \"npm\")   # 待测程序名\n    for soft in ${software[@]}\n    do\n        type $soft 2>&1 > /dev/null     # 已安装，则返回零\n        if [ $? -ne 0 ]; then\n            echo \"ERROR: **$soft** is not installed!\"\n            exit 1\n        fi\n        echo \"Checking $soft...ok!\"\n    done\n}\n\ncheck_software\n```\n\n{% codeblock %}\n运行结果\nbash check_software.sh\nChecking vim...ok!\nChecking git...ok!\nChecking tmux...ok!\nChecking npm...ok!\n{% endcodeblock %}\n\n","source":"_posts/bash-tips.md","raw":"---\ntitle: bash-tips\nmathjax: false\nabbrlink: 3452120969\ndate: 2017-06-09 14:54:21\ntoc: true\ncategories:\n  - bash\ntags:\n  - bash\n---\n\n持续更新 `bash` 小技巧\n\n- 检测程序是否已安装\n\n```bash\n#!/bin/bash\ncheck_software(){\n    local software=(\"vim\" \"git\" \"tmux\" \"npm\")   # 待测程序名\n    for soft in ${software[@]}\n    do\n        type $soft 2>&1 > /dev/null     # 已安装，则返回零\n        if [ $? -ne 0 ]; then\n            echo \"ERROR: **$soft** is not installed!\"\n            exit 1\n        fi\n        echo \"Checking $soft...ok!\"\n    done\n}\n\ncheck_software\n```\n\n{% codeblock %}\n运行结果\nbash check_software.sh\nChecking vim...ok!\nChecking git...ok!\nChecking tmux...ok!\nChecking npm...ok!\n{% endcodeblock %}\n\n","slug":"bash-tips","published":1,"updated":"2019-04-21T01:58:28.751Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq740008h51j3ldhibmp","content":"<!-- build time:Sun Apr 21 2019 10:17:12 GMT+0800 (中国标准时间) --><p>持续更新 <code>bash</code> 小技巧</p><ul><li>检测程序是否已安装</li></ul><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">check_software</span></span>()&#123;</span><br><span class=\"line\">    <span class=\"built_in\">local</span> software=(<span class=\"string\">\"vim\"</span> <span class=\"string\">\"git\"</span> <span class=\"string\">\"tmux\"</span> <span class=\"string\">\"npm\"</span>)   <span class=\"comment\"># 待测程序名</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> soft <span class=\"keyword\">in</span> <span class=\"variable\">$&#123;software[@]&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">do</span></span><br><span class=\"line\">        <span class=\"built_in\">type</span> <span class=\"variable\">$soft</span> 2&gt;&amp;1 &gt; /dev/null     <span class=\"comment\"># 已安装，则返回零</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> [ $? -ne 0 ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">            <span class=\"built_in\">echo</span> <span class=\"string\">\"ERROR: **<span class=\"variable\">$soft</span>** is not installed!\"</span></span><br><span class=\"line\">            <span class=\"built_in\">exit</span> 1</span><br><span class=\"line\">        <span class=\"keyword\">fi</span></span><br><span class=\"line\">        <span class=\"built_in\">echo</span> <span class=\"string\">\"Checking <span class=\"variable\">$soft</span>...ok!\"</span></span><br><span class=\"line\">    <span class=\"keyword\">done</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">check_software</span><br></pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">运行结果</span><br><span class=\"line\">bash check_software.sh</span><br><span class=\"line\">Checking vim...ok!</span><br><span class=\"line\">Checking git...ok!</span><br><span class=\"line\">Checking tmux...ok!</span><br><span class=\"line\">Checking npm...ok!</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:12 GMT+0800 (中国标准时间) --><p>持续更新 <code>bash</code> 小技巧</p><ul><li>检测程序是否已安装</li></ul><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">check_software</span></span>()&#123;</span><br><span class=\"line\">    <span class=\"built_in\">local</span> software=(<span class=\"string\">\"vim\"</span> <span class=\"string\">\"git\"</span> <span class=\"string\">\"tmux\"</span> <span class=\"string\">\"npm\"</span>)   <span class=\"comment\"># 待测程序名</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> soft <span class=\"keyword\">in</span> <span class=\"variable\">$&#123;software[@]&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">do</span></span><br><span class=\"line\">        <span class=\"built_in\">type</span> <span class=\"variable\">$soft</span> 2&gt;&amp;1 &gt; /dev/null     <span class=\"comment\"># 已安装，则返回零</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> [ $? -ne 0 ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">            <span class=\"built_in\">echo</span> <span class=\"string\">\"ERROR: **<span class=\"variable\">$soft</span>** is not installed!\"</span></span><br><span class=\"line\">            <span class=\"built_in\">exit</span> 1</span><br><span class=\"line\">        <span class=\"keyword\">fi</span></span><br><span class=\"line\">        <span class=\"built_in\">echo</span> <span class=\"string\">\"Checking <span class=\"variable\">$soft</span>...ok!\"</span></span><br><span class=\"line\">    <span class=\"keyword\">done</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">check_software</span><br></pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">运行结果</span><br><span class=\"line\">bash check_software.sh</span><br><span class=\"line\">Checking vim...ok!</span><br><span class=\"line\">Checking git...ok!</span><br><span class=\"line\">Checking tmux...ok!</span><br><span class=\"line\">Checking npm...ok!</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"Mac下安装Python版CAMB","mathjax":false,"toc":true,"abbrlink":3538923028,"date":"2018-11-26T09:48:03.000Z","_content":"# 安装过程遇到的坑\n`camb`的最新版已经支持`Intel Fortran`编译器进行编译。然而编译`python`版本`camb`的过程中会遇到不少问题。\n\n1、编译选项冲突\n查看`Makefile`发现，`MacOS`平台下`camb`共享库`camblib.so`的编译选项中`SFFLAGS`保持默认会出现编译错误。\n\n```bash\n# -fminshared 与 -fpic 选项冲突\n# 修改为\nSFFLAGS = -dynamiclib\n```\n\n2、动态库加载错误\n修改`Makefile`之后，编译没有问题，但是在`Python`中`import`时会出现库未加载的错误。\n```python\nOSError:\ndlopen(/Users/xuwutao/.pyenv/versions/3.7.1/envs/science/lib/python3.7/site-packages/camb/camblib.so, 6): Library not loaded: @rpath/libiomp5.dylib\n  Referenced from : /Users/xuwutao/.pyenv/versions/3.7.1/envs/science/lib/python3.7/site-packages/camb/camblib.so\n  Reason: image not found\n```\n\n解决办法：\n将`libiomp5.dylib`所在的目录加入`@rpath`中。\n\n```bash\ninstall_name_tool -add_rpath /Users/xuwutao/Program/intel/2018/compilers_and_libraries_2018.1.126/mac/compiler/lib /Users/xuwutao/.pyenv/versions/3.7.1/envs/science/lib/python3.7/site-packages/camb/camblib.so\n```\n\n# 疑问\n原以为设置好`DYLD_LIBRARY_PATH`就没有问题，没想到还需要设置`@rpath`。估计和`Mac`下动态库的加载机制有关，详细情况以后有时间再研究吧。\n","source":"_posts/camb-with-python-on-mac.md","raw":"---\ntitle: Mac下安装Python版CAMB\nmathjax: false\ntoc: true\ncategory:\n  - python\ntags:\n  - python\n  - camb\nabbrlink: 3538923028\ndate: 2018-11-26 17:48:03\n---\n# 安装过程遇到的坑\n`camb`的最新版已经支持`Intel Fortran`编译器进行编译。然而编译`python`版本`camb`的过程中会遇到不少问题。\n\n1、编译选项冲突\n查看`Makefile`发现，`MacOS`平台下`camb`共享库`camblib.so`的编译选项中`SFFLAGS`保持默认会出现编译错误。\n\n```bash\n# -fminshared 与 -fpic 选项冲突\n# 修改为\nSFFLAGS = -dynamiclib\n```\n\n2、动态库加载错误\n修改`Makefile`之后，编译没有问题，但是在`Python`中`import`时会出现库未加载的错误。\n```python\nOSError:\ndlopen(/Users/xuwutao/.pyenv/versions/3.7.1/envs/science/lib/python3.7/site-packages/camb/camblib.so, 6): Library not loaded: @rpath/libiomp5.dylib\n  Referenced from : /Users/xuwutao/.pyenv/versions/3.7.1/envs/science/lib/python3.7/site-packages/camb/camblib.so\n  Reason: image not found\n```\n\n解决办法：\n将`libiomp5.dylib`所在的目录加入`@rpath`中。\n\n```bash\ninstall_name_tool -add_rpath /Users/xuwutao/Program/intel/2018/compilers_and_libraries_2018.1.126/mac/compiler/lib /Users/xuwutao/.pyenv/versions/3.7.1/envs/science/lib/python3.7/site-packages/camb/camblib.so\n```\n\n# 疑问\n原以为设置好`DYLD_LIBRARY_PATH`就没有问题，没想到还需要设置`@rpath`。估计和`Mac`下动态库的加载机制有关，详细情况以后有时间再研究吧。\n","slug":"camb-with-python-on-mac","published":1,"updated":"2019-04-21T01:58:28.751Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq77000ah51jqjuj6ggf","content":"<!-- build time:Sun Apr 21 2019 10:17:12 GMT+0800 (中国标准时间) --><h1 id=\"安装过程遇到的坑\"><a class=\"markdownIt-Anchor\" href=\"#安装过程遇到的坑\"></a> 安装过程遇到的坑</h1><p><code>camb</code>的最新版已经支持<code>Intel Fortran</code>编译器进行编译。然而编译<code>python</code>版本<code>camb</code>的过程中会遇到不少问题。</p><p>1、编译选项冲突<br>查看<code>Makefile</code>发现，<code>MacOS</code>平台下<code>camb</code>共享库<code>camblib.so</code>的编译选项中<code>SFFLAGS</code>保持默认会出现编译错误。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># -fminshared 与 -fpic 选项冲突</span></span><br><span class=\"line\"><span class=\"comment\"># 修改为</span></span><br><span class=\"line\">SFFLAGS = -dynamiclib</span><br></pre></td></tr></table></figure><p>2、动态库加载错误<br>修改<code>Makefile</code>之后，编译没有问题，但是在<code>Python</code>中<code>import</code>时会出现库未加载的错误。</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">OSError:</span><br><span class=\"line\">dlopen(/Users/xuwutao/.pyenv/versions/<span class=\"number\">3.7</span><span class=\"number\">.1</span>/envs/science/lib/python3<span class=\"number\">.7</span>/site-packages/camb/camblib.so, <span class=\"number\">6</span>): Library <span class=\"keyword\">not</span> loaded: @rpath/libiomp5.dylib</span><br><span class=\"line\">  Referenced <span class=\"keyword\">from</span> : /Users/xuwutao/.pyenv/versions/<span class=\"number\">3.7</span><span class=\"number\">.1</span>/envs/science/lib/python3<span class=\"number\">.7</span>/site-packages/camb/camblib.so</span><br><span class=\"line\">  Reason: image <span class=\"keyword\">not</span> found</span><br></pre></td></tr></table></figure><p>解决办法：<br>将<code>libiomp5.dylib</code>所在的目录加入<code>@rpath</code>中。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">install_name_tool -add_rpath /Users/xuwutao/Program/intel/2018/compilers_and_libraries_2018.1.126/mac/compiler/lib /Users/xuwutao/.pyenv/versions/3.7.1/envs/science/lib/python3.7/site-packages/camb/camblib.so</span><br></pre></td></tr></table></figure><h1 id=\"疑问\"><a class=\"markdownIt-Anchor\" href=\"#疑问\"></a> 疑问</h1><p>原以为设置好<code>DYLD_LIBRARY_PATH</code>就没有问题，没想到还需要设置<code>@rpath</code>。估计和<code>Mac</code>下动态库的加载机制有关，详细情况以后有时间再研究吧。</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:12 GMT+0800 (中国标准时间) --><h1 id=\"安装过程遇到的坑\"><a class=\"markdownIt-Anchor\" href=\"#安装过程遇到的坑\"></a> 安装过程遇到的坑</h1><p><code>camb</code>的最新版已经支持<code>Intel Fortran</code>编译器进行编译。然而编译<code>python</code>版本<code>camb</code>的过程中会遇到不少问题。</p><p>1、编译选项冲突<br>查看<code>Makefile</code>发现，<code>MacOS</code>平台下<code>camb</code>共享库<code>camblib.so</code>的编译选项中<code>SFFLAGS</code>保持默认会出现编译错误。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># -fminshared 与 -fpic 选项冲突</span></span><br><span class=\"line\"><span class=\"comment\"># 修改为</span></span><br><span class=\"line\">SFFLAGS = -dynamiclib</span><br></pre></td></tr></table></figure><p>2、动态库加载错误<br>修改<code>Makefile</code>之后，编译没有问题，但是在<code>Python</code>中<code>import</code>时会出现库未加载的错误。</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">OSError:</span><br><span class=\"line\">dlopen(/Users/xuwutao/.pyenv/versions/<span class=\"number\">3.7</span><span class=\"number\">.1</span>/envs/science/lib/python3<span class=\"number\">.7</span>/site-packages/camb/camblib.so, <span class=\"number\">6</span>): Library <span class=\"keyword\">not</span> loaded: @rpath/libiomp5.dylib</span><br><span class=\"line\">  Referenced <span class=\"keyword\">from</span> : /Users/xuwutao/.pyenv/versions/<span class=\"number\">3.7</span><span class=\"number\">.1</span>/envs/science/lib/python3<span class=\"number\">.7</span>/site-packages/camb/camblib.so</span><br><span class=\"line\">  Reason: image <span class=\"keyword\">not</span> found</span><br></pre></td></tr></table></figure><p>解决办法：<br>将<code>libiomp5.dylib</code>所在的目录加入<code>@rpath</code>中。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">install_name_tool -add_rpath /Users/xuwutao/Program/intel/2018/compilers_and_libraries_2018.1.126/mac/compiler/lib /Users/xuwutao/.pyenv/versions/3.7.1/envs/science/lib/python3.7/site-packages/camb/camblib.so</span><br></pre></td></tr></table></figure><h1 id=\"疑问\"><a class=\"markdownIt-Anchor\" href=\"#疑问\"></a> 疑问</h1><p>原以为设置好<code>DYLD_LIBRARY_PATH</code>就没有问题，没想到还需要设置<code>@rpath</code>。估计和<code>Mac</code>下动态库的加载机制有关，详细情况以后有时间再研究吧。</p><!-- rebuild by neat -->"},{"title":"CentOS6.6编译安装Clang7.0.0","mathjax":false,"toc":true,"abbrlink":2372579481,"date":"2018-12-08T07:52:16.000Z","_content":"# 下载安装包\n编译安装`Clang`需要下载7个文件，分别是\n\n1、`llvm-7.0.0.src.tar.xz`\n2、`cfe-7.0.0.src.tar.xz1`\n3、`clang-tools-extra-7.0.0.src.tar.xz`\n4、`compiler-rt-7.0.0.src.tar.xz`\n5、`libcxx-7.0.0.src.tar.xz`\n6、`libcxxabi-7.0.0.src.tar.xz`\n7、`libunwind-7.0.0.src.tar.xz`\n\n```bash\nversion=7.0.0\nurl=http://releases.llvm.org/$version\nfile1=llvm-$version.src\nfile2=cfe-$version.src\nfile3=clang-tools-extra-$version.src\nfile4=compiler-rt-$version.src\nfile5=libcxx-$version.src\nfile6=libcxxabi-$version.src\nfile7=libunwind-$version.src\n\nfor file in $file{1..7}\ndo\n    [ -f $file.tar.xz ] || wget $url/$file.tar.xz\ndone\n```\n\n# 编译安装\n```bash\n# 进入安装脚本所在的目录\npath=$PWD/$0\ncd ${path%/*}\n\n# 获取 clang 版本号\nfor file in `ls .`\ndo\n    [[ $file =~ \"llvm\" ]] && version=$file\ndone\nversion=${version/*-}\nversion=${version%.src*}\n\n# 新建 build 目录\nmkdir build && cd build\n\n# 解压\nfor file in $file{1..7}\ndo\n    tar xvf ../$file.tar.xz\ndone\n\n# 移动目录\nmv $file2 $file1/tools/clang\nmv $file3 $file1/tools/clang/tools/extra\nmv $file4 $file1/projects/compiler-rt\nmv $file5 $file1/projects/libcxx\nmv $file6 $file1/projects/libcxxabi\nmv $file7 $file1/projects/libunwind\n\n# 编译及安装\n# 由于集群上默认gcc版本太低，所以必须切换到较高版本。\n# 即便如此，仍需在shell中设定CC、CXX或者添加CMAKE选项指定C、CXX编译器才能通过检测\n\nexport CC=gcc\nexport CXX=g++\n\n# 若进行了上面的设置，则可省去选项 -DCMAKE_C_COMPILER 和 -DCMAKE_CXX_COMPILER\ncmake -G\"Unix Makefiles\" \\\n    -DCMAKE_CXX_COMPILER=/path/to/specified/g++ \\\n    -DCMAKE_C_COMPILER=/path/to/specified/gcc \\\n    -DCMAKE_INSTALL_PREFIX=/path/to/installation \\\n    -DCMAKE_BUILD_TYPE=Release  \\\n    -DLLVM_TARGETS_TO_BUILD=\"X86\" \\\n    $file1\n    # -DCLANG_DEFAULT_CXX_STDLIB=libc++ \\\n\nmake -j 4\nmake install\nmake install-cxx install-cxxabi\n```\n\n# 打包clang动态库\n手动安装`clang`的目的主要是为了安装`YouCompleteMe`，需要用到的其实就只有一个动态库文件`libclang.so.7`。\n```bash\nmkdir lib\ncp -l /path/to/installation/lib/libclang.so* lib\ntar -cjf libclang-$version-x86_64-unknown-linux-gnu.tar.bz2 lib\nrm -rf lib\n```\n","source":"_posts/clang-from-source-on-centos6.md","raw":"---\ntitle: CentOS6.6编译安装Clang7.0.0\nmathjax: false\ntoc: true\ncategory:\n  - Clang\ntags:\n  - clang\n  - centos\nabbrlink: 2372579481\ndate: 2018-12-08 15:52:16\n---\n# 下载安装包\n编译安装`Clang`需要下载7个文件，分别是\n\n1、`llvm-7.0.0.src.tar.xz`\n2、`cfe-7.0.0.src.tar.xz1`\n3、`clang-tools-extra-7.0.0.src.tar.xz`\n4、`compiler-rt-7.0.0.src.tar.xz`\n5、`libcxx-7.0.0.src.tar.xz`\n6、`libcxxabi-7.0.0.src.tar.xz`\n7、`libunwind-7.0.0.src.tar.xz`\n\n```bash\nversion=7.0.0\nurl=http://releases.llvm.org/$version\nfile1=llvm-$version.src\nfile2=cfe-$version.src\nfile3=clang-tools-extra-$version.src\nfile4=compiler-rt-$version.src\nfile5=libcxx-$version.src\nfile6=libcxxabi-$version.src\nfile7=libunwind-$version.src\n\nfor file in $file{1..7}\ndo\n    [ -f $file.tar.xz ] || wget $url/$file.tar.xz\ndone\n```\n\n# 编译安装\n```bash\n# 进入安装脚本所在的目录\npath=$PWD/$0\ncd ${path%/*}\n\n# 获取 clang 版本号\nfor file in `ls .`\ndo\n    [[ $file =~ \"llvm\" ]] && version=$file\ndone\nversion=${version/*-}\nversion=${version%.src*}\n\n# 新建 build 目录\nmkdir build && cd build\n\n# 解压\nfor file in $file{1..7}\ndo\n    tar xvf ../$file.tar.xz\ndone\n\n# 移动目录\nmv $file2 $file1/tools/clang\nmv $file3 $file1/tools/clang/tools/extra\nmv $file4 $file1/projects/compiler-rt\nmv $file5 $file1/projects/libcxx\nmv $file6 $file1/projects/libcxxabi\nmv $file7 $file1/projects/libunwind\n\n# 编译及安装\n# 由于集群上默认gcc版本太低，所以必须切换到较高版本。\n# 即便如此，仍需在shell中设定CC、CXX或者添加CMAKE选项指定C、CXX编译器才能通过检测\n\nexport CC=gcc\nexport CXX=g++\n\n# 若进行了上面的设置，则可省去选项 -DCMAKE_C_COMPILER 和 -DCMAKE_CXX_COMPILER\ncmake -G\"Unix Makefiles\" \\\n    -DCMAKE_CXX_COMPILER=/path/to/specified/g++ \\\n    -DCMAKE_C_COMPILER=/path/to/specified/gcc \\\n    -DCMAKE_INSTALL_PREFIX=/path/to/installation \\\n    -DCMAKE_BUILD_TYPE=Release  \\\n    -DLLVM_TARGETS_TO_BUILD=\"X86\" \\\n    $file1\n    # -DCLANG_DEFAULT_CXX_STDLIB=libc++ \\\n\nmake -j 4\nmake install\nmake install-cxx install-cxxabi\n```\n\n# 打包clang动态库\n手动安装`clang`的目的主要是为了安装`YouCompleteMe`，需要用到的其实就只有一个动态库文件`libclang.so.7`。\n```bash\nmkdir lib\ncp -l /path/to/installation/lib/libclang.so* lib\ntar -cjf libclang-$version-x86_64-unknown-linux-gnu.tar.bz2 lib\nrm -rf lib\n```\n","slug":"clang-from-source-on-centos6","published":1,"updated":"2019-04-21T01:58:28.752Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq7f000fh51jr29mig6v","content":"<!-- build time:Sun Apr 21 2019 10:17:12 GMT+0800 (中国标准时间) --><h1 id=\"下载安装包\"><a class=\"markdownIt-Anchor\" href=\"#下载安装包\"></a> 下载安装包</h1><p>编译安装<code>Clang</code>需要下载7个文件，分别是</p><p>1、<code>llvm-7.0.0.src.tar.xz</code><br>2、<code>cfe-7.0.0.src.tar.xz1</code><br>3、<code>clang-tools-extra-7.0.0.src.tar.xz</code><br>4、<code>compiler-rt-7.0.0.src.tar.xz</code><br>5、<code>libcxx-7.0.0.src.tar.xz</code><br>6、<code>libcxxabi-7.0.0.src.tar.xz</code><br>7、<code>libunwind-7.0.0.src.tar.xz</code></p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">version=7.0.0</span><br><span class=\"line\">url=http://releases.llvm.org/<span class=\"variable\">$version</span></span><br><span class=\"line\">file1=llvm-<span class=\"variable\">$version</span>.src</span><br><span class=\"line\">file2=cfe-<span class=\"variable\">$version</span>.src</span><br><span class=\"line\">file3=clang-tools-extra-<span class=\"variable\">$version</span>.src</span><br><span class=\"line\">file4=compiler-rt-<span class=\"variable\">$version</span>.src</span><br><span class=\"line\">file5=libcxx-<span class=\"variable\">$version</span>.src</span><br><span class=\"line\">file6=libcxxabi-<span class=\"variable\">$version</span>.src</span><br><span class=\"line\">file7=libunwind-<span class=\"variable\">$version</span>.src</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> file <span class=\"keyword\">in</span> <span class=\"variable\">$file</span>&#123;1..7&#125;</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    [ -f <span class=\"variable\">$file</span>.tar.xz ] || wget <span class=\"variable\">$url</span>/<span class=\"variable\">$file</span>.tar.xz</span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure><h1 id=\"编译安装\"><a class=\"markdownIt-Anchor\" href=\"#编译安装\"></a> 编译安装</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 进入安装脚本所在的目录</span></span><br><span class=\"line\">path=<span class=\"variable\">$PWD</span>/<span class=\"variable\">$0</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> <span class=\"variable\">$&#123;path%/*&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 获取 clang 版本号</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> file <span class=\"keyword\">in</span> `ls .`</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    [[ <span class=\"variable\">$file</span> =~ <span class=\"string\">\"llvm\"</span> ]] &amp;&amp; version=<span class=\"variable\">$file</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\">version=<span class=\"variable\">$&#123;version/*-&#125;</span></span><br><span class=\"line\">version=<span class=\"variable\">$&#123;version%.src*&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 新建 build 目录</span></span><br><span class=\"line\">mkdir build &amp;&amp; <span class=\"built_in\">cd</span> build</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 解压</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> file <span class=\"keyword\">in</span> <span class=\"variable\">$file</span>&#123;1..7&#125;</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    tar xvf ../<span class=\"variable\">$file</span>.tar.xz</span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 移动目录</span></span><br><span class=\"line\">mv <span class=\"variable\">$file2</span> <span class=\"variable\">$file1</span>/tools/clang</span><br><span class=\"line\">mv <span class=\"variable\">$file3</span> <span class=\"variable\">$file1</span>/tools/clang/tools/extra</span><br><span class=\"line\">mv <span class=\"variable\">$file4</span> <span class=\"variable\">$file1</span>/projects/compiler-rt</span><br><span class=\"line\">mv <span class=\"variable\">$file5</span> <span class=\"variable\">$file1</span>/projects/libcxx</span><br><span class=\"line\">mv <span class=\"variable\">$file6</span> <span class=\"variable\">$file1</span>/projects/libcxxabi</span><br><span class=\"line\">mv <span class=\"variable\">$file7</span> <span class=\"variable\">$file1</span>/projects/libunwind</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 编译及安装</span></span><br><span class=\"line\"><span class=\"comment\"># 由于集群上默认gcc版本太低，所以必须切换到较高版本。</span></span><br><span class=\"line\"><span class=\"comment\"># 即便如此，仍需在shell中设定CC、CXX或者添加CMAKE选项指定C、CXX编译器才能通过检测</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">export</span> CC=gcc</span><br><span class=\"line\"><span class=\"built_in\">export</span> CXX=g++</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 若进行了上面的设置，则可省去选项 -DCMAKE_C_COMPILER 和 -DCMAKE_CXX_COMPILER</span></span><br><span class=\"line\">cmake -G<span class=\"string\">\"Unix Makefiles\"</span> \\</span><br><span class=\"line\">    -DCMAKE_CXX_COMPILER=/path/to/specified/g++ \\</span><br><span class=\"line\">    -DCMAKE_C_COMPILER=/path/to/specified/gcc \\</span><br><span class=\"line\">    -DCMAKE_INSTALL_PREFIX=/path/to/installation \\</span><br><span class=\"line\">    -DCMAKE_BUILD_TYPE=Release  \\</span><br><span class=\"line\">    -DLLVM_TARGETS_TO_BUILD=<span class=\"string\">\"X86\"</span> \\</span><br><span class=\"line\">    <span class=\"variable\">$file1</span></span><br><span class=\"line\">    <span class=\"comment\"># -DCLANG_DEFAULT_CXX_STDLIB=libc++ \\</span></span><br><span class=\"line\"></span><br><span class=\"line\">make -j 4</span><br><span class=\"line\">make install</span><br><span class=\"line\">make install-cxx install-cxxabi</span><br></pre></td></tr></table></figure><h1 id=\"打包clang动态库\"><a class=\"markdownIt-Anchor\" href=\"#打包clang动态库\"></a> 打包clang动态库</h1><p>手动安装<code>clang</code>的目的主要是为了安装<code>YouCompleteMe</code>，需要用到的其实就只有一个动态库文件<code>libclang.so.7</code>。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir lib</span><br><span class=\"line\">cp -l /path/to/installation/lib/libclang.so* lib</span><br><span class=\"line\">tar -cjf libclang-<span class=\"variable\">$version</span>-x86_64-unknown-linux-gnu.tar.bz2 lib</span><br><span class=\"line\">rm -rf lib</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:12 GMT+0800 (中国标准时间) --><h1 id=\"下载安装包\"><a class=\"markdownIt-Anchor\" href=\"#下载安装包\"></a> 下载安装包</h1><p>编译安装<code>Clang</code>需要下载7个文件，分别是</p><p>1、<code>llvm-7.0.0.src.tar.xz</code><br>2、<code>cfe-7.0.0.src.tar.xz1</code><br>3、<code>clang-tools-extra-7.0.0.src.tar.xz</code><br>4、<code>compiler-rt-7.0.0.src.tar.xz</code><br>5、<code>libcxx-7.0.0.src.tar.xz</code><br>6、<code>libcxxabi-7.0.0.src.tar.xz</code><br>7、<code>libunwind-7.0.0.src.tar.xz</code></p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">version=7.0.0</span><br><span class=\"line\">url=http://releases.llvm.org/<span class=\"variable\">$version</span></span><br><span class=\"line\">file1=llvm-<span class=\"variable\">$version</span>.src</span><br><span class=\"line\">file2=cfe-<span class=\"variable\">$version</span>.src</span><br><span class=\"line\">file3=clang-tools-extra-<span class=\"variable\">$version</span>.src</span><br><span class=\"line\">file4=compiler-rt-<span class=\"variable\">$version</span>.src</span><br><span class=\"line\">file5=libcxx-<span class=\"variable\">$version</span>.src</span><br><span class=\"line\">file6=libcxxabi-<span class=\"variable\">$version</span>.src</span><br><span class=\"line\">file7=libunwind-<span class=\"variable\">$version</span>.src</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> file <span class=\"keyword\">in</span> <span class=\"variable\">$file</span>&#123;1..7&#125;</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    [ -f <span class=\"variable\">$file</span>.tar.xz ] || wget <span class=\"variable\">$url</span>/<span class=\"variable\">$file</span>.tar.xz</span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure><h1 id=\"编译安装\"><a class=\"markdownIt-Anchor\" href=\"#编译安装\"></a> 编译安装</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 进入安装脚本所在的目录</span></span><br><span class=\"line\">path=<span class=\"variable\">$PWD</span>/<span class=\"variable\">$0</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> <span class=\"variable\">$&#123;path%/*&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 获取 clang 版本号</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> file <span class=\"keyword\">in</span> `ls .`</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    [[ <span class=\"variable\">$file</span> =~ <span class=\"string\">\"llvm\"</span> ]] &amp;&amp; version=<span class=\"variable\">$file</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\">version=<span class=\"variable\">$&#123;version/*-&#125;</span></span><br><span class=\"line\">version=<span class=\"variable\">$&#123;version%.src*&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 新建 build 目录</span></span><br><span class=\"line\">mkdir build &amp;&amp; <span class=\"built_in\">cd</span> build</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 解压</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> file <span class=\"keyword\">in</span> <span class=\"variable\">$file</span>&#123;1..7&#125;</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    tar xvf ../<span class=\"variable\">$file</span>.tar.xz</span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 移动目录</span></span><br><span class=\"line\">mv <span class=\"variable\">$file2</span> <span class=\"variable\">$file1</span>/tools/clang</span><br><span class=\"line\">mv <span class=\"variable\">$file3</span> <span class=\"variable\">$file1</span>/tools/clang/tools/extra</span><br><span class=\"line\">mv <span class=\"variable\">$file4</span> <span class=\"variable\">$file1</span>/projects/compiler-rt</span><br><span class=\"line\">mv <span class=\"variable\">$file5</span> <span class=\"variable\">$file1</span>/projects/libcxx</span><br><span class=\"line\">mv <span class=\"variable\">$file6</span> <span class=\"variable\">$file1</span>/projects/libcxxabi</span><br><span class=\"line\">mv <span class=\"variable\">$file7</span> <span class=\"variable\">$file1</span>/projects/libunwind</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 编译及安装</span></span><br><span class=\"line\"><span class=\"comment\"># 由于集群上默认gcc版本太低，所以必须切换到较高版本。</span></span><br><span class=\"line\"><span class=\"comment\"># 即便如此，仍需在shell中设定CC、CXX或者添加CMAKE选项指定C、CXX编译器才能通过检测</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">export</span> CC=gcc</span><br><span class=\"line\"><span class=\"built_in\">export</span> CXX=g++</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 若进行了上面的设置，则可省去选项 -DCMAKE_C_COMPILER 和 -DCMAKE_CXX_COMPILER</span></span><br><span class=\"line\">cmake -G<span class=\"string\">\"Unix Makefiles\"</span> \\</span><br><span class=\"line\">    -DCMAKE_CXX_COMPILER=/path/to/specified/g++ \\</span><br><span class=\"line\">    -DCMAKE_C_COMPILER=/path/to/specified/gcc \\</span><br><span class=\"line\">    -DCMAKE_INSTALL_PREFIX=/path/to/installation \\</span><br><span class=\"line\">    -DCMAKE_BUILD_TYPE=Release  \\</span><br><span class=\"line\">    -DLLVM_TARGETS_TO_BUILD=<span class=\"string\">\"X86\"</span> \\</span><br><span class=\"line\">    <span class=\"variable\">$file1</span></span><br><span class=\"line\">    <span class=\"comment\"># -DCLANG_DEFAULT_CXX_STDLIB=libc++ \\</span></span><br><span class=\"line\"></span><br><span class=\"line\">make -j 4</span><br><span class=\"line\">make install</span><br><span class=\"line\">make install-cxx install-cxxabi</span><br></pre></td></tr></table></figure><h1 id=\"打包clang动态库\"><a class=\"markdownIt-Anchor\" href=\"#打包clang动态库\"></a> 打包clang动态库</h1><p>手动安装<code>clang</code>的目的主要是为了安装<code>YouCompleteMe</code>，需要用到的其实就只有一个动态库文件<code>libclang.so.7</code>。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir lib</span><br><span class=\"line\">cp -l /path/to/installation/lib/libclang.so* lib</span><br><span class=\"line\">tar -cjf libclang-<span class=\"variable\">$version</span>-x86_64-unknown-linux-gnu.tar.bz2 lib</span><br><span class=\"line\">rm -rf lib</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"cosmology","mathjax":true,"toc":true,"abbrlink":3384466728,"date":"2018-09-19T03:00:38.000Z","_content":"\n# Note\n\n波数 $k$ 和波长 $\\lambda$ 的关系：$k=2\\pi/\\lambda$\n角速度 $\\omega$ 和周期 $T$ 的关系：$\\omega=2\\pi/T=2\\pi f$\n波速 $c$ 和波长 $\\lambda$ 的关系：$cT=\\lambda$\n波数 $k$ 和角速度 $\\omega$ 的关系：$ck=\\omega=2\\pi f$\n频率 $f$ 和波数 $k$ 的关系：$f=ck/(2\\pi)=c/\\lambda$\n","source":"_posts/cosmology.md","raw":"---\ntitle: cosmology\nmathjax: true\ntoc: true\ncategories:\n  - cosmology\ntags:\n  - cosmology\nabbrlink: 3384466728\ndate: 2018-09-19 11:00:38\n---\n\n# Note\n\n波数 $k$ 和波长 $\\lambda$ 的关系：$k=2\\pi/\\lambda$\n角速度 $\\omega$ 和周期 $T$ 的关系：$\\omega=2\\pi/T=2\\pi f$\n波速 $c$ 和波长 $\\lambda$ 的关系：$cT=\\lambda$\n波数 $k$ 和角速度 $\\omega$ 的关系：$ck=\\omega=2\\pi f$\n频率 $f$ 和波数 $k$ 的关系：$f=ck/(2\\pi)=c/\\lambda$\n","slug":"cosmology","published":1,"updated":"2019-04-21T01:58:28.752Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq7j000hh51jjzxe7w1v","content":"<!-- build time:Sun Apr 21 2019 10:17:12 GMT+0800 (中国标准时间) --><h1 id=\"note\"><a class=\"markdownIt-Anchor\" href=\"#note\"></a> Note</h1><p>波数 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span> 和波长 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>λ</mi></mrow><annotation encoding=\"application/x-tex\">\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">λ</span></span></span></span> 的关系：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi><mo>=</mo><mn>2</mn><mi>π</mi><mi mathvariant=\"normal\">/</mi><mi>λ</mi></mrow><annotation encoding=\"application/x-tex\">k=2\\pi/\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">π</span><span class=\"mord\">/</span><span class=\"mord mathdefault\">λ</span></span></span></span><br>角速度 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ω</mi></mrow><annotation encoding=\"application/x-tex\">\\omega</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span></span></span></span> 和周期 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.13889em\">T</span></span></span></span> 的关系：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ω</mi><mo>=</mo><mn>2</mn><mi>π</mi><mi mathvariant=\"normal\">/</mi><mi>T</mi><mo>=</mo><mn>2</mn><mi>π</mi><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">\\omega=2\\pi/T=2\\pi f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">π</span><span class=\"mord\">/</span><span class=\"mord mathdefault\" style=\"margin-right:.13889em\">T</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">π</span><span class=\"mord mathdefault\" style=\"margin-right:.10764em\">f</span></span></span></span><br>波速 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\">c</span></span></span></span> 和波长 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>λ</mi></mrow><annotation encoding=\"application/x-tex\">\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">λ</span></span></span></span> 的关系：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>c</mi><mi>T</mi><mo>=</mo><mi>λ</mi></mrow><annotation encoding=\"application/x-tex\">cT=\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\" style=\"margin-right:.13889em\">T</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">λ</span></span></span></span><br>波数 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span> 和角速度 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ω</mi></mrow><annotation encoding=\"application/x-tex\">\\omega</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span></span></span></span> 的关系：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>c</mi><mi>k</mi><mo>=</mo><mi>ω</mi><mo>=</mo><mn>2</mn><mi>π</mi><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">ck=\\omega=2\\pi f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">π</span><span class=\"mord mathdefault\" style=\"margin-right:.10764em\">f</span></span></span></span><br>频率 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.10764em\">f</span></span></span></span> 和波数 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span> 的关系：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>f</mi><mo>=</mo><mi>c</mi><mi>k</mi><mi mathvariant=\"normal\">/</mi><mo>(</mo><mn>2</mn><mi>π</mi><mo>)</mo><mo>=</mo><mi>c</mi><mi mathvariant=\"normal\">/</mi><mi>λ</mi></mrow><annotation encoding=\"application/x-tex\">f=ck/(2\\pi)=c/\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.10764em\">f</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span><span class=\"mord\">/</span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">π</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">c</span><span class=\"mord\">/</span><span class=\"mord mathdefault\">λ</span></span></span></span></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:12 GMT+0800 (中国标准时间) --><h1 id=\"note\"><a class=\"markdownIt-Anchor\" href=\"#note\"></a> Note</h1><p>波数 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span> 和波长 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>λ</mi></mrow><annotation encoding=\"application/x-tex\">\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">λ</span></span></span></span> 的关系：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi><mo>=</mo><mn>2</mn><mi>π</mi><mi mathvariant=\"normal\">/</mi><mi>λ</mi></mrow><annotation encoding=\"application/x-tex\">k=2\\pi/\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">π</span><span class=\"mord\">/</span><span class=\"mord mathdefault\">λ</span></span></span></span><br>角速度 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ω</mi></mrow><annotation encoding=\"application/x-tex\">\\omega</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span></span></span></span> 和周期 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.13889em\">T</span></span></span></span> 的关系：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ω</mi><mo>=</mo><mn>2</mn><mi>π</mi><mi mathvariant=\"normal\">/</mi><mi>T</mi><mo>=</mo><mn>2</mn><mi>π</mi><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">\\omega=2\\pi/T=2\\pi f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">π</span><span class=\"mord\">/</span><span class=\"mord mathdefault\" style=\"margin-right:.13889em\">T</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">π</span><span class=\"mord mathdefault\" style=\"margin-right:.10764em\">f</span></span></span></span><br>波速 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\">c</span></span></span></span> 和波长 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>λ</mi></mrow><annotation encoding=\"application/x-tex\">\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">λ</span></span></span></span> 的关系：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>c</mi><mi>T</mi><mo>=</mo><mi>λ</mi></mrow><annotation encoding=\"application/x-tex\">cT=\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\" style=\"margin-right:.13889em\">T</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">λ</span></span></span></span><br>波数 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span> 和角速度 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ω</mi></mrow><annotation encoding=\"application/x-tex\">\\omega</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span></span></span></span> 的关系：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>c</mi><mi>k</mi><mo>=</mo><mi>ω</mi><mo>=</mo><mn>2</mn><mi>π</mi><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">ck=\\omega=2\\pi f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">π</span><span class=\"mord mathdefault\" style=\"margin-right:.10764em\">f</span></span></span></span><br>频率 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.10764em\">f</span></span></span></span> 和波数 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span> 的关系：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>f</mi><mo>=</mo><mi>c</mi><mi>k</mi><mi mathvariant=\"normal\">/</mi><mo>(</mo><mn>2</mn><mi>π</mi><mo>)</mo><mo>=</mo><mi>c</mi><mi mathvariant=\"normal\">/</mi><mi>λ</mi></mrow><annotation encoding=\"application/x-tex\">f=ck/(2\\pi)=c/\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.10764em\">f</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span><span class=\"mord\">/</span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">π</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">c</span><span class=\"mord\">/</span><span class=\"mord mathdefault\">λ</span></span></span></span></p><!-- rebuild by neat -->"},{"title":"euler-lagrange-equation","mathjax":true,"toc":true,"abbrlink":4141491110,"date":"2018-12-02T12:12:33.000Z","_content":"\n# 作用量\n作用量 $S$ 是拉氏密度$\\mathcal{L}$ 在四维时空中的积分，\n$$\nS = \\frac{1}{c}\\int d^4x \\mathcal{L}(\\phi,\\partial_\\mu\\phi)\n$$\n\n# 场的变分\n对场的变分的贡献共来自两个方面，1、坐标无穷小变换；2、场自身的无穷小变换。下面分别讨论这两种情况。\n\n1、坐标无穷小变换\n$$\nx^{\\mu}\\rightarrow x'^{\\mu}= x^{\\mu} + \\delta x^{\\mu}\n$$\n\n通常谈论的场的变分是指坐标不变时的变分 $\\bar{\\delta}$，\n$$\n\\bar{\\delta}\\phi(x) = \\phi'(x) - \\phi(x)\n$$\n根据标量场 $\\phi(x)$ 在坐标变换下的性质 $\\phi'(x')=\\phi(x)$，容易得到\n$$\n\\bar{\\delta}\\phi = -\\delta x^{\\mu}\\partial_{\\mu}\\phi\n$$\n\n2、场自身的无穷小变换\n在没有坐标变换的情况下，场 $\\phi$ 产生了一个无穷小变换。此时坐标不变时的变分为\n$$\n\\bar{\\delta}\\phi = \\phi'(x) - \\phi(x) = \\delta\\phi\n$$\n注意到这里用 $\\delta$ 表示场自身的变分。通常情况下遇到的变分就是这种情况。\n\n3、一般情况\n如果同时考虑到**坐标变换**以及**场自身的变分**，则标量场 $\\phi(x)$ 满足的性质需修改为\n$$\n\\phi'(x') = \\phi(x) + \\delta\\phi(x)\n$$\n故坐标不变时的变分为\n$$\n\\begin{aligned}\n\\bar{\\delta}\\phi(x) &= \\phi'(x) - \\phi(x) \\\\\n                &= \\phi(x-\\delta{x}) + \\delta\\phi(x-\\delta{x}) - \\phi(x) \\\\\n                &\\approx \\delta\\phi(x) - \\delta{x^\\mu}\\partial_{\\mu}\\phi(x) \\\\\n\\end{aligned}\n$$\n\n根据上述讨论可知，场自身的变分一般情况下并非坐标不变时的变分 $(\\delta \\ne \\bar{\\delta})$，只有当不存在坐标变换的情况下两者才相等 $(\\bar{\\delta} = \\delta)$。\n\n## 拉氏密度的变分\n一般情况下，作为标量场的拉氏密度的坐标不变时的变分为\n$$\n\\begin{aligned}\n\\bar{\\delta}\\mathcal{L}(x) &= \\mathcal{L}'(x) - \\mathcal{L}(x) \\\\\n                           &= \\mathcal{L}(x-\\delta x) -\n                           \\delta\\mathcal{L}(x-\\delta x) - \\mathcal{L}(x) \\\\\n                           &= \\delta\\mathcal{L}(x) -\n                           \\delta{x^\\mu}\\partial_{\\mu}\\mathcal{L} \\\\\n                           &=\n                           \\frac{\\partial\\mathcal{L}}{\\partial\\phi}\\bar{\\delta}\\phi\n                           +\n                           \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\bar{\\delta}\\partial_{\\mu}\\phi\n\\end{aligned}\n$$\n\n<!-- 其中 $\\delta\\mathcal{L}(x)$ 可展开为 -->\n<!-- $$ -->\n<!-- \\begin{align} -->\n<!-- \\delta\\mathcal{L}(x) &= \\frac{\\partial\\mathcal{L}}{\\partial\\phi}\\delta\\phi + -->\n<!-- \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\delta{\\partial_{\\mu}\\phi} -->\n<!-- \\end{align} -->\n<!-- $$ -->\n\n## 作用量的变分\n$$\n\\begin{aligned}\n\\delta S &= \\int \\delta(d^4 x)\\mathcal{L} + \\int d^4 x\\, \\delta{\\mathcal{L}} \\\\\n        &= \\int d^4x \\left(\\bar{\\delta}\\mathcal{L}+\\delta x^{\\mu}\\partial_{\\mu}{\\mathcal{L}} + \\mathcal{L}\\partial_{\\mu}\\delta{x^\\mu}\\right) \\\\\n        &= \\int d^4x \\left(\\bar{\\delta}\\mathcal{L} + \\partial_{\\mu}(\\mathcal{L}\\delta x^{\\mu})\\right) \\\\\n        &= \\int d^4x \\left(\\frac{\\partial\\mathcal{L}}{\\partial\\phi}\\bar{\\delta}\\phi +\n        \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\bar{\\delta}\\partial_{\\mu}\\phi + \\partial_{\\mu}(\\mathcal{L}\\delta x^{\\mu})\\right) \\\\\n        &= \\int d^4x \\left[\\left(\\frac{\\partial\\mathcal{L}}{\\partial\\phi} -\n        \\partial_{\\mu}\\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\right)\\bar{\\delta}\\phi +\n        \\partial_{\\mu}\\left(\\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\bar{\\delta}\\phi+\\mathcal{L}\\delta x^{\\mu}\\right) \\right]\n\\end{aligned}\n$$\n\n## 拉格朗日方程\n假设坐标不变，只考虑场量的变分，则有\n$$\n\\begin{aligned}\n& \\bar{\\delta}\\phi = \\delta\\phi \\\\\n& \\delta x^{\\mu} = 0\n\\end{aligned}\n$$\n\n由表面项在4维时空边界上为零及变分 $\\bar{\\delta}\\phi$ 任意，作用量的变分取极值的条件给出拉格朗日方程\n$$\n\\partial_{\\mu}\\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi} -\n\\frac{\\partial\\mathcal{L}}{\\partial\\phi} = 0\n$$\n\n## 诺特定理\n若场 $\\phi(x)$\n满足拉格朗日方程，则作用量的变分为某个表面项的4维积分。若场在变换（包括坐标变换和自身变换）前后均满足拉格朗日方程，且保持作用量不变。则\n由\n$$\n\\delta S = \\frac{1}{c} \\int d^4x \\partial_{\\mu}j^{\\mu} = 0\n$$\n以及\n$$\nj^{\\mu} = \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\bar{\\delta}\\phi\n+ \\mathcal{L}\\delta x^{\\mu}\n$$\n得到一个对应该变换的守恒流 $j^{\\mu}$。将 $j^{\\mu}$ 改写为\n$$\nj^{\\mu} = \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\delta\\phi -\n\\left(\\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\partial_{\\nu} -\n\\mathcal{L}g^{\\mu}_{\\nu}\\right)\\delta x^{\\nu}\n$$\n\n$\\delta\\phi$ 和 $\\delta x^{\\mu}$ 现在是保持拉格朗日方程不变的变换。\n","source":"_posts/euler-lagrange-equation.md","raw":"---\ntitle: euler-lagrange-equation\nmathjax: true\ntoc: true\ncategory:\n  - QFT\ntags:\n  - 最小作用量\n  - 诺特定理\nabbrlink: 4141491110\ndate: 2018-12-02 20:12:33\n---\n\n# 作用量\n作用量 $S$ 是拉氏密度$\\mathcal{L}$ 在四维时空中的积分，\n$$\nS = \\frac{1}{c}\\int d^4x \\mathcal{L}(\\phi,\\partial_\\mu\\phi)\n$$\n\n# 场的变分\n对场的变分的贡献共来自两个方面，1、坐标无穷小变换；2、场自身的无穷小变换。下面分别讨论这两种情况。\n\n1、坐标无穷小变换\n$$\nx^{\\mu}\\rightarrow x'^{\\mu}= x^{\\mu} + \\delta x^{\\mu}\n$$\n\n通常谈论的场的变分是指坐标不变时的变分 $\\bar{\\delta}$，\n$$\n\\bar{\\delta}\\phi(x) = \\phi'(x) - \\phi(x)\n$$\n根据标量场 $\\phi(x)$ 在坐标变换下的性质 $\\phi'(x')=\\phi(x)$，容易得到\n$$\n\\bar{\\delta}\\phi = -\\delta x^{\\mu}\\partial_{\\mu}\\phi\n$$\n\n2、场自身的无穷小变换\n在没有坐标变换的情况下，场 $\\phi$ 产生了一个无穷小变换。此时坐标不变时的变分为\n$$\n\\bar{\\delta}\\phi = \\phi'(x) - \\phi(x) = \\delta\\phi\n$$\n注意到这里用 $\\delta$ 表示场自身的变分。通常情况下遇到的变分就是这种情况。\n\n3、一般情况\n如果同时考虑到**坐标变换**以及**场自身的变分**，则标量场 $\\phi(x)$ 满足的性质需修改为\n$$\n\\phi'(x') = \\phi(x) + \\delta\\phi(x)\n$$\n故坐标不变时的变分为\n$$\n\\begin{aligned}\n\\bar{\\delta}\\phi(x) &= \\phi'(x) - \\phi(x) \\\\\n                &= \\phi(x-\\delta{x}) + \\delta\\phi(x-\\delta{x}) - \\phi(x) \\\\\n                &\\approx \\delta\\phi(x) - \\delta{x^\\mu}\\partial_{\\mu}\\phi(x) \\\\\n\\end{aligned}\n$$\n\n根据上述讨论可知，场自身的变分一般情况下并非坐标不变时的变分 $(\\delta \\ne \\bar{\\delta})$，只有当不存在坐标变换的情况下两者才相等 $(\\bar{\\delta} = \\delta)$。\n\n## 拉氏密度的变分\n一般情况下，作为标量场的拉氏密度的坐标不变时的变分为\n$$\n\\begin{aligned}\n\\bar{\\delta}\\mathcal{L}(x) &= \\mathcal{L}'(x) - \\mathcal{L}(x) \\\\\n                           &= \\mathcal{L}(x-\\delta x) -\n                           \\delta\\mathcal{L}(x-\\delta x) - \\mathcal{L}(x) \\\\\n                           &= \\delta\\mathcal{L}(x) -\n                           \\delta{x^\\mu}\\partial_{\\mu}\\mathcal{L} \\\\\n                           &=\n                           \\frac{\\partial\\mathcal{L}}{\\partial\\phi}\\bar{\\delta}\\phi\n                           +\n                           \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\bar{\\delta}\\partial_{\\mu}\\phi\n\\end{aligned}\n$$\n\n<!-- 其中 $\\delta\\mathcal{L}(x)$ 可展开为 -->\n<!-- $$ -->\n<!-- \\begin{align} -->\n<!-- \\delta\\mathcal{L}(x) &= \\frac{\\partial\\mathcal{L}}{\\partial\\phi}\\delta\\phi + -->\n<!-- \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\delta{\\partial_{\\mu}\\phi} -->\n<!-- \\end{align} -->\n<!-- $$ -->\n\n## 作用量的变分\n$$\n\\begin{aligned}\n\\delta S &= \\int \\delta(d^4 x)\\mathcal{L} + \\int d^4 x\\, \\delta{\\mathcal{L}} \\\\\n        &= \\int d^4x \\left(\\bar{\\delta}\\mathcal{L}+\\delta x^{\\mu}\\partial_{\\mu}{\\mathcal{L}} + \\mathcal{L}\\partial_{\\mu}\\delta{x^\\mu}\\right) \\\\\n        &= \\int d^4x \\left(\\bar{\\delta}\\mathcal{L} + \\partial_{\\mu}(\\mathcal{L}\\delta x^{\\mu})\\right) \\\\\n        &= \\int d^4x \\left(\\frac{\\partial\\mathcal{L}}{\\partial\\phi}\\bar{\\delta}\\phi +\n        \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\bar{\\delta}\\partial_{\\mu}\\phi + \\partial_{\\mu}(\\mathcal{L}\\delta x^{\\mu})\\right) \\\\\n        &= \\int d^4x \\left[\\left(\\frac{\\partial\\mathcal{L}}{\\partial\\phi} -\n        \\partial_{\\mu}\\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\right)\\bar{\\delta}\\phi +\n        \\partial_{\\mu}\\left(\\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\bar{\\delta}\\phi+\\mathcal{L}\\delta x^{\\mu}\\right) \\right]\n\\end{aligned}\n$$\n\n## 拉格朗日方程\n假设坐标不变，只考虑场量的变分，则有\n$$\n\\begin{aligned}\n& \\bar{\\delta}\\phi = \\delta\\phi \\\\\n& \\delta x^{\\mu} = 0\n\\end{aligned}\n$$\n\n由表面项在4维时空边界上为零及变分 $\\bar{\\delta}\\phi$ 任意，作用量的变分取极值的条件给出拉格朗日方程\n$$\n\\partial_{\\mu}\\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi} -\n\\frac{\\partial\\mathcal{L}}{\\partial\\phi} = 0\n$$\n\n## 诺特定理\n若场 $\\phi(x)$\n满足拉格朗日方程，则作用量的变分为某个表面项的4维积分。若场在变换（包括坐标变换和自身变换）前后均满足拉格朗日方程，且保持作用量不变。则\n由\n$$\n\\delta S = \\frac{1}{c} \\int d^4x \\partial_{\\mu}j^{\\mu} = 0\n$$\n以及\n$$\nj^{\\mu} = \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\bar{\\delta}\\phi\n+ \\mathcal{L}\\delta x^{\\mu}\n$$\n得到一个对应该变换的守恒流 $j^{\\mu}$。将 $j^{\\mu}$ 改写为\n$$\nj^{\\mu} = \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\delta\\phi -\n\\left(\\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\partial_{\\nu} -\n\\mathcal{L}g^{\\mu}_{\\nu}\\right)\\delta x^{\\nu}\n$$\n\n$\\delta\\phi$ 和 $\\delta x^{\\mu}$ 现在是保持拉格朗日方程不变的变换。\n","slug":"euler-lagrange-equation","published":1,"updated":"2019-04-21T01:58:28.752Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq7m000lh51jzndbfi8d","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h1 id=\"作用量\"><a class=\"markdownIt-Anchor\" href=\"#作用量\"></a> 作用量</h1><p>作用量 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05764em\">S</span></span></span></span> 是拉氏密度<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"script\">L</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{L}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span> 在四维时空中的积分，</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mo>=</mo><mfrac><mn>1</mn><mi>c</mi></mfrac><mo>∫</mo><msup><mi>d</mi><mn>4</mn></msup><mi>x</mi><mi mathvariant=\"script\">L</mi><mo>(</mo><mi>ϕ</mi><mo separator=\"true\">,</mo><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">S = \\frac{1}{c}\\int d^4x \\mathcal{L}(\\phi,\\partial_\\mu\\phi)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05764em\">S</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.22225em;vertical-align:-.86225em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.32144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">c</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mop op-symbol large-op\" style=\"margin-right:.44445em;position:relative;top:-.0011249999999999316em\">∫</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8641079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">ϕ</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mclose\">)</span></span></span></span></span></p><h1 id=\"场的变分\"><a class=\"markdownIt-Anchor\" href=\"#场的变分\"></a> 场的变分</h1><p>对场的变分的贡献共来自两个方面，1、坐标无穷小变换；2、场自身的无穷小变换。下面分别讨论这两种情况。</p><p>1、坐标无穷小变换</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>x</mi><mi>μ</mi></msup><mo>→</mo><msup><mi>x</mi><mrow><mo mathvariant=\"normal\">′</mo><mi>μ</mi></mrow></msup><mo>=</mo><msup><mi>x</mi><mi>μ</mi></msup><mo>+</mo><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup></mrow><annotation encoding=\"application/x-tex\">x^{\\mu}\\rightarrow x&#x27;^{\\mu}= x^{\\mu} + \\delta x^{\\mu}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.714392em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.801892em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.801892em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.797722em;vertical-align:-.08333em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.714392em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>通常谈论的场的变分是指坐标不变时的变分 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\bar{\\delta}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.8312199999999998em;vertical-align:0\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span></span></span></span>，</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo><mo>=</mo><msup><mi>ϕ</mi><mo mathvariant=\"normal\">′</mo></msup><mo>(</mo><mi>x</mi><mo>)</mo><mo>−</mo><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">\\bar{\\delta}\\phi(x) = \\phi&#x27;(x) - \\phi(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0812199999999998em;vertical-align:-.25em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.051892em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">ϕ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.801892em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span></span></span></p><p>根据标量场 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">\\phi(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span></span> 在坐标变换下的性质 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>ϕ</mi><mo mathvariant=\"normal\">′</mo></msup><mo>(</mo><msup><mi>x</mi><mo mathvariant=\"normal\">′</mo></msup><mo>)</mo><mo>=</mo><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">\\phi&#x27;(x&#x27;)=\\phi(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.001892em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">ϕ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.751892em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.751892em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span></span>，容易得到</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>=</mo><mo>−</mo><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow><annotation encoding=\"application/x-tex\">\\bar{\\delta}\\phi = -\\delta x^{\\mu}\\partial_{\\mu}\\phi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0256599999999998em;vertical-align:-.19444em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0005em;vertical-align:-.286108em\"></span><span class=\"mord\">−</span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span></span></span></p><p>2、场自身的无穷小变换<br>在没有坐标变换的情况下，场 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϕ</mi></mrow><annotation encoding=\"application/x-tex\">\\phi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\">ϕ</span></span></span></span> 产生了一个无穷小变换。此时坐标不变时的变分为</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>=</mo><msup><mi>ϕ</mi><mo mathvariant=\"normal\">′</mo></msup><mo>(</mo><mi>x</mi><mo>)</mo><mo>−</mo><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo><mo>=</mo><mi>δ</mi><mi>ϕ</mi></mrow><annotation encoding=\"application/x-tex\">\\bar{\\delta}\\phi = \\phi&#x27;(x) - \\phi(x) = \\delta\\phi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0256599999999998em;vertical-align:-.19444em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.051892em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">ϕ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.801892em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">ϕ</span></span></span></span></span></p><p>注意到这里用 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>δ</mi></mrow><annotation encoding=\"application/x-tex\">\\delta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span></span> 表示场自身的变分。通常情况下遇到的变分就是这种情况。</p><p>3、一般情况<br>如果同时考虑到<strong>坐标变换</strong>以及<strong>场自身的变分</strong>，则标量场 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">\\phi(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span></span> 满足的性质需修改为</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>ϕ</mi><mo mathvariant=\"normal\">′</mo></msup><mo>(</mo><msup><mi>x</mi><mo mathvariant=\"normal\">′</mo></msup><mo>)</mo><mo>=</mo><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo><mo>+</mo><mi>δ</mi><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">\\phi&#x27;(x&#x27;) = \\phi(x) + \\delta\\phi(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.051892em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">ϕ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.801892em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.801892em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span></span></span></p><p>故坐标不变时的变分为</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><msup><mi>ϕ</mi><mo mathvariant=\"normal\">′</mo></msup><mo>(</mo><mi>x</mi><mo>)</mo><mo>−</mo><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>−</mo><mi>δ</mi><mi>x</mi><mo>)</mo><mo>+</mo><mi>δ</mi><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>−</mo><mi>δ</mi><mi>x</mi><mo>)</mo><mo>−</mo><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>≈</mo><mi>δ</mi><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo><mo>−</mo><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned} \\bar{\\delta}\\phi(x) &amp;= \\phi&#x27;(x) - \\phi(x) \\\\ &amp;= \\phi(x-\\delta{x}) + \\delta\\phi(x-\\delta{x}) - \\phi(x) \\\\ &amp;\\approx \\delta\\phi(x) - \\delta{x^\\mu}\\partial_{\\mu}\\phi(x) \\\\ \\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:4.500000000000002em;vertical-align:-2.000000000000001em\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.5000000000000004em\"><span style=\"top:-4.66em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span><span style=\"top:-3.16em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"></span></span><span style=\"top:-1.6599999999999993em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.000000000000001em\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.5000000000000004em\"><span style=\"top:-4.66em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">ϕ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.801892em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span><span style=\"top:-3.16em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span><span style=\"top:-1.6599999999999993em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">≈</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.000000000000001em\"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>根据上述讨论可知，场自身的变分一般情况下并非坐标不变时的变分 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo>(</mo><mi>δ</mi><mi mathvariant=\"normal\">≠</mi><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">(\\delta \\ne \\bar{\\delta})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\"><span class=\"mrel\"><span class=\"mord\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.69444em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"rlap\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"inner\"><span class=\"mrel\"></span></span><span class=\"fix\"></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.19444em\"><span></span></span></span></span></span></span><span class=\"mrel\">=</span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0812199999999998em;vertical-align:-.25em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>，只有当不存在坐标变换的情况下两者才相等 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo>(</mo><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mo>=</mo><mi>δ</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">(\\bar{\\delta} = \\delta)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0812199999999998em;vertical-align:-.25em\"></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mclose\">)</span></span></span></span>。</p><h2 id=\"拉氏密度的变分\"><a class=\"markdownIt-Anchor\" href=\"#拉氏密度的变分\"></a> 拉氏密度的变分</h2><p>一般情况下，作为标量场的拉氏密度的坐标不变时的变分为</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi mathvariant=\"script\">L</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><msup><mi mathvariant=\"script\">L</mi><mo mathvariant=\"normal\">′</mo></msup><mo>(</mo><mi>x</mi><mo>)</mo><mo>−</mo><mi mathvariant=\"script\">L</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mi mathvariant=\"script\">L</mi><mo>(</mo><mi>x</mi><mo>−</mo><mi>δ</mi><mi>x</mi><mo>)</mo><mo>−</mo><mi>δ</mi><mi mathvariant=\"script\">L</mi><mo>(</mo><mi>x</mi><mo>−</mo><mi>δ</mi><mi>x</mi><mo>)</mo><mo>−</mo><mi mathvariant=\"script\">L</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mi>δ</mi><mi mathvariant=\"script\">L</mi><mo>(</mo><mi>x</mi><mo>)</mo><mo>−</mo><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi mathvariant=\"script\">L</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><mi>ϕ</mi></mrow></mfrac><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>+</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mfrac><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned} \\bar{\\delta}\\mathcal{L}(x) &amp;= \\mathcal{L}&#x27;(x) - \\mathcal{L}(x) \\\\ &amp;= \\mathcal{L}(x-\\delta x) - \\delta\\mathcal{L}(x-\\delta x) - \\mathcal{L}(x) \\\\ &amp;= \\delta\\mathcal{L}(x) - \\delta{x^\\mu}\\partial_{\\mu}\\mathcal{L} \\\\ &amp;= \\frac{\\partial\\mathcal{L}}{\\partial\\phi}\\bar{\\delta}\\phi + \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\bar{\\delta}\\partial_{\\mu}\\phi \\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:7.143548000000002em;vertical-align:-3.3217740000000013em\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.8217740000000004em\"><span style=\"top:-6.353214em\"><span class=\"pstrut\" style=\"height:3.3714399999999998em\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span><span style=\"top:-4.8532139999999995em\"><span class=\"pstrut\" style=\"height:3.3714399999999998em\"></span><span class=\"mord\"></span></span><span style=\"top:-3.3532139999999986em\"><span class=\"pstrut\" style=\"height:3.3714399999999998em\"></span><span class=\"mord\"></span></span><span style=\"top:-1.3217739999999985em\"><span class=\"pstrut\" style=\"height:3.3714399999999998em\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.3217740000000013em\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.8217740000000004em\"><span style=\"top:-6.353214em\"><span class=\"pstrut\" style=\"height:3.3714399999999998em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.801892em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span><span style=\"top:-4.8532139999999995em\"><span class=\"pstrut\" style=\"height:3.3714399999999998em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span><span style=\"top:-3.3532139999999986em\"><span class=\"pstrut\" style=\"height:3.3714399999999998em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span><span style=\"top:-1.3217739999999985em\"><span class=\"pstrut\" style=\"height:3.3714399999999998em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8804400000000001em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.972108em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.3217740000000013em\"><span></span></span></span></span></span></span></span></span></span></span></span></p><h2 id=\"作用量的变分\"><a class=\"markdownIt-Anchor\" href=\"#作用量的变分\"></a> 作用量的变分</h2><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>δ</mi><mi>S</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mo>∫</mo><mi>δ</mi><mo>(</mo><msup><mi>d</mi><mn>4</mn></msup><mi>x</mi><mo>)</mo><mi mathvariant=\"script\">L</mi><mo>+</mo><mo>∫</mo><msup><mi>d</mi><mn>4</mn></msup><mi>x</mi><mtext></mtext><mi>δ</mi><mi mathvariant=\"script\">L</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mo>∫</mo><msup><mi>d</mi><mn>4</mn></msup><mi>x</mi><mrow><mo fence=\"true\">(</mo><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi mathvariant=\"script\">L</mi><mo>+</mo><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi mathvariant=\"script\">L</mi><mo>+</mo><mi mathvariant=\"script\">L</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><mo fence=\"true\">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mo>∫</mo><msup><mi>d</mi><mn>4</mn></msup><mi>x</mi><mrow><mo fence=\"true\">(</mo><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi mathvariant=\"script\">L</mi><mo>+</mo><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mo>(</mo><mi mathvariant=\"script\">L</mi><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><mo>)</mo><mo fence=\"true\">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mo>∫</mo><msup><mi>d</mi><mn>4</mn></msup><mi>x</mi><mrow><mo fence=\"true\">(</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><mi>ϕ</mi></mrow></mfrac><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>+</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mfrac><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi><mo>+</mo><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mo>(</mo><mi mathvariant=\"script\">L</mi><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><mo>)</mo><mo fence=\"true\">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mo>∫</mo><msup><mi>d</mi><mn>4</mn></msup><mi>x</mi><mrow><mo fence=\"true\">[</mo><mrow><mo fence=\"true\">(</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><mi>ϕ</mi></mrow></mfrac><mo>−</mo><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mfrac><mo fence=\"true\">)</mo></mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>+</mo><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mrow><mo fence=\"true\">(</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mfrac><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>+</mo><mi mathvariant=\"script\">L</mi><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">]</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned} \\delta S &amp;= \\int \\delta(d^4 x)\\mathcal{L} + \\int d^4 x\\, \\delta{\\mathcal{L}} \\\\ &amp;= \\int d^4x \\left(\\bar{\\delta}\\mathcal{L}+\\delta x^{\\mu}\\partial_{\\mu}{\\mathcal{L}} + \\mathcal{L}\\partial_{\\mu}\\delta{x^\\mu}\\right) \\\\ &amp;= \\int d^4x \\left(\\bar{\\delta}\\mathcal{L} + \\partial_{\\mu}(\\mathcal{L}\\delta x^{\\mu})\\right) \\\\ &amp;= \\int d^4x \\left(\\frac{\\partial\\mathcal{L}}{\\partial\\phi}\\bar{\\delta}\\phi + \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\bar{\\delta}\\partial_{\\mu}\\phi + \\partial_{\\mu}(\\mathcal{L}\\delta x^{\\mu})\\right) \\\\ &amp;= \\int d^4x \\left[\\left(\\frac{\\partial\\mathcal{L}}{\\partial\\phi} - \\partial_{\\mu}\\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\right)\\bar{\\delta}\\phi + \\partial_{\\mu}\\left(\\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\bar{\\delta}\\phi+\\mathcal{L}\\delta x^{\\mu}\\right) \\right] \\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:13.010966em;vertical-align:-6.255483000000002em\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:6.755482999999998em\"><span style=\"top:-8.845482999999998em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\" style=\"margin-right:.05764em\">S</span></span></span><span style=\"top:-6.323232999999999em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"></span></span><span style=\"top:-3.800982999999998em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"></span></span><span style=\"top:-1.1887329999999976em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"></span></span><span style=\"top:1.5333750000000015em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:6.255483000000002em\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:6.755482999999998em\"><span style=\"top:-8.845482999999998em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mop op-symbol large-op\" style=\"margin-right:.44445em;position:relative;top:-.0011249999999999316em\">∫</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8641079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mop op-symbol large-op\" style=\"margin-right:.44445em;position:relative;top:-.0011249999999999316em\">∫</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8641079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span style=\"top:-6.323232999999999em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mop op-symbol large-op\" style=\"margin-right:.44445em;position:relative;top:-.0011249999999999316em\">∫</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8641079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0\"><span class=\"delimsizing size1\">)</span></span></span></span></span><span style=\"top:-3.800982999999998em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mop op-symbol large-op\" style=\"margin-right:.44445em;position:relative;top:-.0011249999999999316em\">∫</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8641079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mclose delimcenter\" style=\"top:0\"><span class=\"delimsizing size1\">)</span></span></span></span></span><span style=\"top:-1.1887329999999976em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mop op-symbol large-op\" style=\"margin-right:.44445em;position:relative;top:-.0011249999999999316em\">∫</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8641079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8804400000000001em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.972108em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mclose delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">)</span></span></span></span></span><span style=\"top:1.5333750000000015em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mop op-symbol large-op\" style=\"margin-right:.44445em;position:relative;top:-.0011249999999999316em\">∫</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8641079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">[</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8804400000000001em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.972108em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">)</span></span></span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.972108em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">)</span></span></span><span class=\"mclose delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">]</span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:6.255483000000002em\"><span></span></span></span></span></span></span></span></span></span></span></span></p><h2 id=\"拉格朗日方程\"><a class=\"markdownIt-Anchor\" href=\"#拉格朗日方程\"></a> 拉格朗日方程</h2><p>假设坐标不变，只考虑场量的变分，则有</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>=</mo><mi>δ</mi><mi>ϕ</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned} &amp; \\bar{\\delta}\\phi = \\delta\\phi \\\\ &amp; \\delta x^{\\mu} = 0 \\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.0000000000000004em;vertical-align:-1.2500000000000002em\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.7500000000000002em\"><span style=\"top:-3.75em\"><span class=\"pstrut\" style=\"height:2.84em\"></span><span class=\"mord\"></span></span><span style=\"top:-2.25em\"><span class=\"pstrut\" style=\"height:2.84em\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2500000000000002em\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.7500000000000002em\"><span style=\"top:-3.91em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-2.41em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2500000000000002em\"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>由表面项在4维时空边界上为零及变分 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi></mrow><annotation encoding=\"application/x-tex\">\\bar{\\delta}\\phi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0256599999999998em;vertical-align:-.19444em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span></span> 任意，作用量的变分取极值的条件给出拉格朗日方程</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mfrac><mo>−</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><mi>ϕ</mi></mrow></mfrac><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\partial_{\\mu}\\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi} - \\frac{\\partial\\mathcal{L}}{\\partial\\phi} = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:2.343548em;vertical-align:-.972108em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.972108em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.25188em;vertical-align:-.8804400000000001em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8804400000000001em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">0</span></span></span></span></span></p><h2 id=\"诺特定理\"><a class=\"markdownIt-Anchor\" href=\"#诺特定理\"></a> 诺特定理</h2><p>若场 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">\\phi(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span></span><br>满足拉格朗日方程，则作用量的变分为某个表面项的4维积分。若场在变换（包括坐标变换和自身变换）前后均满足拉格朗日方程，且保持作用量不变。则<br>由</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>δ</mi><mi>S</mi><mo>=</mo><mfrac><mn>1</mn><mi>c</mi></mfrac><mo>∫</mo><msup><mi>d</mi><mn>4</mn></msup><mi>x</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><msup><mi>j</mi><mi>μ</mi></msup><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\delta S = \\frac{1}{c} \\int d^4x \\partial_{\\mu}j^{\\mu} = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\" style=\"margin-right:.05764em\">S</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.22225em;vertical-align:-.86225em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.32144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">c</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mop op-symbol large-op\" style=\"margin-right:.44445em;position:relative;top:-.0011249999999999316em\">∫</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8641079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05724em\">j</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">0</span></span></span></span></span></p><p>以及</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>j</mi><mi>μ</mi></msup><mo>=</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mfrac><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>+</mo><mi mathvariant=\"script\">L</mi><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup></mrow><annotation encoding=\"application/x-tex\">j^{\\mu} = \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\bar{\\delta}\\phi + \\mathcal{L}\\delta x^{\\mu}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.9088320000000001em;vertical-align:-.19444em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05724em\">j</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.343548em;vertical-align:-.972108em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.972108em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.714392em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>得到一个对应该变换的守恒流 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>j</mi><mi>μ</mi></msup></mrow><annotation encoding=\"application/x-tex\">j^{\\mu}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.858832em;vertical-align:-.19444em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05724em\">j</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.664392em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span></span></span></span>。将 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>j</mi><mi>μ</mi></msup></mrow><annotation encoding=\"application/x-tex\">j^{\\mu}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.858832em;vertical-align:-.19444em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05724em\">j</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.664392em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span></span></span></span> 改写为</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>j</mi><mi>μ</mi></msup><mo>=</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mfrac><mi>δ</mi><mi>ϕ</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mfrac><msub><mi mathvariant=\"normal\">∂</mi><mi>ν</mi></msub><mo>−</mo><mi mathvariant=\"script\">L</mi><msubsup><mi>g</mi><mi>ν</mi><mi>μ</mi></msubsup><mo fence=\"true\">)</mo></mrow><mi>δ</mi><msup><mi>x</mi><mi>ν</mi></msup></mrow><annotation encoding=\"application/x-tex\">j^{\\mu} = \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\delta\\phi - \\left(\\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\partial_{\\nu} - \\mathcal{L}g^{\\mu}_{\\nu}\\right)\\delta x^{\\nu}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.9088320000000001em;vertical-align:-.19444em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05724em\">j</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.343548em;vertical-align:-.972108em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.972108em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.4221079999999997em;vertical-align:-.972108em\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.972108em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.151392em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.06366em\">ν</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.7143919999999999em\"><span style=\"top:-2.4530000000000003em;margin-left:-.03588em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.06366em\">ν</span></span></span></span><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.247em\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">)</span></span></span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.7143919999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.06366em\">ν</span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>δ</mi><mi>ϕ</mi></mrow><annotation encoding=\"application/x-tex\">\\delta\\phi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">ϕ</span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup></mrow><annotation encoding=\"application/x-tex\">\\delta x^{\\mu}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.664392em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span></span></span></span> 现在是保持拉格朗日方程不变的变换。</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h1 id=\"作用量\"><a class=\"markdownIt-Anchor\" href=\"#作用量\"></a> 作用量</h1><p>作用量 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05764em\">S</span></span></span></span> 是拉氏密度<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"script\">L</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{L}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span> 在四维时空中的积分，</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mo>=</mo><mfrac><mn>1</mn><mi>c</mi></mfrac><mo>∫</mo><msup><mi>d</mi><mn>4</mn></msup><mi>x</mi><mi mathvariant=\"script\">L</mi><mo>(</mo><mi>ϕ</mi><mo separator=\"true\">,</mo><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">S = \\frac{1}{c}\\int d^4x \\mathcal{L}(\\phi,\\partial_\\mu\\phi)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05764em\">S</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.22225em;vertical-align:-.86225em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.32144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">c</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mop op-symbol large-op\" style=\"margin-right:.44445em;position:relative;top:-.0011249999999999316em\">∫</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8641079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">ϕ</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mclose\">)</span></span></span></span></span></p><h1 id=\"场的变分\"><a class=\"markdownIt-Anchor\" href=\"#场的变分\"></a> 场的变分</h1><p>对场的变分的贡献共来自两个方面，1、坐标无穷小变换；2、场自身的无穷小变换。下面分别讨论这两种情况。</p><p>1、坐标无穷小变换</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>x</mi><mi>μ</mi></msup><mo>→</mo><msup><mi>x</mi><mrow><mo mathvariant=\"normal\">′</mo><mi>μ</mi></mrow></msup><mo>=</mo><msup><mi>x</mi><mi>μ</mi></msup><mo>+</mo><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup></mrow><annotation encoding=\"application/x-tex\">x^{\\mu}\\rightarrow x&#x27;^{\\mu}= x^{\\mu} + \\delta x^{\\mu}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.714392em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.801892em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.801892em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.797722em;vertical-align:-.08333em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.714392em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>通常谈论的场的变分是指坐标不变时的变分 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\bar{\\delta}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.8312199999999998em;vertical-align:0\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span></span></span></span>，</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo><mo>=</mo><msup><mi>ϕ</mi><mo mathvariant=\"normal\">′</mo></msup><mo>(</mo><mi>x</mi><mo>)</mo><mo>−</mo><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">\\bar{\\delta}\\phi(x) = \\phi&#x27;(x) - \\phi(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0812199999999998em;vertical-align:-.25em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.051892em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">ϕ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.801892em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span></span></span></p><p>根据标量场 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">\\phi(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span></span> 在坐标变换下的性质 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>ϕ</mi><mo mathvariant=\"normal\">′</mo></msup><mo>(</mo><msup><mi>x</mi><mo mathvariant=\"normal\">′</mo></msup><mo>)</mo><mo>=</mo><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">\\phi&#x27;(x&#x27;)=\\phi(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.001892em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">ϕ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.751892em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.751892em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span></span>，容易得到</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>=</mo><mo>−</mo><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow><annotation encoding=\"application/x-tex\">\\bar{\\delta}\\phi = -\\delta x^{\\mu}\\partial_{\\mu}\\phi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0256599999999998em;vertical-align:-.19444em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0005em;vertical-align:-.286108em\"></span><span class=\"mord\">−</span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span></span></span></p><p>2、场自身的无穷小变换<br>在没有坐标变换的情况下，场 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϕ</mi></mrow><annotation encoding=\"application/x-tex\">\\phi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\">ϕ</span></span></span></span> 产生了一个无穷小变换。此时坐标不变时的变分为</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>=</mo><msup><mi>ϕ</mi><mo mathvariant=\"normal\">′</mo></msup><mo>(</mo><mi>x</mi><mo>)</mo><mo>−</mo><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo><mo>=</mo><mi>δ</mi><mi>ϕ</mi></mrow><annotation encoding=\"application/x-tex\">\\bar{\\delta}\\phi = \\phi&#x27;(x) - \\phi(x) = \\delta\\phi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0256599999999998em;vertical-align:-.19444em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.051892em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">ϕ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.801892em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">ϕ</span></span></span></span></span></p><p>注意到这里用 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>δ</mi></mrow><annotation encoding=\"application/x-tex\">\\delta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span></span> 表示场自身的变分。通常情况下遇到的变分就是这种情况。</p><p>3、一般情况<br>如果同时考虑到<strong>坐标变换</strong>以及<strong>场自身的变分</strong>，则标量场 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">\\phi(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span></span> 满足的性质需修改为</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>ϕ</mi><mo mathvariant=\"normal\">′</mo></msup><mo>(</mo><msup><mi>x</mi><mo mathvariant=\"normal\">′</mo></msup><mo>)</mo><mo>=</mo><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo><mo>+</mo><mi>δ</mi><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">\\phi&#x27;(x&#x27;) = \\phi(x) + \\delta\\phi(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.051892em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">ϕ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.801892em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.801892em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span></span></span></p><p>故坐标不变时的变分为</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><msup><mi>ϕ</mi><mo mathvariant=\"normal\">′</mo></msup><mo>(</mo><mi>x</mi><mo>)</mo><mo>−</mo><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>−</mo><mi>δ</mi><mi>x</mi><mo>)</mo><mo>+</mo><mi>δ</mi><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>−</mo><mi>δ</mi><mi>x</mi><mo>)</mo><mo>−</mo><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>≈</mo><mi>δ</mi><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo><mo>−</mo><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned} \\bar{\\delta}\\phi(x) &amp;= \\phi&#x27;(x) - \\phi(x) \\\\ &amp;= \\phi(x-\\delta{x}) + \\delta\\phi(x-\\delta{x}) - \\phi(x) \\\\ &amp;\\approx \\delta\\phi(x) - \\delta{x^\\mu}\\partial_{\\mu}\\phi(x) \\\\ \\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:4.500000000000002em;vertical-align:-2.000000000000001em\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.5000000000000004em\"><span style=\"top:-4.66em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span><span style=\"top:-3.16em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"></span></span><span style=\"top:-1.6599999999999993em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.000000000000001em\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.5000000000000004em\"><span style=\"top:-4.66em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">ϕ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.801892em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span><span style=\"top:-3.16em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span><span style=\"top:-1.6599999999999993em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">≈</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.000000000000001em\"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>根据上述讨论可知，场自身的变分一般情况下并非坐标不变时的变分 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo>(</mo><mi>δ</mi><mi mathvariant=\"normal\">≠</mi><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">(\\delta \\ne \\bar{\\delta})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\"><span class=\"mrel\"><span class=\"mord\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.69444em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"rlap\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"inner\"><span class=\"mrel\"></span></span><span class=\"fix\"></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.19444em\"><span></span></span></span></span></span></span><span class=\"mrel\">=</span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0812199999999998em;vertical-align:-.25em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>，只有当不存在坐标变换的情况下两者才相等 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo>(</mo><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mo>=</mo><mi>δ</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">(\\bar{\\delta} = \\delta)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0812199999999998em;vertical-align:-.25em\"></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mclose\">)</span></span></span></span>。</p><h2 id=\"拉氏密度的变分\"><a class=\"markdownIt-Anchor\" href=\"#拉氏密度的变分\"></a> 拉氏密度的变分</h2><p>一般情况下，作为标量场的拉氏密度的坐标不变时的变分为</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi mathvariant=\"script\">L</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><msup><mi mathvariant=\"script\">L</mi><mo mathvariant=\"normal\">′</mo></msup><mo>(</mo><mi>x</mi><mo>)</mo><mo>−</mo><mi mathvariant=\"script\">L</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mi mathvariant=\"script\">L</mi><mo>(</mo><mi>x</mi><mo>−</mo><mi>δ</mi><mi>x</mi><mo>)</mo><mo>−</mo><mi>δ</mi><mi mathvariant=\"script\">L</mi><mo>(</mo><mi>x</mi><mo>−</mo><mi>δ</mi><mi>x</mi><mo>)</mo><mo>−</mo><mi mathvariant=\"script\">L</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mi>δ</mi><mi mathvariant=\"script\">L</mi><mo>(</mo><mi>x</mi><mo>)</mo><mo>−</mo><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi mathvariant=\"script\">L</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><mi>ϕ</mi></mrow></mfrac><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>+</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mfrac><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned} \\bar{\\delta}\\mathcal{L}(x) &amp;= \\mathcal{L}&#x27;(x) - \\mathcal{L}(x) \\\\ &amp;= \\mathcal{L}(x-\\delta x) - \\delta\\mathcal{L}(x-\\delta x) - \\mathcal{L}(x) \\\\ &amp;= \\delta\\mathcal{L}(x) - \\delta{x^\\mu}\\partial_{\\mu}\\mathcal{L} \\\\ &amp;= \\frac{\\partial\\mathcal{L}}{\\partial\\phi}\\bar{\\delta}\\phi + \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\bar{\\delta}\\partial_{\\mu}\\phi \\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:7.143548000000002em;vertical-align:-3.3217740000000013em\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.8217740000000004em\"><span style=\"top:-6.353214em\"><span class=\"pstrut\" style=\"height:3.3714399999999998em\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span><span style=\"top:-4.8532139999999995em\"><span class=\"pstrut\" style=\"height:3.3714399999999998em\"></span><span class=\"mord\"></span></span><span style=\"top:-3.3532139999999986em\"><span class=\"pstrut\" style=\"height:3.3714399999999998em\"></span><span class=\"mord\"></span></span><span style=\"top:-1.3217739999999985em\"><span class=\"pstrut\" style=\"height:3.3714399999999998em\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.3217740000000013em\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.8217740000000004em\"><span style=\"top:-6.353214em\"><span class=\"pstrut\" style=\"height:3.3714399999999998em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.801892em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span><span style=\"top:-4.8532139999999995em\"><span class=\"pstrut\" style=\"height:3.3714399999999998em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span><span style=\"top:-3.3532139999999986em\"><span class=\"pstrut\" style=\"height:3.3714399999999998em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span><span style=\"top:-1.3217739999999985em\"><span class=\"pstrut\" style=\"height:3.3714399999999998em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8804400000000001em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.972108em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.3217740000000013em\"><span></span></span></span></span></span></span></span></span></span></span></span></p><h2 id=\"作用量的变分\"><a class=\"markdownIt-Anchor\" href=\"#作用量的变分\"></a> 作用量的变分</h2><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>δ</mi><mi>S</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mo>∫</mo><mi>δ</mi><mo>(</mo><msup><mi>d</mi><mn>4</mn></msup><mi>x</mi><mo>)</mo><mi mathvariant=\"script\">L</mi><mo>+</mo><mo>∫</mo><msup><mi>d</mi><mn>4</mn></msup><mi>x</mi><mtext></mtext><mi>δ</mi><mi mathvariant=\"script\">L</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mo>∫</mo><msup><mi>d</mi><mn>4</mn></msup><mi>x</mi><mrow><mo fence=\"true\">(</mo><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi mathvariant=\"script\">L</mi><mo>+</mo><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi mathvariant=\"script\">L</mi><mo>+</mo><mi mathvariant=\"script\">L</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><mo fence=\"true\">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mo>∫</mo><msup><mi>d</mi><mn>4</mn></msup><mi>x</mi><mrow><mo fence=\"true\">(</mo><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi mathvariant=\"script\">L</mi><mo>+</mo><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mo>(</mo><mi mathvariant=\"script\">L</mi><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><mo>)</mo><mo fence=\"true\">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mo>∫</mo><msup><mi>d</mi><mn>4</mn></msup><mi>x</mi><mrow><mo fence=\"true\">(</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><mi>ϕ</mi></mrow></mfrac><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>+</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mfrac><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi><mo>+</mo><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mo>(</mo><mi mathvariant=\"script\">L</mi><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><mo>)</mo><mo fence=\"true\">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mo>∫</mo><msup><mi>d</mi><mn>4</mn></msup><mi>x</mi><mrow><mo fence=\"true\">[</mo><mrow><mo fence=\"true\">(</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><mi>ϕ</mi></mrow></mfrac><mo>−</mo><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mfrac><mo fence=\"true\">)</mo></mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>+</mo><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mrow><mo fence=\"true\">(</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mfrac><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>+</mo><mi mathvariant=\"script\">L</mi><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">]</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned} \\delta S &amp;= \\int \\delta(d^4 x)\\mathcal{L} + \\int d^4 x\\, \\delta{\\mathcal{L}} \\\\ &amp;= \\int d^4x \\left(\\bar{\\delta}\\mathcal{L}+\\delta x^{\\mu}\\partial_{\\mu}{\\mathcal{L}} + \\mathcal{L}\\partial_{\\mu}\\delta{x^\\mu}\\right) \\\\ &amp;= \\int d^4x \\left(\\bar{\\delta}\\mathcal{L} + \\partial_{\\mu}(\\mathcal{L}\\delta x^{\\mu})\\right) \\\\ &amp;= \\int d^4x \\left(\\frac{\\partial\\mathcal{L}}{\\partial\\phi}\\bar{\\delta}\\phi + \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\bar{\\delta}\\partial_{\\mu}\\phi + \\partial_{\\mu}(\\mathcal{L}\\delta x^{\\mu})\\right) \\\\ &amp;= \\int d^4x \\left[\\left(\\frac{\\partial\\mathcal{L}}{\\partial\\phi} - \\partial_{\\mu}\\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\right)\\bar{\\delta}\\phi + \\partial_{\\mu}\\left(\\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\bar{\\delta}\\phi+\\mathcal{L}\\delta x^{\\mu}\\right) \\right] \\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:13.010966em;vertical-align:-6.255483000000002em\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:6.755482999999998em\"><span style=\"top:-8.845482999999998em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\" style=\"margin-right:.05764em\">S</span></span></span><span style=\"top:-6.323232999999999em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"></span></span><span style=\"top:-3.800982999999998em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"></span></span><span style=\"top:-1.1887329999999976em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"></span></span><span style=\"top:1.5333750000000015em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:6.255483000000002em\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:6.755482999999998em\"><span style=\"top:-8.845482999999998em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mop op-symbol large-op\" style=\"margin-right:.44445em;position:relative;top:-.0011249999999999316em\">∫</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8641079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mop op-symbol large-op\" style=\"margin-right:.44445em;position:relative;top:-.0011249999999999316em\">∫</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8641079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span style=\"top:-6.323232999999999em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mop op-symbol large-op\" style=\"margin-right:.44445em;position:relative;top:-.0011249999999999316em\">∫</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8641079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0\"><span class=\"delimsizing size1\">)</span></span></span></span></span><span style=\"top:-3.800982999999998em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mop op-symbol large-op\" style=\"margin-right:.44445em;position:relative;top:-.0011249999999999316em\">∫</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8641079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mclose delimcenter\" style=\"top:0\"><span class=\"delimsizing size1\">)</span></span></span></span></span><span style=\"top:-1.1887329999999976em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mop op-symbol large-op\" style=\"margin-right:.44445em;position:relative;top:-.0011249999999999316em\">∫</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8641079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8804400000000001em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.972108em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mclose delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">)</span></span></span></span></span><span style=\"top:1.5333750000000015em\"><span class=\"pstrut\" style=\"height:3.45em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mop op-symbol large-op\" style=\"margin-right:.44445em;position:relative;top:-.0011249999999999316em\">∫</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8641079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">[</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8804400000000001em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.972108em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">)</span></span></span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.972108em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">)</span></span></span><span class=\"mclose delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">]</span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:6.255483000000002em\"><span></span></span></span></span></span></span></span></span></span></span></span></p><h2 id=\"拉格朗日方程\"><a class=\"markdownIt-Anchor\" href=\"#拉格朗日方程\"></a> 拉格朗日方程</h2><p>假设坐标不变，只考虑场量的变分，则有</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>=</mo><mi>δ</mi><mi>ϕ</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned} &amp; \\bar{\\delta}\\phi = \\delta\\phi \\\\ &amp; \\delta x^{\\mu} = 0 \\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.0000000000000004em;vertical-align:-1.2500000000000002em\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.7500000000000002em\"><span style=\"top:-3.75em\"><span class=\"pstrut\" style=\"height:2.84em\"></span><span class=\"mord\"></span></span><span style=\"top:-2.25em\"><span class=\"pstrut\" style=\"height:2.84em\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2500000000000002em\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.7500000000000002em\"><span style=\"top:-3.91em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-2.41em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2500000000000002em\"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>由表面项在4维时空边界上为零及变分 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi></mrow><annotation encoding=\"application/x-tex\">\\bar{\\delta}\\phi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0256599999999998em;vertical-align:-.19444em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span></span> 任意，作用量的变分取极值的条件给出拉格朗日方程</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mfrac><mo>−</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><mi>ϕ</mi></mrow></mfrac><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\partial_{\\mu}\\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi} - \\frac{\\partial\\mathcal{L}}{\\partial\\phi} = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:2.343548em;vertical-align:-.972108em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.972108em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.25188em;vertical-align:-.8804400000000001em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8804400000000001em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">0</span></span></span></span></span></p><h2 id=\"诺特定理\"><a class=\"markdownIt-Anchor\" href=\"#诺特定理\"></a> 诺特定理</h2><p>若场 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϕ</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">\\phi(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">x</span><span class=\"mclose\">)</span></span></span></span><br>满足拉格朗日方程，则作用量的变分为某个表面项的4维积分。若场在变换（包括坐标变换和自身变换）前后均满足拉格朗日方程，且保持作用量不变。则<br>由</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>δ</mi><mi>S</mi><mo>=</mo><mfrac><mn>1</mn><mi>c</mi></mfrac><mo>∫</mo><msup><mi>d</mi><mn>4</mn></msup><mi>x</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><msup><mi>j</mi><mi>μ</mi></msup><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\delta S = \\frac{1}{c} \\int d^4x \\partial_{\\mu}j^{\\mu} = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\" style=\"margin-right:.05764em\">S</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.22225em;vertical-align:-.86225em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.32144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">c</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mop op-symbol large-op\" style=\"margin-right:.44445em;position:relative;top:-.0011249999999999316em\">∫</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8641079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05724em\">j</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">0</span></span></span></span></span></p><p>以及</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>j</mi><mi>μ</mi></msup><mo>=</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mfrac><mover accent=\"true\"><mi>δ</mi><mo>ˉ</mo></mover><mi>ϕ</mi><mo>+</mo><mi mathvariant=\"script\">L</mi><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup></mrow><annotation encoding=\"application/x-tex\">j^{\\mu} = \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\bar{\\delta}\\phi + \\mathcal{L}\\delta x^{\\mu}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.9088320000000001em;vertical-align:-.19444em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05724em\">j</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.343548em;vertical-align:-.972108em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.972108em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8312199999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.19444em\">ˉ</span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.714392em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>得到一个对应该变换的守恒流 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>j</mi><mi>μ</mi></msup></mrow><annotation encoding=\"application/x-tex\">j^{\\mu}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.858832em;vertical-align:-.19444em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05724em\">j</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.664392em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span></span></span></span>。将 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>j</mi><mi>μ</mi></msup></mrow><annotation encoding=\"application/x-tex\">j^{\\mu}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.858832em;vertical-align:-.19444em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05724em\">j</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.664392em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span></span></span></span> 改写为</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>j</mi><mi>μ</mi></msup><mo>=</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mfrac><mi>δ</mi><mi>ϕ</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi mathvariant=\"script\">L</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi mathvariant=\"normal\">∂</mi><mi>μ</mi></msub><mi>ϕ</mi></mrow></mfrac><msub><mi mathvariant=\"normal\">∂</mi><mi>ν</mi></msub><mo>−</mo><mi mathvariant=\"script\">L</mi><msubsup><mi>g</mi><mi>ν</mi><mi>μ</mi></msubsup><mo fence=\"true\">)</mo></mrow><mi>δ</mi><msup><mi>x</mi><mi>ν</mi></msup></mrow><annotation encoding=\"application/x-tex\">j^{\\mu} = \\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\delta\\phi - \\left(\\frac{\\partial\\mathcal{L}}{\\partial\\partial_{\\mu}\\phi}\\partial_{\\nu} - \\mathcal{L}g^{\\mu}_{\\nu}\\right)\\delta x^{\\nu}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.9088320000000001em;vertical-align:-.19444em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05724em\">j</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.714392em\"><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.343548em;vertical-align:-.972108em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.972108em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">ϕ</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.4221079999999997em;vertical-align:-.972108em\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15139200000000003em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϕ</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.972108em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:.05556em\">∂</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.151392em\"><span style=\"top:-2.5500000000000003em;margin-left:-.05556em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.06366em\">ν</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.7143919999999999em\"><span style=\"top:-2.4530000000000003em;margin-left:-.03588em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.06366em\">ν</span></span></span></span><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.247em\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0\"><span class=\"delimsizing size3\">)</span></span></span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.7143919999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.06366em\">ν</span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>δ</mi><mi>ϕ</mi></mrow><annotation encoding=\"application/x-tex\">\\delta\\phi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord mathdefault\">ϕ</span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>δ</mi><msup><mi>x</mi><mi>μ</mi></msup></mrow><annotation encoding=\"application/x-tex\">\\delta x^{\\mu}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.664392em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">μ</span></span></span></span></span></span></span></span></span></span></span></span> 现在是保持拉格朗日方程不变的变换。</p><!-- rebuild by neat -->"},{"title":"graphviz-introduction","mathjax":false,"toc":true,"abbrlink":1414645917,"date":"2019-02-16T08:46:44.000Z","_content":"\n这篇文章参考自[Drawing graphs with *dot*](http://www.graphviz.org/pdf/dotguide.pdf)\n\n$dot$ 通过$DOT$语言来作图。该语言描述了三大对象：图(graphs)，节点(nodes)，边(edges)。同时支持有向图和无向图，并支持图的嵌套($subgraph$)。\n默认采用有向图的布局方式，有另一个独立的布局工具，*neato*，用于无向图。\n\n$dot$ 编译的方式是按顺序一行一行地处理 *.dot 文件中内容。所以各种对象的属性的有效性从从属性设置语句所在行开始直到下一次属性设置语句所在行之前。\n\n完整的属性描述可以参考$Graphviz$官网的[该页面](http://www.graphviz.org/doc/info/attrs.html)。\n\n## 要素\n一幅图可以包含如下要素：\n\n1. 注释\n  - 双斜杠\n2. 有向图 or 无向图\n3. 节点之间的关系\n  - 有向图：`a->b`，节点 a 指向节点 b\n  - 无向图：`a--b`，节点 a 和节点 b连通\n4. 定义节点属性\n  - 形状，多边形`polygon`和`record`（不知道怎么翻译）\n  - 颜色\n  - 标签\n  - 等等\n5. 定义边的属性\n  - 形状\n  - 颜色\n  - 文本\n  - 等等\n6. 定义结构(`record`)\n  - 内部结构\n  - 方向，水平或竖直排列\n  - 标签\n\n\n## 样例\n\n```dot\ndigraph G{\n    a -> b -> c;\n    b -> d;\n    a [shape=polygon,sides=5,peripheries=3,color=lightblue,style=filled];\n    c [shape=polygon,sides=4,skew=.4,label=\"hello world\"]\n    d [shape=invtriangle];\n    e [shape=polygon,sides=4,distortion=.7];\n}\n```\n{% asset_img graph-with-polygonal-shapes.svg %}\n<!-- ![](graph-with-polygonal-shapes.svg) -->\n\n```dot\ndigraph structs{\nnode [shape=record];\n    struct1 [shape=record,label=\"<f0> left|<f1> mid\\ dle|<f2> right\"];\n    struct2 [shape=record,label=\"<f0> one|<f1> two\"];\n    struct3 [shape=record,label=\"hello\\nworld | { b |{c|<here> d|e}| f}|g|h \"];\n    struct1 -> struct2;\n    struct1 -> struct3;\n}\n```\n{% asset_img records-with-nested-fields.svg %}\n\n```dot\ndigraph G {\n    node[shape=record,height=.1];   //定义node样式\n\n    node0[label=\"<f0> |<f1> A|<f2> \"]; //具体的一个node，含三个属性，第二个属性有名字\n    node0[label=\"<f0> |<f1> B|<f2> \"];\n    node0[label=\"<f0> |<f1> C|<f2> \"];\n    node0[label=\"<f0> |<f1> D|<f2> \"];\n    node0[label=\"<f0> |<f1> E|<f2> \"];\n    node0[label=\"<f0> |<f1> F|<f2> \"];\n    node0[label=\"<f0> |<f1> H|<f2> \"];\n    node0[label=\"<f0> |<f1> I|<f2> \"];\n    node0[label=\"<f0> |<f1> J|<f2> \"];\n    node0[label=\"<f0> |<f1> K|<f2> \"];\n\n    \"node0\":f2 -> \"node1\": f1;  //node0的第三个属性指向node1的第二个属性\n    \"node1\":f0 -> \"node2\": f1;\n    \"node1\":f1 -> \"node3\": f2;\n    \"node3\":f0 -> \"node4\": f0;\n    \"node3\":f1 -> \"node5\": f1;\n    \"node3\":f2 -> \"node6\": f2;\n    \"node6\":f1 -> \"node7\": f1;\n    \"node7\":f1 -> \"node8\": f0;\n    \"node2\":f2 -> \"node9\": f1;\n}\n```\n{% asset_img record-structure.svg %}\n","source":"_posts/graphviz-introduction.md","raw":"---\ntitle: graphviz-introduction\nmathjax: false\ntoc: true\nabbrlink: 1414645917\ndate: 2019-02-16 16:46:44\ncategory:\n  - Graphviz\ntags:\n  - graphviz\n---\n\n这篇文章参考自[Drawing graphs with *dot*](http://www.graphviz.org/pdf/dotguide.pdf)\n\n$dot$ 通过$DOT$语言来作图。该语言描述了三大对象：图(graphs)，节点(nodes)，边(edges)。同时支持有向图和无向图，并支持图的嵌套($subgraph$)。\n默认采用有向图的布局方式，有另一个独立的布局工具，*neato*，用于无向图。\n\n$dot$ 编译的方式是按顺序一行一行地处理 *.dot 文件中内容。所以各种对象的属性的有效性从从属性设置语句所在行开始直到下一次属性设置语句所在行之前。\n\n完整的属性描述可以参考$Graphviz$官网的[该页面](http://www.graphviz.org/doc/info/attrs.html)。\n\n## 要素\n一幅图可以包含如下要素：\n\n1. 注释\n  - 双斜杠\n2. 有向图 or 无向图\n3. 节点之间的关系\n  - 有向图：`a->b`，节点 a 指向节点 b\n  - 无向图：`a--b`，节点 a 和节点 b连通\n4. 定义节点属性\n  - 形状，多边形`polygon`和`record`（不知道怎么翻译）\n  - 颜色\n  - 标签\n  - 等等\n5. 定义边的属性\n  - 形状\n  - 颜色\n  - 文本\n  - 等等\n6. 定义结构(`record`)\n  - 内部结构\n  - 方向，水平或竖直排列\n  - 标签\n\n\n## 样例\n\n```dot\ndigraph G{\n    a -> b -> c;\n    b -> d;\n    a [shape=polygon,sides=5,peripheries=3,color=lightblue,style=filled];\n    c [shape=polygon,sides=4,skew=.4,label=\"hello world\"]\n    d [shape=invtriangle];\n    e [shape=polygon,sides=4,distortion=.7];\n}\n```\n{% asset_img graph-with-polygonal-shapes.svg %}\n<!-- ![](graph-with-polygonal-shapes.svg) -->\n\n```dot\ndigraph structs{\nnode [shape=record];\n    struct1 [shape=record,label=\"<f0> left|<f1> mid\\ dle|<f2> right\"];\n    struct2 [shape=record,label=\"<f0> one|<f1> two\"];\n    struct3 [shape=record,label=\"hello\\nworld | { b |{c|<here> d|e}| f}|g|h \"];\n    struct1 -> struct2;\n    struct1 -> struct3;\n}\n```\n{% asset_img records-with-nested-fields.svg %}\n\n```dot\ndigraph G {\n    node[shape=record,height=.1];   //定义node样式\n\n    node0[label=\"<f0> |<f1> A|<f2> \"]; //具体的一个node，含三个属性，第二个属性有名字\n    node0[label=\"<f0> |<f1> B|<f2> \"];\n    node0[label=\"<f0> |<f1> C|<f2> \"];\n    node0[label=\"<f0> |<f1> D|<f2> \"];\n    node0[label=\"<f0> |<f1> E|<f2> \"];\n    node0[label=\"<f0> |<f1> F|<f2> \"];\n    node0[label=\"<f0> |<f1> H|<f2> \"];\n    node0[label=\"<f0> |<f1> I|<f2> \"];\n    node0[label=\"<f0> |<f1> J|<f2> \"];\n    node0[label=\"<f0> |<f1> K|<f2> \"];\n\n    \"node0\":f2 -> \"node1\": f1;  //node0的第三个属性指向node1的第二个属性\n    \"node1\":f0 -> \"node2\": f1;\n    \"node1\":f1 -> \"node3\": f2;\n    \"node3\":f0 -> \"node4\": f0;\n    \"node3\":f1 -> \"node5\": f1;\n    \"node3\":f2 -> \"node6\": f2;\n    \"node6\":f1 -> \"node7\": f1;\n    \"node7\":f1 -> \"node8\": f0;\n    \"node2\":f2 -> \"node9\": f1;\n}\n```\n{% asset_img record-structure.svg %}\n","slug":"graphviz-introduction","published":1,"updated":"2019-04-21T01:58:28.753Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq7o000mh51juf5rkwqo","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p>这篇文章参考自<a href=\"http://www.graphviz.org/pdf/dotguide.pdf\" target=\"_blank\" rel=\"noopener\">Drawing graphs with <em>dot</em></a></p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi><mi>o</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">dot</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\">t</span></span></span></span> 通过<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>D</mi><mi>O</mi><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">DOT</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">D</span><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">O</span><span class=\"mord mathdefault\" style=\"margin-right:.13889em\">T</span></span></span></span>语言来作图。该语言描述了三大对象：图(graphs)，节点(nodes)，边(edges)。同时支持有向图和无向图，并支持图的嵌套(<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>s</mi><mi>u</mi><mi>b</mi><mi>g</mi><mi>r</mi><mi>a</mi><mi>p</mi><mi>h</mi></mrow><annotation encoding=\"application/x-tex\">subgraph</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">g</span><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">r</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">h</span></span></span></span>)。<br>默认采用有向图的布局方式，有另一个独立的布局工具，<em>neato</em>，用于无向图。</p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi><mi>o</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">dot</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\">t</span></span></span></span> 编译的方式是按顺序一行一行地处理 *.dot 文件中内容。所以各种对象的属性的有效性从从属性设置语句所在行开始直到下一次属性设置语句所在行之前。</p><p>完整的属性描述可以参考<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mi>r</mi><mi>a</mi><mi>p</mi><mi>h</mi><mi>v</mi><mi>i</mi><mi>z</mi></mrow><annotation encoding=\"application/x-tex\">Graphviz</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\">G</span><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">r</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">h</span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">v</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:.04398em\">z</span></span></span></span>官网的<a href=\"http://www.graphviz.org/doc/info/attrs.html\" target=\"_blank\" rel=\"noopener\">该页面</a>。</p><h2 id=\"要素\"><a class=\"markdownIt-Anchor\" href=\"#要素\"></a> 要素</h2><p>一幅图可以包含如下要素：</p><ol><li>注释</li></ol><ul><li>双斜杠</li></ul><ol start=\"2\"><li>有向图 or 无向图</li><li>节点之间的关系</li></ol><ul><li>有向图：<code>a-&gt;b</code>，节点 a 指向节点 b</li><li>无向图：<code>a--b</code>，节点 a 和节点 b连通</li></ul><ol start=\"4\"><li>定义节点属性</li></ol><ul><li>形状，多边形<code>polygon</code>和<code>record</code>（不知道怎么翻译）</li><li>颜色</li><li>标签</li><li>等等</li></ul><ol start=\"5\"><li>定义边的属性</li></ol><ul><li>形状</li><li>颜色</li><li>文本</li><li>等等</li></ul><ol start=\"6\"><li>定义结构(<code>record</code>)</li></ol><ul><li>内部结构</li><li>方向，水平或竖直排列</li><li>标签</li></ul><h2 id=\"样例\"><a class=\"markdownIt-Anchor\" href=\"#样例\"></a> 样例</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">digraph G&#123;</span><br><span class=\"line\">    a -&gt; b -&gt; c;</span><br><span class=\"line\">    b -&gt; d;</span><br><span class=\"line\">    a [shape=polygon,sides=5,peripheries=3,color=lightblue,style=filled];</span><br><span class=\"line\">    c [shape=polygon,sides=4,skew=.4,label=&quot;hello world&quot;]</span><br><span class=\"line\">    d [shape=invtriangle];</span><br><span class=\"line\">    e [shape=polygon,sides=4,distortion=.7];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><img src=\"/posts/1414645917/graph-with-polygonal-shapes.svg\"><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">digraph structs&#123;</span><br><span class=\"line\">node [shape=record];</span><br><span class=\"line\">    struct1 [shape=record,label=&quot;&lt;f0&gt; left|&lt;f1&gt; mid\\ dle|&lt;f2&gt; right&quot;];</span><br><span class=\"line\">    struct2 [shape=record,label=&quot;&lt;f0&gt; one|&lt;f1&gt; two&quot;];</span><br><span class=\"line\">    struct3 [shape=record,label=&quot;hello\\nworld | &#123; b |&#123;c|&lt;here&gt; d|e&#125;| f&#125;|g|h &quot;];</span><br><span class=\"line\">    struct1 -&gt; struct2;</span><br><span class=\"line\">    struct1 -&gt; struct3;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><img src=\"/posts/1414645917/records-with-nested-fields.svg\"><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">digraph G &#123;</span><br><span class=\"line\">    node[shape=record,height=.1];   //定义node样式</span><br><span class=\"line\"></span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; A|&lt;f2&gt; &quot;]; //具体的一个node，含三个属性，第二个属性有名字</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; B|&lt;f2&gt; &quot;];</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; C|&lt;f2&gt; &quot;];</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; D|&lt;f2&gt; &quot;];</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; E|&lt;f2&gt; &quot;];</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; F|&lt;f2&gt; &quot;];</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; H|&lt;f2&gt; &quot;];</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; I|&lt;f2&gt; &quot;];</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; J|&lt;f2&gt; &quot;];</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; K|&lt;f2&gt; &quot;];</span><br><span class=\"line\"></span><br><span class=\"line\">    &quot;node0&quot;:f2 -&gt; &quot;node1&quot;: f1;  //node0的第三个属性指向node1的第二个属性</span><br><span class=\"line\">    &quot;node1&quot;:f0 -&gt; &quot;node2&quot;: f1;</span><br><span class=\"line\">    &quot;node1&quot;:f1 -&gt; &quot;node3&quot;: f2;</span><br><span class=\"line\">    &quot;node3&quot;:f0 -&gt; &quot;node4&quot;: f0;</span><br><span class=\"line\">    &quot;node3&quot;:f1 -&gt; &quot;node5&quot;: f1;</span><br><span class=\"line\">    &quot;node3&quot;:f2 -&gt; &quot;node6&quot;: f2;</span><br><span class=\"line\">    &quot;node6&quot;:f1 -&gt; &quot;node7&quot;: f1;</span><br><span class=\"line\">    &quot;node7&quot;:f1 -&gt; &quot;node8&quot;: f0;</span><br><span class=\"line\">    &quot;node2&quot;:f2 -&gt; &quot;node9&quot;: f1;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><img src=\"/posts/1414645917/record-structure.svg\"><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p>这篇文章参考自<a href=\"http://www.graphviz.org/pdf/dotguide.pdf\" target=\"_blank\" rel=\"noopener\">Drawing graphs with <em>dot</em></a></p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi><mi>o</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">dot</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\">t</span></span></span></span> 通过<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>D</mi><mi>O</mi><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">DOT</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">D</span><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">O</span><span class=\"mord mathdefault\" style=\"margin-right:.13889em\">T</span></span></span></span>语言来作图。该语言描述了三大对象：图(graphs)，节点(nodes)，边(edges)。同时支持有向图和无向图，并支持图的嵌套(<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>s</mi><mi>u</mi><mi>b</mi><mi>g</mi><mi>r</mi><mi>a</mi><mi>p</mi><mi>h</mi></mrow><annotation encoding=\"application/x-tex\">subgraph</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">g</span><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">r</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">h</span></span></span></span>)。<br>默认采用有向图的布局方式，有另一个独立的布局工具，<em>neato</em>，用于无向图。</p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi><mi>o</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">dot</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\">t</span></span></span></span> 编译的方式是按顺序一行一行地处理 *.dot 文件中内容。所以各种对象的属性的有效性从从属性设置语句所在行开始直到下一次属性设置语句所在行之前。</p><p>完整的属性描述可以参考<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mi>r</mi><mi>a</mi><mi>p</mi><mi>h</mi><mi>v</mi><mi>i</mi><mi>z</mi></mrow><annotation encoding=\"application/x-tex\">Graphviz</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.8888799999999999em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\">G</span><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">r</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">h</span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">v</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:.04398em\">z</span></span></span></span>官网的<a href=\"http://www.graphviz.org/doc/info/attrs.html\" target=\"_blank\" rel=\"noopener\">该页面</a>。</p><h2 id=\"要素\"><a class=\"markdownIt-Anchor\" href=\"#要素\"></a> 要素</h2><p>一幅图可以包含如下要素：</p><ol><li>注释</li></ol><ul><li>双斜杠</li></ul><ol start=\"2\"><li>有向图 or 无向图</li><li>节点之间的关系</li></ol><ul><li>有向图：<code>a-&gt;b</code>，节点 a 指向节点 b</li><li>无向图：<code>a--b</code>，节点 a 和节点 b连通</li></ul><ol start=\"4\"><li>定义节点属性</li></ol><ul><li>形状，多边形<code>polygon</code>和<code>record</code>（不知道怎么翻译）</li><li>颜色</li><li>标签</li><li>等等</li></ul><ol start=\"5\"><li>定义边的属性</li></ol><ul><li>形状</li><li>颜色</li><li>文本</li><li>等等</li></ul><ol start=\"6\"><li>定义结构(<code>record</code>)</li></ol><ul><li>内部结构</li><li>方向，水平或竖直排列</li><li>标签</li></ul><h2 id=\"样例\"><a class=\"markdownIt-Anchor\" href=\"#样例\"></a> 样例</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">digraph G&#123;</span><br><span class=\"line\">    a -&gt; b -&gt; c;</span><br><span class=\"line\">    b -&gt; d;</span><br><span class=\"line\">    a [shape=polygon,sides=5,peripheries=3,color=lightblue,style=filled];</span><br><span class=\"line\">    c [shape=polygon,sides=4,skew=.4,label=&quot;hello world&quot;]</span><br><span class=\"line\">    d [shape=invtriangle];</span><br><span class=\"line\">    e [shape=polygon,sides=4,distortion=.7];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><img src=\"/posts/1414645917/graph-with-polygonal-shapes.svg\"><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">digraph structs&#123;</span><br><span class=\"line\">node [shape=record];</span><br><span class=\"line\">    struct1 [shape=record,label=&quot;&lt;f0&gt; left|&lt;f1&gt; mid\\ dle|&lt;f2&gt; right&quot;];</span><br><span class=\"line\">    struct2 [shape=record,label=&quot;&lt;f0&gt; one|&lt;f1&gt; two&quot;];</span><br><span class=\"line\">    struct3 [shape=record,label=&quot;hello\\nworld | &#123; b |&#123;c|&lt;here&gt; d|e&#125;| f&#125;|g|h &quot;];</span><br><span class=\"line\">    struct1 -&gt; struct2;</span><br><span class=\"line\">    struct1 -&gt; struct3;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><img src=\"/posts/1414645917/records-with-nested-fields.svg\"><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">digraph G &#123;</span><br><span class=\"line\">    node[shape=record,height=.1];   //定义node样式</span><br><span class=\"line\"></span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; A|&lt;f2&gt; &quot;]; //具体的一个node，含三个属性，第二个属性有名字</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; B|&lt;f2&gt; &quot;];</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; C|&lt;f2&gt; &quot;];</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; D|&lt;f2&gt; &quot;];</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; E|&lt;f2&gt; &quot;];</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; F|&lt;f2&gt; &quot;];</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; H|&lt;f2&gt; &quot;];</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; I|&lt;f2&gt; &quot;];</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; J|&lt;f2&gt; &quot;];</span><br><span class=\"line\">    node0[label=&quot;&lt;f0&gt; |&lt;f1&gt; K|&lt;f2&gt; &quot;];</span><br><span class=\"line\"></span><br><span class=\"line\">    &quot;node0&quot;:f2 -&gt; &quot;node1&quot;: f1;  //node0的第三个属性指向node1的第二个属性</span><br><span class=\"line\">    &quot;node1&quot;:f0 -&gt; &quot;node2&quot;: f1;</span><br><span class=\"line\">    &quot;node1&quot;:f1 -&gt; &quot;node3&quot;: f2;</span><br><span class=\"line\">    &quot;node3&quot;:f0 -&gt; &quot;node4&quot;: f0;</span><br><span class=\"line\">    &quot;node3&quot;:f1 -&gt; &quot;node5&quot;: f1;</span><br><span class=\"line\">    &quot;node3&quot;:f2 -&gt; &quot;node6&quot;: f2;</span><br><span class=\"line\">    &quot;node6&quot;:f1 -&gt; &quot;node7&quot;: f1;</span><br><span class=\"line\">    &quot;node7&quot;:f1 -&gt; &quot;node8&quot;: f0;</span><br><span class=\"line\">    &quot;node2&quot;:f2 -&gt; &quot;node9&quot;: f1;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><img src=\"/posts/1414645917/record-structure.svg\"><!-- rebuild by neat -->"},{"title":"Hello World","abbrlink":1243066710,"_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\nabbrlink: 1243066710\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","slug":"hello-world","published":1,"date":"2019-04-21T01:58:28.755Z","updated":"2019-04-21T01:58:28.755Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq7t000qh51jggt59h3o","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p><h2 id=\"quick-start\"><a class=\"markdownIt-Anchor\" href=\"#quick-start\"></a> Quick Start</h2><h3 id=\"create-a-new-post\"><a class=\"markdownIt-Anchor\" href=\"#create-a-new-post\"></a> Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure><p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p><h3 id=\"run-server\"><a class=\"markdownIt-Anchor\" href=\"#run-server\"></a> Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p><h3 id=\"generate-static-files\"><a class=\"markdownIt-Anchor\" href=\"#generate-static-files\"></a> Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p><h3 id=\"deploy-to-remote-sites\"><a class=\"markdownIt-Anchor\" href=\"#deploy-to-remote-sites\"></a> Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p><h2 id=\"quick-start\"><a class=\"markdownIt-Anchor\" href=\"#quick-start\"></a> Quick Start</h2><h3 id=\"create-a-new-post\"><a class=\"markdownIt-Anchor\" href=\"#create-a-new-post\"></a> Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure><p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p><h3 id=\"run-server\"><a class=\"markdownIt-Anchor\" href=\"#run-server\"></a> Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p><h3 id=\"generate-static-files\"><a class=\"markdownIt-Anchor\" href=\"#generate-static-files\"></a> Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p><h3 id=\"deploy-to-remote-sites\"><a class=\"markdownIt-Anchor\" href=\"#deploy-to-remote-sites\"></a> Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p><!-- rebuild by neat -->"},{"title":"hexo 使用建议","toc":true,"abbrlink":1795312736,"date":"2018-09-17T07:03:18.000Z","_content":"\nHexo 使用的 markdown 语法与标准的 markdown 语法有所差别。\n\n# 图片\n\n当需要同时插入多张图片时，就遇到了排版问题。`next`主题有 [`gp`属性](http://ehlxr.me/2016/08/30/使用Hexo基于GitHub-Pages搭建个人博客（三）/#八、图片模式) 可以做到。 `pure`主题没有相似的命令，所以只能直接用`html`标记语言。\n\n**居中**\n\n```markdown\n<div align=\"center\">\n  <!-- 分作两行的话中间会有缝隙 -->\n  <!-- 由于插件 hexo-abbrlink 的使用，路径的获取最好用下面第二种方式 -->\n  <img src=\"path/to/image\" [width=\"200\"] [height=\"300\"] [title]>\n  <img src=\"{% asset_path slug %}\" [width=\"200\"] [height=\"300\"] [title]>\n</div>\n```\n效果\n\n<div align=\"center\">\n  <!-- 分作两行的话中间会有缝隙 -->\n  {% img /images/test/千与千寻1.jpeg 300 %}{% img /images/千与千寻2.jpeg 300 %}\n</div>\n\n---------\n由于图片过大可能会导致无法并排放两张图片，所以需要在插入时调整尺寸。`hexo`中插入命令`asset_img`没有`size`选项，因此按照上例插入图片或使用[标签插件](https://hexo.io/zh-cn/docs/tag-plugins#Image)。\n\n# 参考资料\n\n[Hexo 官方中文文档](https://hexo.io/zh-cn/docs/)\n[Hexo 主题文档（中文）](https://github.com/spiedeman/hexo-theme-pure/blob/master/README.cn.md)\n","source":"_posts/hexo-guide.md","raw":"---\ntitle: hexo 使用建议\ntoc: true\ncategories:\n  - hexo\ntags:\n  - hexo\nabbrlink: 1795312736\ndate: 2018-09-17 15:03:18\n---\n\nHexo 使用的 markdown 语法与标准的 markdown 语法有所差别。\n\n# 图片\n\n当需要同时插入多张图片时，就遇到了排版问题。`next`主题有 [`gp`属性](http://ehlxr.me/2016/08/30/使用Hexo基于GitHub-Pages搭建个人博客（三）/#八、图片模式) 可以做到。 `pure`主题没有相似的命令，所以只能直接用`html`标记语言。\n\n**居中**\n\n```markdown\n<div align=\"center\">\n  <!-- 分作两行的话中间会有缝隙 -->\n  <!-- 由于插件 hexo-abbrlink 的使用，路径的获取最好用下面第二种方式 -->\n  <img src=\"path/to/image\" [width=\"200\"] [height=\"300\"] [title]>\n  <img src=\"{% asset_path slug %}\" [width=\"200\"] [height=\"300\"] [title]>\n</div>\n```\n效果\n\n<div align=\"center\">\n  <!-- 分作两行的话中间会有缝隙 -->\n  {% img /images/test/千与千寻1.jpeg 300 %}{% img /images/千与千寻2.jpeg 300 %}\n</div>\n\n---------\n由于图片过大可能会导致无法并排放两张图片，所以需要在插入时调整尺寸。`hexo`中插入命令`asset_img`没有`size`选项，因此按照上例插入图片或使用[标签插件](https://hexo.io/zh-cn/docs/tag-plugins#Image)。\n\n# 参考资料\n\n[Hexo 官方中文文档](https://hexo.io/zh-cn/docs/)\n[Hexo 主题文档（中文）](https://github.com/spiedeman/hexo-theme-pure/blob/master/README.cn.md)\n","slug":"hexo-guide","published":1,"updated":"2019-04-21T01:58:28.755Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq7v000sh51j2k313smf","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p>Hexo 使用的 markdown 语法与标准的 markdown 语法有所差别。</p><h1 id=\"图片\"><a class=\"markdownIt-Anchor\" href=\"#图片\"></a> 图片</h1><p>当需要同时插入多张图片时，就遇到了排版问题。<code>next</code>主题有 <a href=\"http://ehlxr.me/2016/08/30/%E4%BD%BF%E7%94%A8Hexo%E5%9F%BA%E4%BA%8EGitHub-Pages%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%88%E4%B8%89%EF%BC%89/#%E5%85%AB%E3%80%81%E5%9B%BE%E7%89%87%E6%A8%A1%E5%BC%8F\" target=\"_blank\" rel=\"noopener\"><code>gp</code>属性</a> 可以做到。 <code>pure</code>主题没有相似的命令，所以只能直接用<code>html</code>标记语言。</p><p><strong>居中</strong></p><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">align</span>=<span class=\"string\">\"center\"</span>&gt;</span></span></span><br><span class=\"line\">  <span class=\"xml\"><span class=\"comment\">&lt;!-- 分作两行的话中间会有缝隙 --&gt;</span></span></span><br><span class=\"line\">  <span class=\"xml\"><span class=\"comment\">&lt;!-- 由于插件 hexo-abbrlink 的使用，路径的获取最好用下面第二种方式 --&gt;</span></span></span><br><span class=\"line\">  <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"path/to/image\"</span> [<span class=\"attr\">width</span>=<span class=\"string\">\"200\"</span>] [<span class=\"attr\">height</span>=<span class=\"string\">\"300\"</span>] [<span class=\"attr\">title</span>]&gt;</span></span></span><br><span class=\"line\">  <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"&#123;% asset_path slug %&#125;\"</span> [<span class=\"attr\">width</span>=<span class=\"string\">\"200\"</span>] [<span class=\"attr\">height</span>=<span class=\"string\">\"300\"</span>] [<span class=\"attr\">title</span>]&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>效果</p><div align=\"center\"><img src=\"/images/test/千与千寻1.jpeg\" width=\"300\"><img src=\"/images/千与千寻2.jpeg\" width=\"300\"></div><hr><p>由于图片过大可能会导致无法并排放两张图片，所以需要在插入时调整尺寸。<code>hexo</code>中插入命令<code>asset_img</code>没有<code>size</code>选项，因此按照上例插入图片或使用<a href=\"https://hexo.io/zh-cn/docs/tag-plugins#Image\" target=\"_blank\" rel=\"noopener\">标签插件</a>。</p><h1 id=\"参考资料\"><a class=\"markdownIt-Anchor\" href=\"#参考资料\"></a> 参考资料</h1><p><a href=\"https://hexo.io/zh-cn/docs/\" target=\"_blank\" rel=\"noopener\">Hexo 官方中文文档</a><br><a href=\"https://github.com/spiedeman/hexo-theme-pure/blob/master/README.cn.md\" target=\"_blank\" rel=\"noopener\">Hexo 主题文档（中文）</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p>Hexo 使用的 markdown 语法与标准的 markdown 语法有所差别。</p><h1 id=\"图片\"><a class=\"markdownIt-Anchor\" href=\"#图片\"></a> 图片</h1><p>当需要同时插入多张图片时，就遇到了排版问题。<code>next</code>主题有 <a href=\"http://ehlxr.me/2016/08/30/%E4%BD%BF%E7%94%A8Hexo%E5%9F%BA%E4%BA%8EGitHub-Pages%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%88%E4%B8%89%EF%BC%89/#%E5%85%AB%E3%80%81%E5%9B%BE%E7%89%87%E6%A8%A1%E5%BC%8F\" target=\"_blank\" rel=\"noopener\"><code>gp</code>属性</a> 可以做到。 <code>pure</code>主题没有相似的命令，所以只能直接用<code>html</code>标记语言。</p><p><strong>居中</strong></p><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">align</span>=<span class=\"string\">\"center\"</span>&gt;</span></span></span><br><span class=\"line\">  <span class=\"xml\"><span class=\"comment\">&lt;!-- 分作两行的话中间会有缝隙 --&gt;</span></span></span><br><span class=\"line\">  <span class=\"xml\"><span class=\"comment\">&lt;!-- 由于插件 hexo-abbrlink 的使用，路径的获取最好用下面第二种方式 --&gt;</span></span></span><br><span class=\"line\">  <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"path/to/image\"</span> [<span class=\"attr\">width</span>=<span class=\"string\">\"200\"</span>] [<span class=\"attr\">height</span>=<span class=\"string\">\"300\"</span>] [<span class=\"attr\">title</span>]&gt;</span></span></span><br><span class=\"line\">  <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"&#123;% asset_path slug %&#125;\"</span> [<span class=\"attr\">width</span>=<span class=\"string\">\"200\"</span>] [<span class=\"attr\">height</span>=<span class=\"string\">\"300\"</span>] [<span class=\"attr\">title</span>]&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>效果</p><div align=\"center\"><img src=\"/images/test/千与千寻1.jpeg\" width=\"300\"><img src=\"/images/千与千寻2.jpeg\" width=\"300\"></div><hr><p>由于图片过大可能会导致无法并排放两张图片，所以需要在插入时调整尺寸。<code>hexo</code>中插入命令<code>asset_img</code>没有<code>size</code>选项，因此按照上例插入图片或使用<a href=\"https://hexo.io/zh-cn/docs/tag-plugins#Image\" target=\"_blank\" rel=\"noopener\">标签插件</a>。</p><h1 id=\"参考资料\"><a class=\"markdownIt-Anchor\" href=\"#参考资料\"></a> 参考资料</h1><p><a href=\"https://hexo.io/zh-cn/docs/\" target=\"_blank\" rel=\"noopener\">Hexo 官方中文文档</a><br><a href=\"https://github.com/spiedeman/hexo-theme-pure/blob/master/README.cn.md\" target=\"_blank\" rel=\"noopener\">Hexo 主题文档（中文）</a></p><!-- rebuild by neat -->"},{"title":"在多台电脑上同步更新Hexo博客","abbrlink":77781092,"date":"2019-04-20T08:04:50.000Z","_content":"\n# 背景\n目前更新博客文章，只在自己的笔记本操作。一旦想要在办公室的台式机上写文章并发布到\nGithub Pages 上就变得很麻烦，一时不知从何下手。\n\n\n# 需求\n博客的源文件能在多个设备上同步更新，并且在任意设备上都能自如写文章并发布。\n\n# 方案\n利用 `GitHub` 的分支功能，将 `Hexo`建站的必备源文件以及博客文章的源文件备份到 `source` 分支上。而 `hexo`生成的静态博客文件仍然放在默认的 `master` 分支上。这样在任何设备上只需将`source` 分支克隆到本地，即可开始写新博客。之后通过 `hexo`命令即可将新生成的网站内容推送到 `master` 分支上。两个分支上的内容互不干扰，都能维持最新状态。\n\n## 操作\n\n### 创建新的分支\n新分支的命名没有要求，本文采用`source`。\n\n创建分支的方法有两种，\n- 在浏览器中登陆[GitHub](https://github.com)进行操作。\n- 在本地通过命令行操作。\n\n由于浏览器操作比较简单，就不详细讨论了。重点记录一下终端操作过程。\n\n1、克隆仓库 `username.github.io` 到本地\n```bash\ngit clone https://github.com/username/username.github.io\n```\n\n2、进入该文件夹并创建新的分支\n```bash\ncd username.github.io\n\n# 创建新的分支 source\ngit checkout -b source\n```\n\n3、在 `source` 分支内删除原有的所有文件，然后将 `Hexo`\n建站所需的必备文件以及所有的博客文章拷贝进来\n\n```bash\n# 删除所有的原有内容，.git 文件夹保留\nrm -rf *\n\n# 拷贝必要的文件到当前目录\ncp -r /path/to/hexo/source .\ncp -r /path/to/hexo/scaffolds .\ncp -r /path/to/hexo/themes .\ncp /path/to/hexo/_config.yml .\ncp /path/to/hexo/package.json .\n```\n\n需要注意的是 `themes` 中可能存在 `.git` 文件夹，需要把它们全部删除。\n\n4、提交 source 分支\n由于 `Hexo` 命令生成网站内容时会新建两个文件夹 `public` 和`.deploy_git`。`public`中包含的正是所有网站的源文件，这些内容并不需要保存在 `source`分支，因此提交时要忽略。`.deploy_git` 是 `Hexo`帮我们把网站内容推送到 `master`分支上所建的文件夹，故也可以忽略。另外不需要推送的一个文件夹，便是`node_modules`。这个文件夹里是 `Hexo`用到的所有插件，在本地安装一下就有了，不需要保存在 `GitHub` 上。\n\n因此，提交 `source` 分支前需要\n\n```bash\necho 'node_modules' >> .gitignore\necho 'public' >> .gitignore\necho '.deploy_git' >> .gitignore\n```\n\n现在可以提交了\n\n```bash\ngit add .\ngit commit -m \"update blog files\"\ngit push origin source\n```\n\n### 在新设备上的准备工作\n要在新设备上愉快地用 `Hexo` 写博客之前，需要做一些准备工作。\n\n1、安装 git，并将新设备上的 ssh key 添加到 GitHub 账户上。\n\n2、安装 Hexo\n\n3、把 souce 分支克隆到本地\n\n```bash\ngit clone -b source git@github.com:username/username.github.io.git\n\n# 若已将 source 分支设为默认分支，则可以简化命令\ngit clone https://github.com/username/username.github.io\n```\n\n4、安装所有依赖，生成 `node_modules` 目录\n```bash\nnpm install\n```\n\n5、创建新文章，生成博客的静态文件（即 `public` 目录）\n```bash\nhexo new \"title\"\n\n# 文章写完之后\nhexo g\n```\n\n6、将博客内容推送到 GitHub 上\n```bash\n# 博客的静态文件在 master 分支，其他的源文件在 source 分支\n# _config.yml 中 deploy 的 branch 值必须为 master\nhexo d\n```\n\n7、最后把修改推送到 source 分支\n```bash\ngit add .\ngit commit -m \"commit message\"\ngit push origin source\n```\n\n**注意**：在新设备上的所有操作都在 `source` 分支下完成。\n\n### 日常操作\n由于上一次更新博客有可能不是在手头的电脑上操作的。因此 `GitHub` 上的 `source` 分支可能比本地的更新，因此首先要更新本地的 `source` 分支。\n\n```bash\ngit pull origin source\n```\n\n接下来，按照正常流程写文章并用`hexo`部署到`GitHub`上。\n\n最后，把对源文件的修改推送到 `source` 分支上。\n\n\n--- \n:clap: 又🉐️到一项新技能，哈哈:smirk:\n\n---\n参考资料：\n[theqwang's blog](https://theqwang.github.io/2017/03/17/在多台电脑间使用hexo/#more)\n","source":"_posts/hexo-on-multi-pc.md","raw":"---\ntitle: 在多台电脑上同步更新Hexo博客\ntags:\n  - Hexo\nabbrlink: 77781092\ndate: 2019-04-20 16:04:50\n---\n\n# 背景\n目前更新博客文章，只在自己的笔记本操作。一旦想要在办公室的台式机上写文章并发布到\nGithub Pages 上就变得很麻烦，一时不知从何下手。\n\n\n# 需求\n博客的源文件能在多个设备上同步更新，并且在任意设备上都能自如写文章并发布。\n\n# 方案\n利用 `GitHub` 的分支功能，将 `Hexo`建站的必备源文件以及博客文章的源文件备份到 `source` 分支上。而 `hexo`生成的静态博客文件仍然放在默认的 `master` 分支上。这样在任何设备上只需将`source` 分支克隆到本地，即可开始写新博客。之后通过 `hexo`命令即可将新生成的网站内容推送到 `master` 分支上。两个分支上的内容互不干扰，都能维持最新状态。\n\n## 操作\n\n### 创建新的分支\n新分支的命名没有要求，本文采用`source`。\n\n创建分支的方法有两种，\n- 在浏览器中登陆[GitHub](https://github.com)进行操作。\n- 在本地通过命令行操作。\n\n由于浏览器操作比较简单，就不详细讨论了。重点记录一下终端操作过程。\n\n1、克隆仓库 `username.github.io` 到本地\n```bash\ngit clone https://github.com/username/username.github.io\n```\n\n2、进入该文件夹并创建新的分支\n```bash\ncd username.github.io\n\n# 创建新的分支 source\ngit checkout -b source\n```\n\n3、在 `source` 分支内删除原有的所有文件，然后将 `Hexo`\n建站所需的必备文件以及所有的博客文章拷贝进来\n\n```bash\n# 删除所有的原有内容，.git 文件夹保留\nrm -rf *\n\n# 拷贝必要的文件到当前目录\ncp -r /path/to/hexo/source .\ncp -r /path/to/hexo/scaffolds .\ncp -r /path/to/hexo/themes .\ncp /path/to/hexo/_config.yml .\ncp /path/to/hexo/package.json .\n```\n\n需要注意的是 `themes` 中可能存在 `.git` 文件夹，需要把它们全部删除。\n\n4、提交 source 分支\n由于 `Hexo` 命令生成网站内容时会新建两个文件夹 `public` 和`.deploy_git`。`public`中包含的正是所有网站的源文件，这些内容并不需要保存在 `source`分支，因此提交时要忽略。`.deploy_git` 是 `Hexo`帮我们把网站内容推送到 `master`分支上所建的文件夹，故也可以忽略。另外不需要推送的一个文件夹，便是`node_modules`。这个文件夹里是 `Hexo`用到的所有插件，在本地安装一下就有了，不需要保存在 `GitHub` 上。\n\n因此，提交 `source` 分支前需要\n\n```bash\necho 'node_modules' >> .gitignore\necho 'public' >> .gitignore\necho '.deploy_git' >> .gitignore\n```\n\n现在可以提交了\n\n```bash\ngit add .\ngit commit -m \"update blog files\"\ngit push origin source\n```\n\n### 在新设备上的准备工作\n要在新设备上愉快地用 `Hexo` 写博客之前，需要做一些准备工作。\n\n1、安装 git，并将新设备上的 ssh key 添加到 GitHub 账户上。\n\n2、安装 Hexo\n\n3、把 souce 分支克隆到本地\n\n```bash\ngit clone -b source git@github.com:username/username.github.io.git\n\n# 若已将 source 分支设为默认分支，则可以简化命令\ngit clone https://github.com/username/username.github.io\n```\n\n4、安装所有依赖，生成 `node_modules` 目录\n```bash\nnpm install\n```\n\n5、创建新文章，生成博客的静态文件（即 `public` 目录）\n```bash\nhexo new \"title\"\n\n# 文章写完之后\nhexo g\n```\n\n6、将博客内容推送到 GitHub 上\n```bash\n# 博客的静态文件在 master 分支，其他的源文件在 source 分支\n# _config.yml 中 deploy 的 branch 值必须为 master\nhexo d\n```\n\n7、最后把修改推送到 source 分支\n```bash\ngit add .\ngit commit -m \"commit message\"\ngit push origin source\n```\n\n**注意**：在新设备上的所有操作都在 `source` 分支下完成。\n\n### 日常操作\n由于上一次更新博客有可能不是在手头的电脑上操作的。因此 `GitHub` 上的 `source` 分支可能比本地的更新，因此首先要更新本地的 `source` 分支。\n\n```bash\ngit pull origin source\n```\n\n接下来，按照正常流程写文章并用`hexo`部署到`GitHub`上。\n\n最后，把对源文件的修改推送到 `source` 分支上。\n\n\n--- \n:clap: 又🉐️到一项新技能，哈哈:smirk:\n\n---\n参考资料：\n[theqwang's blog](https://theqwang.github.io/2017/03/17/在多台电脑间使用hexo/#more)\n","slug":"hexo-on-multi-pc","published":1,"updated":"2019-04-21T01:58:28.755Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq7x000xh51jm9y4n8jq","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h1 id=\"背景\"><a class=\"markdownIt-Anchor\" href=\"#背景\"></a> 背景</h1><p>目前更新博客文章，只在自己的笔记本操作。一旦想要在办公室的台式机上写文章并发布到<br>Github Pages 上就变得很麻烦，一时不知从何下手。</p><h1 id=\"需求\"><a class=\"markdownIt-Anchor\" href=\"#需求\"></a> 需求</h1><p>博客的源文件能在多个设备上同步更新，并且在任意设备上都能自如写文章并发布。</p><h1 id=\"方案\"><a class=\"markdownIt-Anchor\" href=\"#方案\"></a> 方案</h1><p>利用 <code>GitHub</code> 的分支功能，将 <code>Hexo</code>建站的必备源文件以及博客文章的源文件备份到 <code>source</code> 分支上。而 <code>hexo</code>生成的静态博客文件仍然放在默认的 <code>master</code> 分支上。这样在任何设备上只需将<code>source</code> 分支克隆到本地，即可开始写新博客。之后通过 <code>hexo</code>命令即可将新生成的网站内容推送到 <code>master</code> 分支上。两个分支上的内容互不干扰，都能维持最新状态。</p><h2 id=\"操作\"><a class=\"markdownIt-Anchor\" href=\"#操作\"></a> 操作</h2><h3 id=\"创建新的分支\"><a class=\"markdownIt-Anchor\" href=\"#创建新的分支\"></a> 创建新的分支</h3><p>新分支的命名没有要求，本文采用<code>source</code>。</p><p>创建分支的方法有两种，</p><ul><li>在浏览器中登陆<a href=\"https://github.com\" target=\"_blank\" rel=\"noopener\">GitHub</a>进行操作。</li><li>在本地通过命令行操作。</li></ul><p>由于浏览器操作比较简单，就不详细讨论了。重点记录一下终端操作过程。</p><p>1、克隆仓库 <code>username.github.io</code> 到本地</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/username/username.github.io</span><br></pre></td></tr></table></figure><p>2、进入该文件夹并创建新的分支</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> username.github.io</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 创建新的分支 source</span></span><br><span class=\"line\">git checkout -b <span class=\"built_in\">source</span></span><br></pre></td></tr></table></figure><p>3、在 <code>source</code> 分支内删除原有的所有文件，然后将 <code>Hexo</code><br>建站所需的必备文件以及所有的博客文章拷贝进来</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 删除所有的原有内容，.git 文件夹保留</span></span><br><span class=\"line\">rm -rf *</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 拷贝必要的文件到当前目录</span></span><br><span class=\"line\">cp -r /path/to/hexo/<span class=\"built_in\">source</span> .</span><br><span class=\"line\">cp -r /path/to/hexo/scaffolds .</span><br><span class=\"line\">cp -r /path/to/hexo/themes .</span><br><span class=\"line\">cp /path/to/hexo/_config.yml .</span><br><span class=\"line\">cp /path/to/hexo/package.json .</span><br></pre></td></tr></table></figure><p>需要注意的是 <code>themes</code> 中可能存在 <code>.git</code> 文件夹，需要把它们全部删除。</p><p>4、提交 source 分支<br>由于 <code>Hexo</code> 命令生成网站内容时会新建两个文件夹 <code>public</code> 和<code>.deploy_git</code>。<code>public</code>中包含的正是所有网站的源文件，这些内容并不需要保存在 <code>source</code>分支，因此提交时要忽略。<code>.deploy_git</code> 是 <code>Hexo</code>帮我们把网站内容推送到 <code>master</code>分支上所建的文件夹，故也可以忽略。另外不需要推送的一个文件夹，便是<code>node_modules</code>。这个文件夹里是 <code>Hexo</code>用到的所有插件，在本地安装一下就有了，不需要保存在 <code>GitHub</code> 上。</p><p>因此，提交 <code>source</code> 分支前需要</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">'node_modules'</span> &gt;&gt; .gitignore</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">'public'</span> &gt;&gt; .gitignore</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">'.deploy_git'</span> &gt;&gt; .gitignore</span><br></pre></td></tr></table></figure><p>现在可以提交了</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add .</span><br><span class=\"line\">git commit -m <span class=\"string\">\"update blog files\"</span></span><br><span class=\"line\">git push origin <span class=\"built_in\">source</span></span><br></pre></td></tr></table></figure><h3 id=\"在新设备上的准备工作\"><a class=\"markdownIt-Anchor\" href=\"#在新设备上的准备工作\"></a> 在新设备上的准备工作</h3><p>要在新设备上愉快地用 <code>Hexo</code> 写博客之前，需要做一些准备工作。</p><p>1、安装 git，并将新设备上的 ssh key 添加到 GitHub 账户上。</p><p>2、安装 Hexo</p><p>3、把 souce 分支克隆到本地</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> -b <span class=\"built_in\">source</span> git@github.com:username/username.github.io.git</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 若已将 source 分支设为默认分支，则可以简化命令</span></span><br><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/username/username.github.io</span><br></pre></td></tr></table></figure><p>4、安装所有依赖，生成 <code>node_modules</code> 目录</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install</span><br></pre></td></tr></table></figure><p>5、创建新文章，生成博客的静态文件（即 <code>public</code> 目录）</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new <span class=\"string\">\"title\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 文章写完之后</span></span><br><span class=\"line\">hexo g</span><br></pre></td></tr></table></figure><p>6、将博客内容推送到 GitHub 上</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 博客的静态文件在 master 分支，其他的源文件在 source 分支</span></span><br><span class=\"line\"><span class=\"comment\"># _config.yml 中 deploy 的 branch 值必须为 master</span></span><br><span class=\"line\">hexo d</span><br></pre></td></tr></table></figure><p>7、最后把修改推送到 source 分支</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add .</span><br><span class=\"line\">git commit -m <span class=\"string\">\"commit message\"</span></span><br><span class=\"line\">git push origin <span class=\"built_in\">source</span></span><br></pre></td></tr></table></figure><p><strong>注意</strong>：在新设备上的所有操作都在 <code>source</code> 分支下完成。</p><h3 id=\"日常操作\"><a class=\"markdownIt-Anchor\" href=\"#日常操作\"></a> 日常操作</h3><p>由于上一次更新博客有可能不是在手头的电脑上操作的。因此 <code>GitHub</code> 上的 <code>source</code> 分支可能比本地的更新，因此首先要更新本地的 <code>source</code> 分支。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git pull origin <span class=\"built_in\">source</span></span><br></pre></td></tr></table></figure><p>接下来，按照正常流程写文章并用<code>hexo</code>部署到<code>GitHub</code>上。</p><p>最后，把对源文件的修改推送到 <code>source</code> 分支上。</p><hr><p>👏 又🉐️到一项新技能，哈哈😏</p><hr><p>参考资料：<br><a href=\"https://theqwang.github.io/2017/03/17/%E5%9C%A8%E5%A4%9A%E5%8F%B0%E7%94%B5%E8%84%91%E9%97%B4%E4%BD%BF%E7%94%A8hexo/#more\" target=\"_blank\" rel=\"noopener\">theqwang’s blog</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h1 id=\"背景\"><a class=\"markdownIt-Anchor\" href=\"#背景\"></a> 背景</h1><p>目前更新博客文章，只在自己的笔记本操作。一旦想要在办公室的台式机上写文章并发布到<br>Github Pages 上就变得很麻烦，一时不知从何下手。</p><h1 id=\"需求\"><a class=\"markdownIt-Anchor\" href=\"#需求\"></a> 需求</h1><p>博客的源文件能在多个设备上同步更新，并且在任意设备上都能自如写文章并发布。</p><h1 id=\"方案\"><a class=\"markdownIt-Anchor\" href=\"#方案\"></a> 方案</h1><p>利用 <code>GitHub</code> 的分支功能，将 <code>Hexo</code>建站的必备源文件以及博客文章的源文件备份到 <code>source</code> 分支上。而 <code>hexo</code>生成的静态博客文件仍然放在默认的 <code>master</code> 分支上。这样在任何设备上只需将<code>source</code> 分支克隆到本地，即可开始写新博客。之后通过 <code>hexo</code>命令即可将新生成的网站内容推送到 <code>master</code> 分支上。两个分支上的内容互不干扰，都能维持最新状态。</p><h2 id=\"操作\"><a class=\"markdownIt-Anchor\" href=\"#操作\"></a> 操作</h2><h3 id=\"创建新的分支\"><a class=\"markdownIt-Anchor\" href=\"#创建新的分支\"></a> 创建新的分支</h3><p>新分支的命名没有要求，本文采用<code>source</code>。</p><p>创建分支的方法有两种，</p><ul><li>在浏览器中登陆<a href=\"https://github.com\" target=\"_blank\" rel=\"noopener\">GitHub</a>进行操作。</li><li>在本地通过命令行操作。</li></ul><p>由于浏览器操作比较简单，就不详细讨论了。重点记录一下终端操作过程。</p><p>1、克隆仓库 <code>username.github.io</code> 到本地</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/username/username.github.io</span><br></pre></td></tr></table></figure><p>2、进入该文件夹并创建新的分支</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> username.github.io</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 创建新的分支 source</span></span><br><span class=\"line\">git checkout -b <span class=\"built_in\">source</span></span><br></pre></td></tr></table></figure><p>3、在 <code>source</code> 分支内删除原有的所有文件，然后将 <code>Hexo</code><br>建站所需的必备文件以及所有的博客文章拷贝进来</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 删除所有的原有内容，.git 文件夹保留</span></span><br><span class=\"line\">rm -rf *</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 拷贝必要的文件到当前目录</span></span><br><span class=\"line\">cp -r /path/to/hexo/<span class=\"built_in\">source</span> .</span><br><span class=\"line\">cp -r /path/to/hexo/scaffolds .</span><br><span class=\"line\">cp -r /path/to/hexo/themes .</span><br><span class=\"line\">cp /path/to/hexo/_config.yml .</span><br><span class=\"line\">cp /path/to/hexo/package.json .</span><br></pre></td></tr></table></figure><p>需要注意的是 <code>themes</code> 中可能存在 <code>.git</code> 文件夹，需要把它们全部删除。</p><p>4、提交 source 分支<br>由于 <code>Hexo</code> 命令生成网站内容时会新建两个文件夹 <code>public</code> 和<code>.deploy_git</code>。<code>public</code>中包含的正是所有网站的源文件，这些内容并不需要保存在 <code>source</code>分支，因此提交时要忽略。<code>.deploy_git</code> 是 <code>Hexo</code>帮我们把网站内容推送到 <code>master</code>分支上所建的文件夹，故也可以忽略。另外不需要推送的一个文件夹，便是<code>node_modules</code>。这个文件夹里是 <code>Hexo</code>用到的所有插件，在本地安装一下就有了，不需要保存在 <code>GitHub</code> 上。</p><p>因此，提交 <code>source</code> 分支前需要</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">'node_modules'</span> &gt;&gt; .gitignore</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">'public'</span> &gt;&gt; .gitignore</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">'.deploy_git'</span> &gt;&gt; .gitignore</span><br></pre></td></tr></table></figure><p>现在可以提交了</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add .</span><br><span class=\"line\">git commit -m <span class=\"string\">\"update blog files\"</span></span><br><span class=\"line\">git push origin <span class=\"built_in\">source</span></span><br></pre></td></tr></table></figure><h3 id=\"在新设备上的准备工作\"><a class=\"markdownIt-Anchor\" href=\"#在新设备上的准备工作\"></a> 在新设备上的准备工作</h3><p>要在新设备上愉快地用 <code>Hexo</code> 写博客之前，需要做一些准备工作。</p><p>1、安装 git，并将新设备上的 ssh key 添加到 GitHub 账户上。</p><p>2、安装 Hexo</p><p>3、把 souce 分支克隆到本地</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> -b <span class=\"built_in\">source</span> git@github.com:username/username.github.io.git</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 若已将 source 分支设为默认分支，则可以简化命令</span></span><br><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/username/username.github.io</span><br></pre></td></tr></table></figure><p>4、安装所有依赖，生成 <code>node_modules</code> 目录</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install</span><br></pre></td></tr></table></figure><p>5、创建新文章，生成博客的静态文件（即 <code>public</code> 目录）</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new <span class=\"string\">\"title\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 文章写完之后</span></span><br><span class=\"line\">hexo g</span><br></pre></td></tr></table></figure><p>6、将博客内容推送到 GitHub 上</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 博客的静态文件在 master 分支，其他的源文件在 source 分支</span></span><br><span class=\"line\"><span class=\"comment\"># _config.yml 中 deploy 的 branch 值必须为 master</span></span><br><span class=\"line\">hexo d</span><br></pre></td></tr></table></figure><p>7、最后把修改推送到 source 分支</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add .</span><br><span class=\"line\">git commit -m <span class=\"string\">\"commit message\"</span></span><br><span class=\"line\">git push origin <span class=\"built_in\">source</span></span><br></pre></td></tr></table></figure><p><strong>注意</strong>：在新设备上的所有操作都在 <code>source</code> 分支下完成。</p><h3 id=\"日常操作\"><a class=\"markdownIt-Anchor\" href=\"#日常操作\"></a> 日常操作</h3><p>由于上一次更新博客有可能不是在手头的电脑上操作的。因此 <code>GitHub</code> 上的 <code>source</code> 分支可能比本地的更新，因此首先要更新本地的 <code>source</code> 分支。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git pull origin <span class=\"built_in\">source</span></span><br></pre></td></tr></table></figure><p>接下来，按照正常流程写文章并用<code>hexo</code>部署到<code>GitHub</code>上。</p><p>最后，把对源文件的修改推送到 <code>source</code> 分支上。</p><hr><p>👏 又🉐️到一项新技能，哈哈😏</p><hr><p>参考资料：<br><a href=\"https://theqwang.github.io/2017/03/17/%E5%9C%A8%E5%A4%9A%E5%8F%B0%E7%94%B5%E8%84%91%E9%97%B4%E4%BD%BF%E7%94%A8hexo/#more\" target=\"_blank\" rel=\"noopener\">theqwang’s blog</a></p><!-- rebuild by neat -->"},{"title":"Homebrew 使用方法","mathjax":false,"toc":true,"abbrlink":319510325,"date":"2018-12-04T13:55:23.000Z","_content":"\n# 查看已安装的包\n```bash\nbrew list\n```\n\n# 更新 Homebrew\n要获取最新的包列表，需先更新 `Homebrew` 自身。\n```bash\nbrew update\n```\n\n# 更新包（formula）\n查看哪些包有新版本\n```bash\nbrew outdated\n\nbrew upgrade                # 更新左右包\nbrew upgrade $FORMULA       # 更新指定包\n```\n更新时自动清理旧版本，在`brew upgrade`前设置环境变量`HOMEBREW_UPGRADE_CLEANUP`。\n\n# 清理旧版本\n```bash\nbrew cleanup                # 清理所有包的旧版本\nbrew cleanup $FORMULA       # 清理指定包的旧版本\nbrew cleanup -n             # 查看可清理的旧版本包，不会执行清除操作\n```\n彻底卸载，包括删除旧版本\n```bash\nbrew uninstall formaula_name --force\n```\n\n# 锁定包\n被锁定的包在更新时会被略过。\n```bash\nbrew pin $FORMULA           # 锁定\nbrew unpin $FORMULA         # 取消锁定\n```\n\n# 切换版本\n时间一长，各个包可能都有多个版本并存。\n```bash\nbrew switch $FORMULA $VERSION       # 切换包到指定版本\n```\n\n# 查看依赖关系\n```bash\nbrew deps --installed --tree        # 查看已安装的包的依赖关系\n```\n\n","source":"_posts/homebrew-guide.md","raw":"---\ntitle: Homebrew 使用方法\nmathjax: false\ntoc: true\ncategory:\n  - Homebrew\ntags:\n  - homebrew\nabbrlink: 319510325\ndate: 2018-12-04 21:55:23\n---\n\n# 查看已安装的包\n```bash\nbrew list\n```\n\n# 更新 Homebrew\n要获取最新的包列表，需先更新 `Homebrew` 自身。\n```bash\nbrew update\n```\n\n# 更新包（formula）\n查看哪些包有新版本\n```bash\nbrew outdated\n\nbrew upgrade                # 更新左右包\nbrew upgrade $FORMULA       # 更新指定包\n```\n更新时自动清理旧版本，在`brew upgrade`前设置环境变量`HOMEBREW_UPGRADE_CLEANUP`。\n\n# 清理旧版本\n```bash\nbrew cleanup                # 清理所有包的旧版本\nbrew cleanup $FORMULA       # 清理指定包的旧版本\nbrew cleanup -n             # 查看可清理的旧版本包，不会执行清除操作\n```\n彻底卸载，包括删除旧版本\n```bash\nbrew uninstall formaula_name --force\n```\n\n# 锁定包\n被锁定的包在更新时会被略过。\n```bash\nbrew pin $FORMULA           # 锁定\nbrew unpin $FORMULA         # 取消锁定\n```\n\n# 切换版本\n时间一长，各个包可能都有多个版本并存。\n```bash\nbrew switch $FORMULA $VERSION       # 切换包到指定版本\n```\n\n# 查看依赖关系\n```bash\nbrew deps --installed --tree        # 查看已安装的包的依赖关系\n```\n\n","slug":"homebrew-guide","published":1,"updated":"2019-04-21T01:58:28.756Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq7z000zh51j6zeqwjgh","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h1 id=\"查看已安装的包\"><a class=\"markdownIt-Anchor\" href=\"#查看已安装的包\"></a> 查看已安装的包</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew list</span><br></pre></td></tr></table></figure><h1 id=\"更新-homebrew\"><a class=\"markdownIt-Anchor\" href=\"#更新-homebrew\"></a> 更新 Homebrew</h1><p>要获取最新的包列表，需先更新 <code>Homebrew</code> 自身。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew update</span><br></pre></td></tr></table></figure><h1 id=\"更新包formula\"><a class=\"markdownIt-Anchor\" href=\"#更新包formula\"></a> 更新包（formula）</h1><p>查看哪些包有新版本</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew outdated</span><br><span class=\"line\"></span><br><span class=\"line\">brew upgrade                <span class=\"comment\"># 更新左右包</span></span><br><span class=\"line\">brew upgrade <span class=\"variable\">$FORMULA</span>       <span class=\"comment\"># 更新指定包</span></span><br></pre></td></tr></table></figure><p>更新时自动清理旧版本，在<code>brew upgrade</code>前设置环境变量<code>HOMEBREW_UPGRADE_CLEANUP</code>。</p><h1 id=\"清理旧版本\"><a class=\"markdownIt-Anchor\" href=\"#清理旧版本\"></a> 清理旧版本</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew cleanup                <span class=\"comment\"># 清理所有包的旧版本</span></span><br><span class=\"line\">brew cleanup <span class=\"variable\">$FORMULA</span>       <span class=\"comment\"># 清理指定包的旧版本</span></span><br><span class=\"line\">brew cleanup -n             <span class=\"comment\"># 查看可清理的旧版本包，不会执行清除操作</span></span><br></pre></td></tr></table></figure><p>彻底卸载，包括删除旧版本</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew uninstall formaula_name --force</span><br></pre></td></tr></table></figure><h1 id=\"锁定包\"><a class=\"markdownIt-Anchor\" href=\"#锁定包\"></a> 锁定包</h1><p>被锁定的包在更新时会被略过。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew pin <span class=\"variable\">$FORMULA</span>           <span class=\"comment\"># 锁定</span></span><br><span class=\"line\">brew unpin <span class=\"variable\">$FORMULA</span>         <span class=\"comment\"># 取消锁定</span></span><br></pre></td></tr></table></figure><h1 id=\"切换版本\"><a class=\"markdownIt-Anchor\" href=\"#切换版本\"></a> 切换版本</h1><p>时间一长，各个包可能都有多个版本并存。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew switch <span class=\"variable\">$FORMULA</span> <span class=\"variable\">$VERSION</span>       <span class=\"comment\"># 切换包到指定版本</span></span><br></pre></td></tr></table></figure><h1 id=\"查看依赖关系\"><a class=\"markdownIt-Anchor\" href=\"#查看依赖关系\"></a> 查看依赖关系</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew deps --installed --tree        <span class=\"comment\"># 查看已安装的包的依赖关系</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h1 id=\"查看已安装的包\"><a class=\"markdownIt-Anchor\" href=\"#查看已安装的包\"></a> 查看已安装的包</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew list</span><br></pre></td></tr></table></figure><h1 id=\"更新-homebrew\"><a class=\"markdownIt-Anchor\" href=\"#更新-homebrew\"></a> 更新 Homebrew</h1><p>要获取最新的包列表，需先更新 <code>Homebrew</code> 自身。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew update</span><br></pre></td></tr></table></figure><h1 id=\"更新包formula\"><a class=\"markdownIt-Anchor\" href=\"#更新包formula\"></a> 更新包（formula）</h1><p>查看哪些包有新版本</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew outdated</span><br><span class=\"line\"></span><br><span class=\"line\">brew upgrade                <span class=\"comment\"># 更新左右包</span></span><br><span class=\"line\">brew upgrade <span class=\"variable\">$FORMULA</span>       <span class=\"comment\"># 更新指定包</span></span><br></pre></td></tr></table></figure><p>更新时自动清理旧版本，在<code>brew upgrade</code>前设置环境变量<code>HOMEBREW_UPGRADE_CLEANUP</code>。</p><h1 id=\"清理旧版本\"><a class=\"markdownIt-Anchor\" href=\"#清理旧版本\"></a> 清理旧版本</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew cleanup                <span class=\"comment\"># 清理所有包的旧版本</span></span><br><span class=\"line\">brew cleanup <span class=\"variable\">$FORMULA</span>       <span class=\"comment\"># 清理指定包的旧版本</span></span><br><span class=\"line\">brew cleanup -n             <span class=\"comment\"># 查看可清理的旧版本包，不会执行清除操作</span></span><br></pre></td></tr></table></figure><p>彻底卸载，包括删除旧版本</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew uninstall formaula_name --force</span><br></pre></td></tr></table></figure><h1 id=\"锁定包\"><a class=\"markdownIt-Anchor\" href=\"#锁定包\"></a> 锁定包</h1><p>被锁定的包在更新时会被略过。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew pin <span class=\"variable\">$FORMULA</span>           <span class=\"comment\"># 锁定</span></span><br><span class=\"line\">brew unpin <span class=\"variable\">$FORMULA</span>         <span class=\"comment\"># 取消锁定</span></span><br></pre></td></tr></table></figure><h1 id=\"切换版本\"><a class=\"markdownIt-Anchor\" href=\"#切换版本\"></a> 切换版本</h1><p>时间一长，各个包可能都有多个版本并存。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew switch <span class=\"variable\">$FORMULA</span> <span class=\"variable\">$VERSION</span>       <span class=\"comment\"># 切换包到指定版本</span></span><br></pre></td></tr></table></figure><h1 id=\"查看依赖关系\"><a class=\"markdownIt-Anchor\" href=\"#查看依赖关系\"></a> 查看依赖关系</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew deps --installed --tree        <span class=\"comment\"># 查看已安装的包的依赖关系</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"jupyter-with-virtualenv","mathjax":false,"toc":true,"abbrlink":3264731549,"date":"2018-11-26T05:36:56.000Z","_content":"\n# 添加内核\n终端切换`python`版本很容易，但在`jupyter`中应该如何切换环境？\n\n假如有一个虚拟环境`science`，将其导入`jupyter`的过程如下：\n\n1、进入虚拟环境`science`\n```bash\npyenv active science\n```\n\n2、安装`ipykernel`\n```bash\npip install ipykernel\n```\n\n3、为`jupyter`安装新内核\n```bash\nipython kernel install --user --name science -display-name \"python3 (science)\"\n```\n\n4、查看可用内核\n```bash\njupyter-kernelspec list\n\nAvailable kernerls:\n  science    /Users/xuwutao/Library/Jupyter/kernels/science\n  python3 /Users/xuwutao/.pyenv/versions/3.7.1/Python.framework/Versions/3.7/share/jupyter/kernels/python3\n```\n\n<img src=\"{%asset_path jupyter-with-virtualenv.png %}\" width=\"400\" height=\"400\">\n\n# 修改内核\n内核在`jupyter`中以`json`文件方式存在。每新建一个内核，`jupyter`会在系统的特定位置新建文件夹，存储相应的`json`文件。这些位置分布如下：\n\n|          | Unix                                                                          | Windows                        |\n| :---:    | :---:                                                                         | :----:                         |\n| `System` | `/usr/share/jupyter/kernels`<br>`/usr/local/share/jupyter/kernels`            | `%PROGRAMDATA\\jupyter\\kernels` |\n| `Env`    | `{sys.prefix}/share/jupyter/kernels`                                          |                                |\n| `User`   | `~/Library/Jupyter/kernels` (Mac)<br>`~/.local/share/jupyter/kernels` (Linux) | `%APPDATA%\\jupyter\\kernels`\n","source":"_posts/jupyter-with-virtualenv.md","raw":"---\ntitle: jupyter-with-virtualenv\nmathjax: false\ntoc: true\ncategory:\n  - Python\ntags:\n  - jupyter\n  - virtualenv\nabbrlink: 3264731549\ndate: 2018-11-26 13:36:56\n---\n\n# 添加内核\n终端切换`python`版本很容易，但在`jupyter`中应该如何切换环境？\n\n假如有一个虚拟环境`science`，将其导入`jupyter`的过程如下：\n\n1、进入虚拟环境`science`\n```bash\npyenv active science\n```\n\n2、安装`ipykernel`\n```bash\npip install ipykernel\n```\n\n3、为`jupyter`安装新内核\n```bash\nipython kernel install --user --name science -display-name \"python3 (science)\"\n```\n\n4、查看可用内核\n```bash\njupyter-kernelspec list\n\nAvailable kernerls:\n  science    /Users/xuwutao/Library/Jupyter/kernels/science\n  python3 /Users/xuwutao/.pyenv/versions/3.7.1/Python.framework/Versions/3.7/share/jupyter/kernels/python3\n```\n\n<img src=\"{%asset_path jupyter-with-virtualenv.png %}\" width=\"400\" height=\"400\">\n\n# 修改内核\n内核在`jupyter`中以`json`文件方式存在。每新建一个内核，`jupyter`会在系统的特定位置新建文件夹，存储相应的`json`文件。这些位置分布如下：\n\n|          | Unix                                                                          | Windows                        |\n| :---:    | :---:                                                                         | :----:                         |\n| `System` | `/usr/share/jupyter/kernels`<br>`/usr/local/share/jupyter/kernels`            | `%PROGRAMDATA\\jupyter\\kernels` |\n| `Env`    | `{sys.prefix}/share/jupyter/kernels`                                          |                                |\n| `User`   | `~/Library/Jupyter/kernels` (Mac)<br>`~/.local/share/jupyter/kernels` (Linux) | `%APPDATA%\\jupyter\\kernels`\n","slug":"jupyter-with-virtualenv","published":1,"updated":"2019-04-21T01:58:28.756Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq810013h51jjb728am4","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h1 id=\"添加内核\"><a class=\"markdownIt-Anchor\" href=\"#添加内核\"></a> 添加内核</h1><p>终端切换<code>python</code>版本很容易，但在<code>jupyter</code>中应该如何切换环境？</p><p>假如有一个虚拟环境<code>science</code>，将其导入<code>jupyter</code>的过程如下：</p><p>1、进入虚拟环境<code>science</code></p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pyenv active science</span><br></pre></td></tr></table></figure><p>2、安装<code>ipykernel</code></p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install ipykernel</span><br></pre></td></tr></table></figure><p>3、为<code>jupyter</code>安装新内核</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ipython kernel install --user --name science -display-name <span class=\"string\">\"python3 (science)\"</span></span><br></pre></td></tr></table></figure><p>4、查看可用内核</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jupyter-kernelspec list</span><br><span class=\"line\"></span><br><span class=\"line\">Available kernerls:</span><br><span class=\"line\">  science    /Users/xuwutao/Library/Jupyter/kernels/science</span><br><span class=\"line\">  python3 /Users/xuwutao/.pyenv/versions/3.7.1/Python.framework/Versions/3.7/share/jupyter/kernels/python3</span><br></pre></td></tr></table></figure><img src=\"/posts/3264731549/jupyter-with-virtualenv.png\" width=\"400\" height=\"400\"><h1 id=\"修改内核\"><a class=\"markdownIt-Anchor\" href=\"#修改内核\"></a> 修改内核</h1><p>内核在<code>jupyter</code>中以<code>json</code>文件方式存在。每新建一个内核，<code>jupyter</code>会在系统的特定位置新建文件夹，存储相应的<code>json</code>文件。这些位置分布如下：</p><table><thead><tr><th style=\"text-align:center\"></th><th style=\"text-align:center\">Unix</th><th style=\"text-align:center\">Windows</th></tr></thead><tbody><tr><td style=\"text-align:center\"><code>System</code></td><td style=\"text-align:center\"><code>/usr/share/jupyter/kernels</code><br><code>/usr/local/share/jupyter/kernels</code></td><td style=\"text-align:center\"><code>%PROGRAMDATA\\jupyter\\kernels</code></td></tr><tr><td style=\"text-align:center\"><code>Env</code></td><td style=\"text-align:center\"><code>{sys.prefix}/share/jupyter/kernels</code></td><td style=\"text-align:center\"></td></tr><tr><td style=\"text-align:center\"><code>User</code></td><td style=\"text-align:center\"><code>~/Library/Jupyter/kernels</code> (Mac)<br><code>~/.local/share/jupyter/kernels</code> (Linux)</td><td style=\"text-align:center\"><code>%APPDATA%\\jupyter\\kernels</code></td></tr></tbody></table><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h1 id=\"添加内核\"><a class=\"markdownIt-Anchor\" href=\"#添加内核\"></a> 添加内核</h1><p>终端切换<code>python</code>版本很容易，但在<code>jupyter</code>中应该如何切换环境？</p><p>假如有一个虚拟环境<code>science</code>，将其导入<code>jupyter</code>的过程如下：</p><p>1、进入虚拟环境<code>science</code></p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pyenv active science</span><br></pre></td></tr></table></figure><p>2、安装<code>ipykernel</code></p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install ipykernel</span><br></pre></td></tr></table></figure><p>3、为<code>jupyter</code>安装新内核</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ipython kernel install --user --name science -display-name <span class=\"string\">\"python3 (science)\"</span></span><br></pre></td></tr></table></figure><p>4、查看可用内核</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jupyter-kernelspec list</span><br><span class=\"line\"></span><br><span class=\"line\">Available kernerls:</span><br><span class=\"line\">  science    /Users/xuwutao/Library/Jupyter/kernels/science</span><br><span class=\"line\">  python3 /Users/xuwutao/.pyenv/versions/3.7.1/Python.framework/Versions/3.7/share/jupyter/kernels/python3</span><br></pre></td></tr></table></figure><img src=\"/posts/3264731549/jupyter-with-virtualenv.png\" width=\"400\" height=\"400\"><h1 id=\"修改内核\"><a class=\"markdownIt-Anchor\" href=\"#修改内核\"></a> 修改内核</h1><p>内核在<code>jupyter</code>中以<code>json</code>文件方式存在。每新建一个内核，<code>jupyter</code>会在系统的特定位置新建文件夹，存储相应的<code>json</code>文件。这些位置分布如下：</p><table><thead><tr><th style=\"text-align:center\"></th><th style=\"text-align:center\">Unix</th><th style=\"text-align:center\">Windows</th></tr></thead><tbody><tr><td style=\"text-align:center\"><code>System</code></td><td style=\"text-align:center\"><code>/usr/share/jupyter/kernels</code><br><code>/usr/local/share/jupyter/kernels</code></td><td style=\"text-align:center\"><code>%PROGRAMDATA\\jupyter\\kernels</code></td></tr><tr><td style=\"text-align:center\"><code>Env</code></td><td style=\"text-align:center\"><code>{sys.prefix}/share/jupyter/kernels</code></td><td style=\"text-align:center\"></td></tr><tr><td style=\"text-align:center\"><code>User</code></td><td style=\"text-align:center\"><code>~/Library/Jupyter/kernels</code> (Mac)<br><code>~/.local/share/jupyter/kernels</code> (Linux)</td><td style=\"text-align:center\"><code>%APPDATA%\\jupyter\\kernels</code></td></tr></tbody></table><!-- rebuild by neat -->"},{"title":"matplotlib 技巧","mathjax":false,"toc":true,"abbrlink":1362387800,"date":"2018-09-19T08:04:13.000Z","_content":"\n收集各种技巧、解决问题的办法。不断加深理解、熟悉`matplotlib`的使用。\n\n# 中文\n\n**查看支持的中文字体**\n\n运行如下代码\n\n```python\nfrom matplotlib.font_manager import FontManager\nimport subprocess\n\nfm = FontManager()\nmat_fonts = set(f.name for f in fm.ttflist)\n\noutput = subprocess.check_output(\n    'fc-list :lang=zh -f \"%{family}\\n\"', shell=True)\n\nzh_fonts = set(f.split(',', 1)[0] for f in output.split('\\n'))\navailable = mat_fonts & zh_fonts\n\n# 可用中文字体\nfor f in available:\n    print f\n```\n\n尝试发现`matplotlib`自带了一个可以显示中文的字体`Arial Unicode MS`。于是可以如下设置，不用下载字体，不用修改`matplotlib`配置文件。\n\n```python\nfrom matplotlib import rcParams\nrcParams['font.sans-serif'] = ['Arial Unicode MS']\n```\n\n搞定中文乱码！\n\n\n# Figure\n\n## 设置图片大小\n\n`px(pixel), inch, pt(point)`三者之间的关系为\n\n```bash\n1 px = constant size on screen\n1 inch = dpi px     # dpi is variable\n1 inch = 72 pt      # 确定关系\n```\n\n\n**Figure size (`figsize`)** 决定`figure`的尺寸，单位为`inches`。默认大小为`[6.4, 4.8]`。\n\n**Dots per inches (dpi)** 决定`figure`包含多少像素。默认大小为100。设置为`figsize=(w,h)`的`figure`包含\n\n```python\npx, py = w * dpi, h * dpi   # pixels\n# e.g.\n# 6.4 inches * 100 dpi = 640 pixels\n```\n\n因此若要获得例如`(1200, 600)`大小的`figure`，单位为`pixel`，可以有各种不同的组合方式\n\n```python\nfigsize = (15. 7.5), dpi = 80\nfigsize = (12. 6)  , dpi = 100\nfigsize = (8, 4)   , dpi = 150\nfigsize = (6, 3)   , dpi = 200\n```\n\n以上组合方式的不同之处在哪里？\n\n差异在图形中线条、文字的粗细不同。`figure`中大多数元素如线条、标记、文本的`size`的单位为`points`。`Matplotlib`设置 **Points per inch (ppi)** 等于72。因此无论 `dpi` 等于多少，一英寸只画72个点。或者说 `dpi` 决定线条粗细，`figsize`决定内容多少。\n\n<div align=\"center\">\n  <img src=\"{%asset_path Figure_1.png %}\" width=\"100\"><img src=\"{%asset_path Figure_2.png %}\" width=\"100\">\n</div>\n<div align=\"center\">\n  <img src=\"{%asset_path Figure_3.png %}\" width=\"200\"><img src=\"{%asset_path Figure_4.png %}\" width=\"200\">\n</div>\n<div align=\"center\">\n  <img src=\"{%asset_path Figure_5.png %}\" width=\"400\"><img src=\"{%asset_path Figure_6.png %}\" width=\"400\">\n</div>\n","source":"_posts/matplotlib-tips.md","raw":"---\ntitle: matplotlib 技巧\nmathjax: false\ntoc: true\ncategories:\n  - python\n  - matplotlib\ntags:\n  - matplotlib\nabbrlink: 1362387800\ndate: 2018-09-19 16:04:13\n---\n\n收集各种技巧、解决问题的办法。不断加深理解、熟悉`matplotlib`的使用。\n\n# 中文\n\n**查看支持的中文字体**\n\n运行如下代码\n\n```python\nfrom matplotlib.font_manager import FontManager\nimport subprocess\n\nfm = FontManager()\nmat_fonts = set(f.name for f in fm.ttflist)\n\noutput = subprocess.check_output(\n    'fc-list :lang=zh -f \"%{family}\\n\"', shell=True)\n\nzh_fonts = set(f.split(',', 1)[0] for f in output.split('\\n'))\navailable = mat_fonts & zh_fonts\n\n# 可用中文字体\nfor f in available:\n    print f\n```\n\n尝试发现`matplotlib`自带了一个可以显示中文的字体`Arial Unicode MS`。于是可以如下设置，不用下载字体，不用修改`matplotlib`配置文件。\n\n```python\nfrom matplotlib import rcParams\nrcParams['font.sans-serif'] = ['Arial Unicode MS']\n```\n\n搞定中文乱码！\n\n\n# Figure\n\n## 设置图片大小\n\n`px(pixel), inch, pt(point)`三者之间的关系为\n\n```bash\n1 px = constant size on screen\n1 inch = dpi px     # dpi is variable\n1 inch = 72 pt      # 确定关系\n```\n\n\n**Figure size (`figsize`)** 决定`figure`的尺寸，单位为`inches`。默认大小为`[6.4, 4.8]`。\n\n**Dots per inches (dpi)** 决定`figure`包含多少像素。默认大小为100。设置为`figsize=(w,h)`的`figure`包含\n\n```python\npx, py = w * dpi, h * dpi   # pixels\n# e.g.\n# 6.4 inches * 100 dpi = 640 pixels\n```\n\n因此若要获得例如`(1200, 600)`大小的`figure`，单位为`pixel`，可以有各种不同的组合方式\n\n```python\nfigsize = (15. 7.5), dpi = 80\nfigsize = (12. 6)  , dpi = 100\nfigsize = (8, 4)   , dpi = 150\nfigsize = (6, 3)   , dpi = 200\n```\n\n以上组合方式的不同之处在哪里？\n\n差异在图形中线条、文字的粗细不同。`figure`中大多数元素如线条、标记、文本的`size`的单位为`points`。`Matplotlib`设置 **Points per inch (ppi)** 等于72。因此无论 `dpi` 等于多少，一英寸只画72个点。或者说 `dpi` 决定线条粗细，`figsize`决定内容多少。\n\n<div align=\"center\">\n  <img src=\"{%asset_path Figure_1.png %}\" width=\"100\"><img src=\"{%asset_path Figure_2.png %}\" width=\"100\">\n</div>\n<div align=\"center\">\n  <img src=\"{%asset_path Figure_3.png %}\" width=\"200\"><img src=\"{%asset_path Figure_4.png %}\" width=\"200\">\n</div>\n<div align=\"center\">\n  <img src=\"{%asset_path Figure_5.png %}\" width=\"400\"><img src=\"{%asset_path Figure_6.png %}\" width=\"400\">\n</div>\n","slug":"matplotlib-tips","published":1,"updated":"2019-04-21T01:58:28.757Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq820014h51jvo84m3xz","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p>收集各种技巧、解决问题的办法。不断加深理解、熟悉<code>matplotlib</code>的使用。</p><h1 id=\"中文\"><a class=\"markdownIt-Anchor\" href=\"#中文\"></a> 中文</h1><p><strong>查看支持的中文字体</strong></p><p>运行如下代码</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> matplotlib.font_manager <span class=\"keyword\">import</span> FontManager</span><br><span class=\"line\"><span class=\"keyword\">import</span> subprocess</span><br><span class=\"line\"></span><br><span class=\"line\">fm = FontManager()</span><br><span class=\"line\">mat_fonts = set(f.name <span class=\"keyword\">for</span> f <span class=\"keyword\">in</span> fm.ttflist)</span><br><span class=\"line\"></span><br><span class=\"line\">output = subprocess.check_output(</span><br><span class=\"line\">    <span class=\"string\">'fc-list :lang=zh -f \"%&#123;family&#125;\\n\"'</span>, shell=<span class=\"literal\">True</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">zh_fonts = set(f.split(<span class=\"string\">','</span>, <span class=\"number\">1</span>)[<span class=\"number\">0</span>] <span class=\"keyword\">for</span> f <span class=\"keyword\">in</span> output.split(<span class=\"string\">'\\n'</span>))</span><br><span class=\"line\">available = mat_fonts &amp; zh_fonts</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 可用中文字体</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> f <span class=\"keyword\">in</span> available:</span><br><span class=\"line\">    <span class=\"keyword\">print</span> f</span><br></pre></td></tr></table></figure><p>尝试发现<code>matplotlib</code>自带了一个可以显示中文的字体<code>Arial Unicode MS</code>。于是可以如下设置，不用下载字体，不用修改<code>matplotlib</code>配置文件。</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> matplotlib <span class=\"keyword\">import</span> rcParams</span><br><span class=\"line\">rcParams[<span class=\"string\">'font.sans-serif'</span>] = [<span class=\"string\">'Arial Unicode MS'</span>]</span><br></pre></td></tr></table></figure><p>搞定中文乱码！</p><h1 id=\"figure\"><a class=\"markdownIt-Anchor\" href=\"#figure\"></a> Figure</h1><h2 id=\"设置图片大小\"><a class=\"markdownIt-Anchor\" href=\"#设置图片大小\"></a> 设置图片大小</h2><p><code>px(pixel), inch, pt(point)</code>三者之间的关系为</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 px = constant size on screen</span><br><span class=\"line\">1 inch = dpi px     <span class=\"comment\"># dpi is variable</span></span><br><span class=\"line\">1 inch = 72 pt      <span class=\"comment\"># 确定关系</span></span><br></pre></td></tr></table></figure><p><strong>Figure size (<code>figsize</code>)</strong> 决定<code>figure</code>的尺寸，单位为<code>inches</code>。默认大小为<code>[6.4, 4.8]</code>。</p><p><strong>Dots per inches (dpi)</strong> 决定<code>figure</code>包含多少像素。默认大小为100。设置为<code>figsize=(w,h)</code>的<code>figure</code>包含</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">px, py = w * dpi, h * dpi   <span class=\"comment\"># pixels</span></span><br><span class=\"line\"><span class=\"comment\"># e.g.</span></span><br><span class=\"line\"><span class=\"comment\"># 6.4 inches * 100 dpi = 640 pixels</span></span><br></pre></td></tr></table></figure><p>因此若要获得例如<code>(1200, 600)</code>大小的<code>figure</code>，单位为<code>pixel</code>，可以有各种不同的组合方式</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">figsize = (<span class=\"number\">15.</span> <span class=\"number\">7.5</span>), dpi = <span class=\"number\">80</span></span><br><span class=\"line\">figsize = (<span class=\"number\">12.</span> <span class=\"number\">6</span>)  , dpi = <span class=\"number\">100</span></span><br><span class=\"line\">figsize = (<span class=\"number\">8</span>, <span class=\"number\">4</span>)   , dpi = <span class=\"number\">150</span></span><br><span class=\"line\">figsize = (<span class=\"number\">6</span>, <span class=\"number\">3</span>)   , dpi = <span class=\"number\">200</span></span><br></pre></td></tr></table></figure><p>以上组合方式的不同之处在哪里？</p><p>差异在图形中线条、文字的粗细不同。<code>figure</code>中大多数元素如线条、标记、文本的<code>size</code>的单位为<code>points</code>。<code>Matplotlib</code>设置 <strong>Points per inch (ppi)</strong> 等于72。因此无论 <code>dpi</code> 等于多少，一英寸只画72个点。或者说 <code>dpi</code> 决定线条粗细，<code>figsize</code>决定内容多少。</p><div align=\"center\"><img src=\"/posts/1362387800/Figure_1.png\" width=\"100\"><img src=\"/posts/1362387800/Figure_2.png\" width=\"100\"></div><div align=\"center\"><img src=\"/posts/1362387800/Figure_3.png\" width=\"200\"><img src=\"/posts/1362387800/Figure_4.png\" width=\"200\"></div><div align=\"center\"><img src=\"/posts/1362387800/Figure_5.png\" width=\"400\"><img src=\"/posts/1362387800/Figure_6.png\" width=\"400\"></div><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p>收集各种技巧、解决问题的办法。不断加深理解、熟悉<code>matplotlib</code>的使用。</p><h1 id=\"中文\"><a class=\"markdownIt-Anchor\" href=\"#中文\"></a> 中文</h1><p><strong>查看支持的中文字体</strong></p><p>运行如下代码</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> matplotlib.font_manager <span class=\"keyword\">import</span> FontManager</span><br><span class=\"line\"><span class=\"keyword\">import</span> subprocess</span><br><span class=\"line\"></span><br><span class=\"line\">fm = FontManager()</span><br><span class=\"line\">mat_fonts = set(f.name <span class=\"keyword\">for</span> f <span class=\"keyword\">in</span> fm.ttflist)</span><br><span class=\"line\"></span><br><span class=\"line\">output = subprocess.check_output(</span><br><span class=\"line\">    <span class=\"string\">'fc-list :lang=zh -f \"%&#123;family&#125;\\n\"'</span>, shell=<span class=\"literal\">True</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">zh_fonts = set(f.split(<span class=\"string\">','</span>, <span class=\"number\">1</span>)[<span class=\"number\">0</span>] <span class=\"keyword\">for</span> f <span class=\"keyword\">in</span> output.split(<span class=\"string\">'\\n'</span>))</span><br><span class=\"line\">available = mat_fonts &amp; zh_fonts</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 可用中文字体</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> f <span class=\"keyword\">in</span> available:</span><br><span class=\"line\">    <span class=\"keyword\">print</span> f</span><br></pre></td></tr></table></figure><p>尝试发现<code>matplotlib</code>自带了一个可以显示中文的字体<code>Arial Unicode MS</code>。于是可以如下设置，不用下载字体，不用修改<code>matplotlib</code>配置文件。</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> matplotlib <span class=\"keyword\">import</span> rcParams</span><br><span class=\"line\">rcParams[<span class=\"string\">'font.sans-serif'</span>] = [<span class=\"string\">'Arial Unicode MS'</span>]</span><br></pre></td></tr></table></figure><p>搞定中文乱码！</p><h1 id=\"figure\"><a class=\"markdownIt-Anchor\" href=\"#figure\"></a> Figure</h1><h2 id=\"设置图片大小\"><a class=\"markdownIt-Anchor\" href=\"#设置图片大小\"></a> 设置图片大小</h2><p><code>px(pixel), inch, pt(point)</code>三者之间的关系为</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 px = constant size on screen</span><br><span class=\"line\">1 inch = dpi px     <span class=\"comment\"># dpi is variable</span></span><br><span class=\"line\">1 inch = 72 pt      <span class=\"comment\"># 确定关系</span></span><br></pre></td></tr></table></figure><p><strong>Figure size (<code>figsize</code>)</strong> 决定<code>figure</code>的尺寸，单位为<code>inches</code>。默认大小为<code>[6.4, 4.8]</code>。</p><p><strong>Dots per inches (dpi)</strong> 决定<code>figure</code>包含多少像素。默认大小为100。设置为<code>figsize=(w,h)</code>的<code>figure</code>包含</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">px, py = w * dpi, h * dpi   <span class=\"comment\"># pixels</span></span><br><span class=\"line\"><span class=\"comment\"># e.g.</span></span><br><span class=\"line\"><span class=\"comment\"># 6.4 inches * 100 dpi = 640 pixels</span></span><br></pre></td></tr></table></figure><p>因此若要获得例如<code>(1200, 600)</code>大小的<code>figure</code>，单位为<code>pixel</code>，可以有各种不同的组合方式</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">figsize = (<span class=\"number\">15.</span> <span class=\"number\">7.5</span>), dpi = <span class=\"number\">80</span></span><br><span class=\"line\">figsize = (<span class=\"number\">12.</span> <span class=\"number\">6</span>)  , dpi = <span class=\"number\">100</span></span><br><span class=\"line\">figsize = (<span class=\"number\">8</span>, <span class=\"number\">4</span>)   , dpi = <span class=\"number\">150</span></span><br><span class=\"line\">figsize = (<span class=\"number\">6</span>, <span class=\"number\">3</span>)   , dpi = <span class=\"number\">200</span></span><br></pre></td></tr></table></figure><p>以上组合方式的不同之处在哪里？</p><p>差异在图形中线条、文字的粗细不同。<code>figure</code>中大多数元素如线条、标记、文本的<code>size</code>的单位为<code>points</code>。<code>Matplotlib</code>设置 <strong>Points per inch (ppi)</strong> 等于72。因此无论 <code>dpi</code> 等于多少，一英寸只画72个点。或者说 <code>dpi</code> 决定线条粗细，<code>figsize</code>决定内容多少。</p><div align=\"center\"><img src=\"/posts/1362387800/Figure_1.png\" width=\"100\"><img src=\"/posts/1362387800/Figure_2.png\" width=\"100\"></div><div align=\"center\"><img src=\"/posts/1362387800/Figure_3.png\" width=\"200\"><img src=\"/posts/1362387800/Figure_4.png\" width=\"200\"></div><div align=\"center\"><img src=\"/posts/1362387800/Figure_5.png\" width=\"400\"><img src=\"/posts/1362387800/Figure_6.png\" width=\"400\"></div><!-- rebuild by neat -->"},{"title":"pandas 简介","mathjax":false,"toc":true,"abbrlink":1982572123,"date":"2018-09-21T06:22:14.000Z","_content":"\n**学习目标**\n\n- 大致了解*pandas*库的`DataFrame`和`Series`数据结构\n- 存取和处理`DataFrame`和`Series`中的数据\n- 将`CSV`数据导入`pandas`库的`DataFrame`\n- 对`DataFrame`重建索引来随机打乱数据\n\n[<u>*pandas*</u>](http://pandas.pydata.org) 是一种存列数据分析`API`。它是用于处理和分析输入数据的强大工具，很多机器学习框架都支持将*pandas*数据结构作为输入。本文只介绍它的核心概念。有关更完整的参考，请访问 [<u>*pandas*文档网站</u>](http://pandas.pydata.org/pandas-docs/stable/index.html)。\n\n\n# 基本概念\n\n导入*pandas* API 并输出相应的 API 版本：\n\n```python\nfrom __future__ import print_function\n\nimport pandas as pd\npd.__version__\n```\n```python\nu'0.22.2'\n```\n\n*pandas*中主要的数据被实现为以下两类：\n\n- **DataFrame**，可以想象成一个`Excel`表，包含多个行和已命名的列。\n- **Series**，它是单一列。DataFrame 中包含一个或多个 Series，每个 Series\n  均有一个名称。\n\n数据框架是用于 数据操控的一种常用抽象实现形式。 [<u>Spark</u>](https://spark.apache.org)和 [<u>R</u>](https://www.r-project.org/about.html)中也有类似的实现。\n\n创建 Series 的一种方法时构建 Series 对象。例如：\n\n```python\npd.Series(['San Francisco', 'San Jose', 'Sacramento'])\n```\n\nDataFrame 和字典很像，Series 对应字典的 **键-值对**，Series 的名称为**键**，数据为**值**。例如像下面这样创建 DataFrame 对象：\n\n```python\ncity_names = pd.Series(['San Francisco', 'San Jose', 'Sacramento'])\npopulation = pd.Series([852469, 1015785, 485199])\n\npd.DataFrame({'City name': city_names, 'Population': population})\n```\n\n 但在大多数情况下，是将整个文件加载到 DataFrame 中。\n\n ```python\n data = pd.read_csv('path or url', *args, **kwargs)\n ```\n\n# 访问数据\n\n前面提到，DataFrame 和字典很像，还体现在访问数据的方式上。\n\n```python\ncities['City name']     # 返回名称为 City name 的 Series\n\ncities[0:2]     # 返回所有 Series 的前两个值构建的 DataFrame\n```\n\n此外，*pandas*针对高级 [<u>索引和选择</u>](http://pandas.pydata.org/pandas-docs/stable/indexing.html)提供了机器丰富的 API。\n\n# 操控数据\n\n可以向 Series 应用 Python 的基本运算指令。例如：\n\n```python\npopulation / 1000.\n```\n\n[<u>Numpy</u>](http://www.numpy.org)是一种用于进行科学计算的常用工具包。*pandas\nSeries* 可用作大多数 Numpy 函数的参数：\n\n```python\nimport numpy as np\nnp.log(population)\n```\n\n对于更复杂的单列转换，可以使用 Series.apply。像 Python [<u>映射函数</u>](https://docs.python.org/2/library/functions.html#map)一样，Series.apply 将以参数形式接受 [<u>lambda函数</u>](https://docs.python.org/2/tutorial/controlflow.html#lambda-expressions)，而该函数会应用于每个值。\n下面的示例创建了一个指明 population 是否超过 100 万的新 Series：\n\n```python\npopulation.apply(lambda val: val > 1000000)\n\n0    False\n1     True\n2    False\ndtype: bool\n```\n\nDataFrame 的修改方式也非常简单。例如，以下代码向现有 DataFrame 添加了两个 Series：\n\n```python\ncities['Area square miles'] = pd.Series([46.87, 176.53, 97.92])\ncities['Population density'] = cities['Population'] / cities['Area square miles']\ncities\n```\n\n\n","source":"_posts/pandas-guide.md","raw":"---\ntitle: pandas 简介\nmathjax: false\ntoc: true\nabbrlink: 1982572123\ndate: 2018-09-21 14:22:14\ncategory:\n  - Python\n  - Pandas\ntags:\n  - Python\n  - Pandas\n---\n\n**学习目标**\n\n- 大致了解*pandas*库的`DataFrame`和`Series`数据结构\n- 存取和处理`DataFrame`和`Series`中的数据\n- 将`CSV`数据导入`pandas`库的`DataFrame`\n- 对`DataFrame`重建索引来随机打乱数据\n\n[<u>*pandas*</u>](http://pandas.pydata.org) 是一种存列数据分析`API`。它是用于处理和分析输入数据的强大工具，很多机器学习框架都支持将*pandas*数据结构作为输入。本文只介绍它的核心概念。有关更完整的参考，请访问 [<u>*pandas*文档网站</u>](http://pandas.pydata.org/pandas-docs/stable/index.html)。\n\n\n# 基本概念\n\n导入*pandas* API 并输出相应的 API 版本：\n\n```python\nfrom __future__ import print_function\n\nimport pandas as pd\npd.__version__\n```\n```python\nu'0.22.2'\n```\n\n*pandas*中主要的数据被实现为以下两类：\n\n- **DataFrame**，可以想象成一个`Excel`表，包含多个行和已命名的列。\n- **Series**，它是单一列。DataFrame 中包含一个或多个 Series，每个 Series\n  均有一个名称。\n\n数据框架是用于 数据操控的一种常用抽象实现形式。 [<u>Spark</u>](https://spark.apache.org)和 [<u>R</u>](https://www.r-project.org/about.html)中也有类似的实现。\n\n创建 Series 的一种方法时构建 Series 对象。例如：\n\n```python\npd.Series(['San Francisco', 'San Jose', 'Sacramento'])\n```\n\nDataFrame 和字典很像，Series 对应字典的 **键-值对**，Series 的名称为**键**，数据为**值**。例如像下面这样创建 DataFrame 对象：\n\n```python\ncity_names = pd.Series(['San Francisco', 'San Jose', 'Sacramento'])\npopulation = pd.Series([852469, 1015785, 485199])\n\npd.DataFrame({'City name': city_names, 'Population': population})\n```\n\n 但在大多数情况下，是将整个文件加载到 DataFrame 中。\n\n ```python\n data = pd.read_csv('path or url', *args, **kwargs)\n ```\n\n# 访问数据\n\n前面提到，DataFrame 和字典很像，还体现在访问数据的方式上。\n\n```python\ncities['City name']     # 返回名称为 City name 的 Series\n\ncities[0:2]     # 返回所有 Series 的前两个值构建的 DataFrame\n```\n\n此外，*pandas*针对高级 [<u>索引和选择</u>](http://pandas.pydata.org/pandas-docs/stable/indexing.html)提供了机器丰富的 API。\n\n# 操控数据\n\n可以向 Series 应用 Python 的基本运算指令。例如：\n\n```python\npopulation / 1000.\n```\n\n[<u>Numpy</u>](http://www.numpy.org)是一种用于进行科学计算的常用工具包。*pandas\nSeries* 可用作大多数 Numpy 函数的参数：\n\n```python\nimport numpy as np\nnp.log(population)\n```\n\n对于更复杂的单列转换，可以使用 Series.apply。像 Python [<u>映射函数</u>](https://docs.python.org/2/library/functions.html#map)一样，Series.apply 将以参数形式接受 [<u>lambda函数</u>](https://docs.python.org/2/tutorial/controlflow.html#lambda-expressions)，而该函数会应用于每个值。\n下面的示例创建了一个指明 population 是否超过 100 万的新 Series：\n\n```python\npopulation.apply(lambda val: val > 1000000)\n\n0    False\n1     True\n2    False\ndtype: bool\n```\n\nDataFrame 的修改方式也非常简单。例如，以下代码向现有 DataFrame 添加了两个 Series：\n\n```python\ncities['Area square miles'] = pd.Series([46.87, 176.53, 97.92])\ncities['Population density'] = cities['Population'] / cities['Area square miles']\ncities\n```\n\n\n","slug":"pandas-guide","published":1,"updated":"2019-04-21T01:58:28.761Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq840016h51jl5ovv4ad","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p><strong>学习目标</strong></p><ul><li>大致了解<em>pandas</em>库的<code>DataFrame</code>和<code>Series</code>数据结构</li><li>存取和处理<code>DataFrame</code>和<code>Series</code>中的数据</li><li>将<code>CSV</code>数据导入<code>pandas</code>库的<code>DataFrame</code></li><li>对<code>DataFrame</code>重建索引来随机打乱数据</li></ul><p><a href=\"http://pandas.pydata.org\" target=\"_blank\" rel=\"noopener\"><u><em>pandas</em></u></a> 是一种存列数据分析<code>API</code>。它是用于处理和分析输入数据的强大工具，很多机器学习框架都支持将<em>pandas</em>数据结构作为输入。本文只介绍它的核心概念。有关更完整的参考，请访问 <a href=\"http://pandas.pydata.org/pandas-docs/stable/index.html\" target=\"_blank\" rel=\"noopener\"><u><em>pandas</em>文档网站</u></a>。</p><h1 id=\"基本概念\"><a class=\"markdownIt-Anchor\" href=\"#基本概念\"></a> 基本概念</h1><p>导入<em>pandas</em> API 并输出相应的 API 版本：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> __future__ <span class=\"keyword\">import</span> print_function</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> pandas <span class=\"keyword\">as</span> pd</span><br><span class=\"line\">pd.__version__</span><br></pre></td></tr></table></figure><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">u'0.22.2'</span></span><br></pre></td></tr></table></figure><p><em>pandas</em>中主要的数据被实现为以下两类：</p><ul><li><strong>DataFrame</strong>，可以想象成一个<code>Excel</code>表，包含多个行和已命名的列。</li><li><strong>Series</strong>，它是单一列。DataFrame 中包含一个或多个 Series，每个 Series<br>均有一个名称。</li></ul><p>数据框架是用于 数据操控的一种常用抽象实现形式。 <a href=\"https://spark.apache.org\" target=\"_blank\" rel=\"noopener\"><u>Spark</u></a>和 <a href=\"https://www.r-project.org/about.html\" target=\"_blank\" rel=\"noopener\"><u>R</u></a>中也有类似的实现。</p><p>创建 Series 的一种方法时构建 Series 对象。例如：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pd.Series([<span class=\"string\">'San Francisco'</span>, <span class=\"string\">'San Jose'</span>, <span class=\"string\">'Sacramento'</span>])</span><br></pre></td></tr></table></figure><p>DataFrame 和字典很像，Series 对应字典的 <strong>键-值对</strong>，Series 的名称为<strong>键</strong>，数据为<strong>值</strong>。例如像下面这样创建 DataFrame 对象：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">city_names = pd.Series([<span class=\"string\">'San Francisco'</span>, <span class=\"string\">'San Jose'</span>, <span class=\"string\">'Sacramento'</span>])</span><br><span class=\"line\">population = pd.Series([<span class=\"number\">852469</span>, <span class=\"number\">1015785</span>, <span class=\"number\">485199</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">pd.DataFrame(&#123;<span class=\"string\">'City name'</span>: city_names, <span class=\"string\">'Population'</span>: population&#125;)</span><br></pre></td></tr></table></figure><p>但在大多数情况下，是将整个文件加载到 DataFrame 中。</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data = pd.read_csv(<span class=\"string\">'path or url'</span>, *args, **kwargs)</span><br></pre></td></tr></table></figure><h1 id=\"访问数据\"><a class=\"markdownIt-Anchor\" href=\"#访问数据\"></a> 访问数据</h1><p>前面提到，DataFrame 和字典很像，还体现在访问数据的方式上。</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cities[<span class=\"string\">'City name'</span>]     <span class=\"comment\"># 返回名称为 City name 的 Series</span></span><br><span class=\"line\"></span><br><span class=\"line\">cities[<span class=\"number\">0</span>:<span class=\"number\">2</span>]     <span class=\"comment\"># 返回所有 Series 的前两个值构建的 DataFrame</span></span><br></pre></td></tr></table></figure><p>此外，<em>pandas</em>针对高级 <a href=\"http://pandas.pydata.org/pandas-docs/stable/indexing.html\" target=\"_blank\" rel=\"noopener\"><u>索引和选择</u></a>提供了机器丰富的 API。</p><h1 id=\"操控数据\"><a class=\"markdownIt-Anchor\" href=\"#操控数据\"></a> 操控数据</h1><p>可以向 Series 应用 Python 的基本运算指令。例如：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">population / <span class=\"number\">1000.</span></span><br></pre></td></tr></table></figure><p><a href=\"http://www.numpy.org\" target=\"_blank\" rel=\"noopener\"><u>Numpy</u></a>是一种用于进行科学计算的常用工具包。<em>pandas<br>Series</em> 可用作大多数 Numpy 函数的参数：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\">np.log(population)</span><br></pre></td></tr></table></figure><p>对于更复杂的单列转换，可以使用 Series.apply。像 Python <a href=\"https://docs.python.org/2/library/functions.html#map\" target=\"_blank\" rel=\"noopener\"><u>映射函数</u></a>一样，Series.apply 将以参数形式接受 <a href=\"https://docs.python.org/2/tutorial/controlflow.html#lambda-expressions\" target=\"_blank\" rel=\"noopener\"><u>lambda函数</u></a>，而该函数会应用于每个值。<br>下面的示例创建了一个指明 population 是否超过 100 万的新 Series：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">population.apply(<span class=\"keyword\">lambda</span> val: val &gt; <span class=\"number\">1000000</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0</span>    <span class=\"literal\">False</span></span><br><span class=\"line\"><span class=\"number\">1</span>     <span class=\"literal\">True</span></span><br><span class=\"line\"><span class=\"number\">2</span>    <span class=\"literal\">False</span></span><br><span class=\"line\">dtype: bool</span><br></pre></td></tr></table></figure><p>DataFrame 的修改方式也非常简单。例如，以下代码向现有 DataFrame 添加了两个 Series：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cities[<span class=\"string\">'Area square miles'</span>] = pd.Series([<span class=\"number\">46.87</span>, <span class=\"number\">176.53</span>, <span class=\"number\">97.92</span>])</span><br><span class=\"line\">cities[<span class=\"string\">'Population density'</span>] = cities[<span class=\"string\">'Population'</span>] / cities[<span class=\"string\">'Area square miles'</span>]</span><br><span class=\"line\">cities</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p><strong>学习目标</strong></p><ul><li>大致了解<em>pandas</em>库的<code>DataFrame</code>和<code>Series</code>数据结构</li><li>存取和处理<code>DataFrame</code>和<code>Series</code>中的数据</li><li>将<code>CSV</code>数据导入<code>pandas</code>库的<code>DataFrame</code></li><li>对<code>DataFrame</code>重建索引来随机打乱数据</li></ul><p><a href=\"http://pandas.pydata.org\" target=\"_blank\" rel=\"noopener\"><u><em>pandas</em></u></a> 是一种存列数据分析<code>API</code>。它是用于处理和分析输入数据的强大工具，很多机器学习框架都支持将<em>pandas</em>数据结构作为输入。本文只介绍它的核心概念。有关更完整的参考，请访问 <a href=\"http://pandas.pydata.org/pandas-docs/stable/index.html\" target=\"_blank\" rel=\"noopener\"><u><em>pandas</em>文档网站</u></a>。</p><h1 id=\"基本概念\"><a class=\"markdownIt-Anchor\" href=\"#基本概念\"></a> 基本概念</h1><p>导入<em>pandas</em> API 并输出相应的 API 版本：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> __future__ <span class=\"keyword\">import</span> print_function</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> pandas <span class=\"keyword\">as</span> pd</span><br><span class=\"line\">pd.__version__</span><br></pre></td></tr></table></figure><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">u'0.22.2'</span></span><br></pre></td></tr></table></figure><p><em>pandas</em>中主要的数据被实现为以下两类：</p><ul><li><strong>DataFrame</strong>，可以想象成一个<code>Excel</code>表，包含多个行和已命名的列。</li><li><strong>Series</strong>，它是单一列。DataFrame 中包含一个或多个 Series，每个 Series<br>均有一个名称。</li></ul><p>数据框架是用于 数据操控的一种常用抽象实现形式。 <a href=\"https://spark.apache.org\" target=\"_blank\" rel=\"noopener\"><u>Spark</u></a>和 <a href=\"https://www.r-project.org/about.html\" target=\"_blank\" rel=\"noopener\"><u>R</u></a>中也有类似的实现。</p><p>创建 Series 的一种方法时构建 Series 对象。例如：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pd.Series([<span class=\"string\">'San Francisco'</span>, <span class=\"string\">'San Jose'</span>, <span class=\"string\">'Sacramento'</span>])</span><br></pre></td></tr></table></figure><p>DataFrame 和字典很像，Series 对应字典的 <strong>键-值对</strong>，Series 的名称为<strong>键</strong>，数据为<strong>值</strong>。例如像下面这样创建 DataFrame 对象：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">city_names = pd.Series([<span class=\"string\">'San Francisco'</span>, <span class=\"string\">'San Jose'</span>, <span class=\"string\">'Sacramento'</span>])</span><br><span class=\"line\">population = pd.Series([<span class=\"number\">852469</span>, <span class=\"number\">1015785</span>, <span class=\"number\">485199</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">pd.DataFrame(&#123;<span class=\"string\">'City name'</span>: city_names, <span class=\"string\">'Population'</span>: population&#125;)</span><br></pre></td></tr></table></figure><p>但在大多数情况下，是将整个文件加载到 DataFrame 中。</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data = pd.read_csv(<span class=\"string\">'path or url'</span>, *args, **kwargs)</span><br></pre></td></tr></table></figure><h1 id=\"访问数据\"><a class=\"markdownIt-Anchor\" href=\"#访问数据\"></a> 访问数据</h1><p>前面提到，DataFrame 和字典很像，还体现在访问数据的方式上。</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cities[<span class=\"string\">'City name'</span>]     <span class=\"comment\"># 返回名称为 City name 的 Series</span></span><br><span class=\"line\"></span><br><span class=\"line\">cities[<span class=\"number\">0</span>:<span class=\"number\">2</span>]     <span class=\"comment\"># 返回所有 Series 的前两个值构建的 DataFrame</span></span><br></pre></td></tr></table></figure><p>此外，<em>pandas</em>针对高级 <a href=\"http://pandas.pydata.org/pandas-docs/stable/indexing.html\" target=\"_blank\" rel=\"noopener\"><u>索引和选择</u></a>提供了机器丰富的 API。</p><h1 id=\"操控数据\"><a class=\"markdownIt-Anchor\" href=\"#操控数据\"></a> 操控数据</h1><p>可以向 Series 应用 Python 的基本运算指令。例如：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">population / <span class=\"number\">1000.</span></span><br></pre></td></tr></table></figure><p><a href=\"http://www.numpy.org\" target=\"_blank\" rel=\"noopener\"><u>Numpy</u></a>是一种用于进行科学计算的常用工具包。<em>pandas<br>Series</em> 可用作大多数 Numpy 函数的参数：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\">np.log(population)</span><br></pre></td></tr></table></figure><p>对于更复杂的单列转换，可以使用 Series.apply。像 Python <a href=\"https://docs.python.org/2/library/functions.html#map\" target=\"_blank\" rel=\"noopener\"><u>映射函数</u></a>一样，Series.apply 将以参数形式接受 <a href=\"https://docs.python.org/2/tutorial/controlflow.html#lambda-expressions\" target=\"_blank\" rel=\"noopener\"><u>lambda函数</u></a>，而该函数会应用于每个值。<br>下面的示例创建了一个指明 population 是否超过 100 万的新 Series：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">population.apply(<span class=\"keyword\">lambda</span> val: val &gt; <span class=\"number\">1000000</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0</span>    <span class=\"literal\">False</span></span><br><span class=\"line\"><span class=\"number\">1</span>     <span class=\"literal\">True</span></span><br><span class=\"line\"><span class=\"number\">2</span>    <span class=\"literal\">False</span></span><br><span class=\"line\">dtype: bool</span><br></pre></td></tr></table></figure><p>DataFrame 的修改方式也非常简单。例如，以下代码向现有 DataFrame 添加了两个 Series：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cities[<span class=\"string\">'Area square miles'</span>] = pd.Series([<span class=\"number\">46.87</span>, <span class=\"number\">176.53</span>, <span class=\"number\">97.92</span>])</span><br><span class=\"line\">cities[<span class=\"string\">'Population density'</span>] = cities[<span class=\"string\">'Population'</span>] / cities[<span class=\"string\">'Area square miles'</span>]</span><br><span class=\"line\">cities</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"physics-oscillation","mathjax":true,"toc":true,"abbrlink":3976093928,"date":"2018-09-24T02:32:26.000Z","_content":"\n[参考](http://www2.hkedcity.net/sch_files/a/fms/fms-physics/public_html/resource/pdf/a8-damping.pdf)\n\n#  阻尼振动\n\n- 以弹簧为模型讨论，当考虑空气阻力时，运动方程为\n  $$\n    ma = -kx - bv\n  $$\n  阻尼系数$b$可以随时间变化\n\n- 阻尼振动的结果\n  - 振动为周期运动，周期由劲度系数$k$和阻尼系数$b$共同决定\n    $\\omega = \\sqrt{\\dfrac{k}{m}}\\rightarrow \\omega_N = \\sqrt{\\dfrac{k}{m}-\\dfrac{\\gamma^2}{4}}$\n\n  - 振幅随时间减小\n\n    $A \\rightarrow A_N = Ae^{-\\gamma t / 2}$\n\n- 图像表示\n\n  {% asset_img damp-oscillation.png  %}\n\n# 定量分析\n\n- 运动方程可以改写为\n\n  $\\dfrac{d^2x}{dt^2} + \\gamma\\dfrac{dx}{dt} + \\omega^2x = 0$，\n  $\\gamma=\\dfrac{b}{m}$和$\\omega=\\sqrt{\\dfrac{k}{m}}$\n\n- 考虑同形式的复数方程\n\n  $\\dfrac{d^2Z}{dt^2} + \\gamma\\dfrac{dZ}{dt} + \\omega^2Z = 0$，\n\n  $Z$ 的实数部分即为阻尼方程的解。\n\n- 令$Z = Ce^{At}$，$A$和$C$为复常数，代入上式得到$A$的方程\n\n  $A^2 + \\gamma A + \\omega^2 = 0$\n\n- $A$的解为$A=-\\gamma/2\\pm i\\sqrt{\\omega^2-\\dfrac{\\gamma^2}{4}}$， 假设阻力不大，即$\\omega\\gt\\gamma/2$\n\n- $Z$的通解为$Z=e^{-\\gamma t/2}(C_1e^{+i\\omega_N t} + C_2e^{-i\\omega_N t})$\n- 故阻尼方程的解为\n\n  $x = Re(Z) = e^{-\\gamma t/2}[D\\cos(\\omega_N t) - E\\sin(\\omega_N t)]$，$D$ 和 $E$ 为常数。\n\n  令初始相位为$\\theta_0=\\tan^{-1}(\\dfrac{D}{E})$，$L=\\sqrt{D^2-E^2}$，$x$可以化简为\n\n  $x = Le^{-\\gamma t/2}\\cos(\\omega_N t + \\theta_0)$\n","source":"_posts/physics-oscillation.md","raw":"---\ntitle: physics-oscillation\nmathjax: true\ntoc: true\nabbrlink: 3976093928\ndate: 2018-09-24 10:32:26\ncategory:\n  - Physics\n  - Oscillation\ntags:\n  - Physics\n  - Oscillation\n---\n\n[参考](http://www2.hkedcity.net/sch_files/a/fms/fms-physics/public_html/resource/pdf/a8-damping.pdf)\n\n#  阻尼振动\n\n- 以弹簧为模型讨论，当考虑空气阻力时，运动方程为\n  $$\n    ma = -kx - bv\n  $$\n  阻尼系数$b$可以随时间变化\n\n- 阻尼振动的结果\n  - 振动为周期运动，周期由劲度系数$k$和阻尼系数$b$共同决定\n    $\\omega = \\sqrt{\\dfrac{k}{m}}\\rightarrow \\omega_N = \\sqrt{\\dfrac{k}{m}-\\dfrac{\\gamma^2}{4}}$\n\n  - 振幅随时间减小\n\n    $A \\rightarrow A_N = Ae^{-\\gamma t / 2}$\n\n- 图像表示\n\n  {% asset_img damp-oscillation.png  %}\n\n# 定量分析\n\n- 运动方程可以改写为\n\n  $\\dfrac{d^2x}{dt^2} + \\gamma\\dfrac{dx}{dt} + \\omega^2x = 0$，\n  $\\gamma=\\dfrac{b}{m}$和$\\omega=\\sqrt{\\dfrac{k}{m}}$\n\n- 考虑同形式的复数方程\n\n  $\\dfrac{d^2Z}{dt^2} + \\gamma\\dfrac{dZ}{dt} + \\omega^2Z = 0$，\n\n  $Z$ 的实数部分即为阻尼方程的解。\n\n- 令$Z = Ce^{At}$，$A$和$C$为复常数，代入上式得到$A$的方程\n\n  $A^2 + \\gamma A + \\omega^2 = 0$\n\n- $A$的解为$A=-\\gamma/2\\pm i\\sqrt{\\omega^2-\\dfrac{\\gamma^2}{4}}$， 假设阻力不大，即$\\omega\\gt\\gamma/2$\n\n- $Z$的通解为$Z=e^{-\\gamma t/2}(C_1e^{+i\\omega_N t} + C_2e^{-i\\omega_N t})$\n- 故阻尼方程的解为\n\n  $x = Re(Z) = e^{-\\gamma t/2}[D\\cos(\\omega_N t) - E\\sin(\\omega_N t)]$，$D$ 和 $E$ 为常数。\n\n  令初始相位为$\\theta_0=\\tan^{-1}(\\dfrac{D}{E})$，$L=\\sqrt{D^2-E^2}$，$x$可以化简为\n\n  $x = Le^{-\\gamma t/2}\\cos(\\omega_N t + \\theta_0)$\n","slug":"physics-oscillation","published":1,"updated":"2019-04-21T01:58:28.761Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq85001ah51jdsa892sa","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p><a href=\"http://www2.hkedcity.net/sch_files/a/fms/fms-physics/public_html/resource/pdf/a8-damping.pdf\" target=\"_blank\" rel=\"noopener\">参考</a></p><h1 id=\"阻尼振动\"><a class=\"markdownIt-Anchor\" href=\"#阻尼振动\"></a> 阻尼振动</h1><ul><li><p>以弹簧为模型讨论，当考虑空气阻力时，运动方程为</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>m</mi><mi>a</mi><mo>=</mo><mo>−</mo><mi>k</mi><mi>x</mi><mo>−</mo><mi>b</mi><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">ma = -kx - bv</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\">m</span><span class=\"mord mathdefault\">a</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.77777em;vertical-align:-.08333em\"></span><span class=\"mord\">−</span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">v</span></span></span></span></span></p><p>阻尼系数<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">b</span></span></span></span>可以随时间变化</p></li><li><p>阻尼振动的结果</p><ul><li><p>振动为周期运动，周期由劲度系数<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span>和阻尼系数<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">b</span></span></span></span>共同决定<br><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ω</mi><mo>=</mo><msqrt><mfrac><mi>k</mi><mi>m</mi></mfrac></msqrt><mo>→</mo><msub><mi>ω</mi><mi>N</mi></msub><mo>=</mo><msqrt><mrow><mfrac><mi>k</mi><mi>m</mi></mfrac><mo>−</mo><mfrac><msup><mi>γ</mi><mn>2</mn></msup><mn>4</mn></mfrac></mrow></msqrt></mrow><annotation encoding=\"application/x-tex\">\\omega = \\sqrt{\\dfrac{k}{m}}\\rightarrow \\omega_N = \\sqrt{\\dfrac{k}{m}-\\dfrac{\\gamma^2}{4}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.44em;vertical-align:-.8122799999999999em\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.62772em\"><span class=\"svg-align\" style=\"top:-4.4em\"><span class=\"pstrut\" style=\"height:4.4em\"></span><span class=\"mord\" style=\"padding-left:1em\"><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">m</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span><span style=\"top:-3.5877200000000005em\"><span class=\"pstrut\" style=\"height:4.4em\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:2.48em\"><svg width=\"400em\" height=\"2.48em\" viewbox=\"0 0 400000 2592\" preserveaspectratio=\"xMinYMin slice\"><path d=\"M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,\n-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,\n25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,\n-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079\nc169.3,-717.3,254.7,-1077.7,256,-1081c4,-6.7,10,-10,18,-10H400000v40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80H400000v40H1014z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8122799999999999em\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.58056em;vertical-align:-.15em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.32833099999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.10903em\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.44em;vertical-align:-.752446em\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.687554em\"><span class=\"svg-align\" style=\"top:-4.4em\"><span class=\"pstrut\" style=\"height:4.4em\"></span><span class=\"mord\" style=\"padding-left:1em\"><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">m</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.491108em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\">4</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05556em\">γ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8141079999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span><span style=\"top:-3.6475540000000004em\"><span class=\"pstrut\" style=\"height:4.4em\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:2.48em\"><svg width=\"400em\" height=\"2.48em\" viewbox=\"0 0 400000 2592\" preserveaspectratio=\"xMinYMin slice\"><path d=\"M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,\n-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,\n25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,\n-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079\nc169.3,-717.3,254.7,-1077.7,256,-1081c4,-6.7,10,-10,18,-10H400000v40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80H400000v40H1014z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.752446em\"><span></span></span></span></span></span></span></span></span></p></li><li><p>振幅随时间减小</p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><msub><mi>A</mi><mi>N</mi></msub><mo>=</mo><mi>A</mi><msup><mi>e</mi><mrow><mo>−</mo><mi>γ</mi><mi>t</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn></mrow></msup></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow A_N = Ae^{-\\gamma t / 2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.83333em;vertical-align:-.15em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.32833099999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:0;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.10903em\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8879999999999999em;vertical-align:0\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8879999999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mathdefault mtight\" style=\"margin-right:.05556em\">γ</span><span class=\"mord mathdefault mtight\">t</span><span class=\"mord mtight\">/</span><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span></p></li></ul></li><li><p>图像表示</p><img src=\"/posts/3976093928/damp-oscillation.png\"></li></ul><h1 id=\"定量分析\"><a class=\"markdownIt-Anchor\" href=\"#定量分析\"></a> 定量分析</h1><ul><li><p>运动方程可以改写为</p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mfrac><mrow><msup><mi>d</mi><mn>2</mn></msup><mi>x</mi></mrow><mrow><mi>d</mi><msup><mi>t</mi><mn>2</mn></msup></mrow></mfrac><mo>+</mo><mi>γ</mi><mfrac><mrow><mi>d</mi><mi>x</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><msup><mi>ω</mi><mn>2</mn></msup><mi>x</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\dfrac{d^2x}{dt^2} + \\gamma\\dfrac{dx}{dt} + \\omega^2x = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:2.177108em;vertical-align:-.686em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.491108em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"mord\"><span class=\"mord mathdefault\">t</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.740108em\"><span style=\"top:-2.9890000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8141079999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.05744em;vertical-align:-.686em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05556em\">γ</span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">t</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8141079999999999em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8141079999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">0</span></span></span></span>，<br><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>γ</mi><mo>=</mo><mfrac><mi>b</mi><mi>m</mi></mfrac></mrow><annotation encoding=\"application/x-tex\">\\gamma=\\dfrac{b}{m}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.625em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05556em\">γ</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.05744em;vertical-align:-.686em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">m</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">b</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ω</mi><mo>=</mo><msqrt><mfrac><mi>k</mi><mi>m</mi></mfrac></msqrt></mrow><annotation encoding=\"application/x-tex\">\\omega=\\sqrt{\\dfrac{k}{m}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.44em;vertical-align:-.8122799999999999em\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.62772em\"><span class=\"svg-align\" style=\"top:-4.4em\"><span class=\"pstrut\" style=\"height:4.4em\"></span><span class=\"mord\" style=\"padding-left:1em\"><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">m</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span><span style=\"top:-3.5877200000000005em\"><span class=\"pstrut\" style=\"height:4.4em\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:2.48em\"><svg width=\"400em\" height=\"2.48em\" viewbox=\"0 0 400000 2592\" preserveaspectratio=\"xMinYMin slice\"><path d=\"M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,\n-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,\n25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,\n-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079\nc169.3,-717.3,254.7,-1077.7,256,-1081c4,-6.7,10,-10,18,-10H400000v40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80H400000v40H1014z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8122799999999999em\"><span></span></span></span></span></span></span></span></span></p></li><li><p>考虑同形式的复数方程</p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mfrac><mrow><msup><mi>d</mi><mn>2</mn></msup><mi>Z</mi></mrow><mrow><mi>d</mi><msup><mi>t</mi><mn>2</mn></msup></mrow></mfrac><mo>+</mo><mi>γ</mi><mfrac><mrow><mi>d</mi><mi>Z</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><msup><mi>ω</mi><mn>2</mn></msup><mi>Z</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\dfrac{d^2Z}{dt^2} + \\gamma\\dfrac{dZ}{dt} + \\omega^2Z = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:2.177108em;vertical-align:-.686em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.491108em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"mord\"><span class=\"mord mathdefault\">t</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.740108em\"><span style=\"top:-2.9890000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8141079999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">Z</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.05744em;vertical-align:-.686em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05556em\">γ</span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">t</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">Z</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8141079999999999em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8141079999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">Z</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">0</span></span></span></span>，</p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Z</mi></mrow><annotation encoding=\"application/x-tex\">Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">Z</span></span></span></span> 的实数部分即为阻尼方程的解。</p></li><li><p>令<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Z</mi><mo>=</mo><mi>C</mi><msup><mi>e</mi><mrow><mi>A</mi><mi>t</mi></mrow></msup></mrow><annotation encoding=\"application/x-tex\">Z = Ce^{At}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">Z</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8413309999999999em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">C</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8413309999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">A</span><span class=\"mord mathdefault mtight\">t</span></span></span></span></span></span></span></span></span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\">A</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">C</span></span></span></span>为复常数，代入上式得到<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\">A</span></span></span></span>的方程</p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>A</mi><mn>2</mn></msup><mo>+</mo><mi>γ</mi><mi>A</mi><mo>+</mo><msup><mi>ω</mi><mn>2</mn></msup><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">A^2 + \\gamma A + \\omega^2 = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.897438em;vertical-align:-.08333em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8141079999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8777699999999999em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05556em\">γ</span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8141079999999999em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8141079999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">0</span></span></span></span></p></li><li><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\">A</span></span></span></span>的解为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>=</mo><mo>−</mo><mi>γ</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn><mo>±</mo><mi>i</mi><msqrt><mrow><msup><mi>ω</mi><mn>2</mn></msup><mo>−</mo><mfrac><msup><mi>γ</mi><mn>2</mn></msup><mn>4</mn></mfrac></mrow></msqrt></mrow><annotation encoding=\"application/x-tex\">A=-\\gamma/2\\pm i\\sqrt{\\omega^2-\\dfrac{\\gamma^2}{4}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord\">−</span><span class=\"mord mathdefault\" style=\"margin-right:.05556em\">γ</span><span class=\"mord\">/</span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">±</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.44em;vertical-align:-.752446em\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.687554em\"><span class=\"svg-align\" style=\"top:-4.4em\"><span class=\"pstrut\" style=\"height:4.4em\"></span><span class=\"mord\" style=\"padding-left:1em\"><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.740108em\"><span style=\"top:-2.9890000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.491108em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\">4</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05556em\">γ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8141079999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span><span style=\"top:-3.6475540000000004em\"><span class=\"pstrut\" style=\"height:4.4em\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:2.48em\"><svg width=\"400em\" height=\"2.48em\" viewbox=\"0 0 400000 2592\" preserveaspectratio=\"xMinYMin slice\"><path d=\"M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,\n-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,\n25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,\n-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079\nc169.3,-717.3,254.7,-1077.7,256,-1081c4,-6.7,10,-10,18,-10H400000v40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80H400000v40H1014z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.752446em\"><span></span></span></span></span></span></span></span></span>， 假设阻力不大，即<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ω</mi><mo>&gt;</mo><mi>γ</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">\\omega\\gt\\gamma/2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.5782em;vertical-align:-.0391em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05556em\">γ</span><span class=\"mord\">/</span><span class=\"mord\">2</span></span></span></span></p></li><li><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Z</mi></mrow><annotation encoding=\"application/x-tex\">Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">Z</span></span></span></span>的通解为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Z</mi><mo>=</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>γ</mi><mi>t</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn></mrow></msup><mo>(</mo><msub><mi>C</mi><mn>1</mn></msub><msup><mi>e</mi><mrow><mo>+</mo><mi>i</mi><msub><mi>ω</mi><mi>N</mi></msub><mi>t</mi></mrow></msup><mo>+</mo><msub><mi>C</mi><mn>2</mn></msub><msup><mi>e</mi><mrow><mo>−</mo><mi>i</mi><msub><mi>ω</mi><mi>N</mi></msub><mi>t</mi></mrow></msup><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">Z=e^{-\\gamma t/2}(C_1e^{+i\\omega_N t} + C_2e^{-i\\omega_N t})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">Z</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.138em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8879999999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mathdefault mtight\" style=\"margin-right:.05556em\">γ</span><span class=\"mord mathdefault mtight\">t</span><span class=\"mord mtight\">/</span><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.824664em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span><span class=\"mord mathdefault mtight\">i</span><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.3448em\"><span style=\"top:-2.3567071428571427em;margin-left:-.03588em;margin-right:.07142857142857144em\"><span class=\"pstrut\" style=\"height:2.5em\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.10903em\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.14329285714285717em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault mtight\">t</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0746639999999998em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.824664em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mathdefault mtight\">i</span><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.3448em\"><span style=\"top:-2.3567071428571427em;margin-left:-.03588em;margin-right:.07142857142857144em\"><span class=\"pstrut\" style=\"height:2.5em\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.10903em\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.14329285714285717em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault mtight\">t</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></p></li><li><p>故阻尼方程的解为</p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi><mo>=</mo><mi>R</mi><mi>e</mi><mo>(</mo><mi>Z</mi><mo>)</mo><mo>=</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>γ</mi><mi>t</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn></mrow></msup><mo>[</mo><mi>D</mi><mi>cos</mi><mo>⁡</mo><mo>(</mo><msub><mi>ω</mi><mi>N</mi></msub><mi>t</mi><mo>)</mo><mo>−</mo><mi>E</mi><mi>sin</mi><mo>⁡</mo><mo>(</mo><msub><mi>ω</mi><mi>N</mi></msub><mi>t</mi><mo>)</mo><mo>]</mo></mrow><annotation encoding=\"application/x-tex\">x = Re(Z) = e^{-\\gamma t/2}[D\\cos(\\omega_N t) - E\\sin(\\omega_N t)]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.00773em\">R</span><span class=\"mord mathdefault\">e</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">Z</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.138em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8879999999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mathdefault mtight\" style=\"margin-right:.05556em\">γ</span><span class=\"mord mathdefault mtight\">t</span><span class=\"mord mtight\">/</span><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span><span class=\"mopen\">[</span><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">D</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mop\">cos</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.32833099999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.10903em\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">t</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05764em\">E</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mop\">sin</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.32833099999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.10903em\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">t</span><span class=\"mclose\">)</span><span class=\"mclose\">]</span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>D</mi></mrow><annotation encoding=\"application/x-tex\">D</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">D</span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">E</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05764em\">E</span></span></span></span> 为常数。</p><p>令初始相位为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>θ</mi><mn>0</mn></msub><mo>=</mo><msup><mi>tan</mi><mo>⁡</mo><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>(</mo><mfrac><mi>D</mi><mi>E</mi></mfrac><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">\\theta_0=\\tan^{-1}(\\dfrac{D}{E})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.84444em;vertical-align:-.15em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.04633em;vertical-align:-.686em\"></span><span class=\"mop\"><span class=\"mop\">tan</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8190879999999999em\"><span style=\"top:-3.06798em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.36033em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05764em\">E</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">D</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose\">)</span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mo>=</mo><msqrt><mrow><msup><mi>D</mi><mn>2</mn></msup><mo>−</mo><msup><mi>E</mi><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding=\"application/x-tex\">L=\\sqrt{D^2-E^2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.04em;vertical-align:-.12661100000000003em\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.913389em\"><span class=\"svg-align\" style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\" style=\"padding-left:.833em\"><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.740108em\"><span style=\"top:-2.9890000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05764em\">E</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.740108em\"><span style=\"top:-2.9890000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-2.873389em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"min-width:.853em;height:1.08em\"><svg width=\"400em\" height=\"1.08em\" viewbox=\"0 0 400000 1080\" preserveaspectratio=\"xMinYMin slice\"><path d=\"M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,\n-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,\n-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,\n35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,\n-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467\ns-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422\ns-65,47,-65,47z M834 80H400000v40H845z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.12661100000000003em\"><span></span></span></span></span></span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\">x</span></span></span></span>可以化简为</p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi><mo>=</mo><mi>L</mi><msup><mi>e</mi><mrow><mo>−</mo><mi>γ</mi><mi>t</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn></mrow></msup><mi>cos</mi><mo>⁡</mo><mo>(</mo><msub><mi>ω</mi><mi>N</mi></msub><mi>t</mi><mo>+</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">x = Le^{-\\gamma t/2}\\cos(\\omega_N t + \\theta_0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.138em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">L</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8879999999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mathdefault mtight\" style=\"margin-right:.05556em\">γ</span><span class=\"mord mathdefault mtight\">t</span><span class=\"mord mtight\">/</span><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mop\">cos</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.32833099999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.10903em\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">t</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></p></li></ul><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p><a href=\"http://www2.hkedcity.net/sch_files/a/fms/fms-physics/public_html/resource/pdf/a8-damping.pdf\" target=\"_blank\" rel=\"noopener\">参考</a></p><h1 id=\"阻尼振动\"><a class=\"markdownIt-Anchor\" href=\"#阻尼振动\"></a> 阻尼振动</h1><ul><li><p>以弹簧为模型讨论，当考虑空气阻力时，运动方程为</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>m</mi><mi>a</mi><mo>=</mo><mo>−</mo><mi>k</mi><mi>x</mi><mo>−</mo><mi>b</mi><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">ma = -kx - bv</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\">m</span><span class=\"mord mathdefault\">a</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.77777em;vertical-align:-.08333em\"></span><span class=\"mord\">−</span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">v</span></span></span></span></span></p><p>阻尼系数<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">b</span></span></span></span>可以随时间变化</p></li><li><p>阻尼振动的结果</p><ul><li><p>振动为周期运动，周期由劲度系数<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span>和阻尼系数<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\">b</span></span></span></span>共同决定<br><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ω</mi><mo>=</mo><msqrt><mfrac><mi>k</mi><mi>m</mi></mfrac></msqrt><mo>→</mo><msub><mi>ω</mi><mi>N</mi></msub><mo>=</mo><msqrt><mrow><mfrac><mi>k</mi><mi>m</mi></mfrac><mo>−</mo><mfrac><msup><mi>γ</mi><mn>2</mn></msup><mn>4</mn></mfrac></mrow></msqrt></mrow><annotation encoding=\"application/x-tex\">\\omega = \\sqrt{\\dfrac{k}{m}}\\rightarrow \\omega_N = \\sqrt{\\dfrac{k}{m}-\\dfrac{\\gamma^2}{4}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.44em;vertical-align:-.8122799999999999em\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.62772em\"><span class=\"svg-align\" style=\"top:-4.4em\"><span class=\"pstrut\" style=\"height:4.4em\"></span><span class=\"mord\" style=\"padding-left:1em\"><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">m</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span><span style=\"top:-3.5877200000000005em\"><span class=\"pstrut\" style=\"height:4.4em\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:2.48em\"><svg width=\"400em\" height=\"2.48em\" viewbox=\"0 0 400000 2592\" preserveaspectratio=\"xMinYMin slice\"><path d=\"M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,\n-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,\n25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,\n-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079\nc169.3,-717.3,254.7,-1077.7,256,-1081c4,-6.7,10,-10,18,-10H400000v40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80H400000v40H1014z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8122799999999999em\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.58056em;vertical-align:-.15em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.32833099999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.10903em\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.44em;vertical-align:-.752446em\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.687554em\"><span class=\"svg-align\" style=\"top:-4.4em\"><span class=\"pstrut\" style=\"height:4.4em\"></span><span class=\"mord\" style=\"padding-left:1em\"><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">m</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.491108em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\">4</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05556em\">γ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8141079999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span><span style=\"top:-3.6475540000000004em\"><span class=\"pstrut\" style=\"height:4.4em\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:2.48em\"><svg width=\"400em\" height=\"2.48em\" viewbox=\"0 0 400000 2592\" preserveaspectratio=\"xMinYMin slice\"><path d=\"M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,\n-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,\n25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,\n-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079\nc169.3,-717.3,254.7,-1077.7,256,-1081c4,-6.7,10,-10,18,-10H400000v40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80H400000v40H1014z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.752446em\"><span></span></span></span></span></span></span></span></span></p></li><li><p>振幅随时间减小</p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><msub><mi>A</mi><mi>N</mi></msub><mo>=</mo><mi>A</mi><msup><mi>e</mi><mrow><mo>−</mo><mi>γ</mi><mi>t</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn></mrow></msup></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow A_N = Ae^{-\\gamma t / 2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.83333em;vertical-align:-.15em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.32833099999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:0;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.10903em\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8879999999999999em;vertical-align:0\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8879999999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mathdefault mtight\" style=\"margin-right:.05556em\">γ</span><span class=\"mord mathdefault mtight\">t</span><span class=\"mord mtight\">/</span><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span></p></li></ul></li><li><p>图像表示</p><img src=\"/posts/3976093928/damp-oscillation.png\"></li></ul><h1 id=\"定量分析\"><a class=\"markdownIt-Anchor\" href=\"#定量分析\"></a> 定量分析</h1><ul><li><p>运动方程可以改写为</p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mfrac><mrow><msup><mi>d</mi><mn>2</mn></msup><mi>x</mi></mrow><mrow><mi>d</mi><msup><mi>t</mi><mn>2</mn></msup></mrow></mfrac><mo>+</mo><mi>γ</mi><mfrac><mrow><mi>d</mi><mi>x</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><msup><mi>ω</mi><mn>2</mn></msup><mi>x</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\dfrac{d^2x}{dt^2} + \\gamma\\dfrac{dx}{dt} + \\omega^2x = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:2.177108em;vertical-align:-.686em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.491108em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"mord\"><span class=\"mord mathdefault\">t</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.740108em\"><span style=\"top:-2.9890000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8141079999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.05744em;vertical-align:-.686em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05556em\">γ</span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">t</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8141079999999999em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8141079999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">0</span></span></span></span>，<br><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>γ</mi><mo>=</mo><mfrac><mi>b</mi><mi>m</mi></mfrac></mrow><annotation encoding=\"application/x-tex\">\\gamma=\\dfrac{b}{m}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.625em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05556em\">γ</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.05744em;vertical-align:-.686em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">m</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">b</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ω</mi><mo>=</mo><msqrt><mfrac><mi>k</mi><mi>m</mi></mfrac></msqrt></mrow><annotation encoding=\"application/x-tex\">\\omega=\\sqrt{\\dfrac{k}{m}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.44em;vertical-align:-.8122799999999999em\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.62772em\"><span class=\"svg-align\" style=\"top:-4.4em\"><span class=\"pstrut\" style=\"height:4.4em\"></span><span class=\"mord\" style=\"padding-left:1em\"><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">m</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span><span style=\"top:-3.5877200000000005em\"><span class=\"pstrut\" style=\"height:4.4em\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:2.48em\"><svg width=\"400em\" height=\"2.48em\" viewbox=\"0 0 400000 2592\" preserveaspectratio=\"xMinYMin slice\"><path d=\"M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,\n-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,\n25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,\n-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079\nc169.3,-717.3,254.7,-1077.7,256,-1081c4,-6.7,10,-10,18,-10H400000v40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80H400000v40H1014z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8122799999999999em\"><span></span></span></span></span></span></span></span></span></p></li><li><p>考虑同形式的复数方程</p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mfrac><mrow><msup><mi>d</mi><mn>2</mn></msup><mi>Z</mi></mrow><mrow><mi>d</mi><msup><mi>t</mi><mn>2</mn></msup></mrow></mfrac><mo>+</mo><mi>γ</mi><mfrac><mrow><mi>d</mi><mi>Z</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>+</mo><msup><mi>ω</mi><mn>2</mn></msup><mi>Z</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\dfrac{d^2Z}{dt^2} + \\gamma\\dfrac{dZ}{dt} + \\omega^2Z = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:2.177108em;vertical-align:-.686em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.491108em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"mord\"><span class=\"mord mathdefault\">t</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.740108em\"><span style=\"top:-2.9890000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8141079999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">Z</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.05744em;vertical-align:-.686em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05556em\">γ</span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">t</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">Z</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8141079999999999em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8141079999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">Z</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">0</span></span></span></span>，</p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Z</mi></mrow><annotation encoding=\"application/x-tex\">Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">Z</span></span></span></span> 的实数部分即为阻尼方程的解。</p></li><li><p>令<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Z</mi><mo>=</mo><mi>C</mi><msup><mi>e</mi><mrow><mi>A</mi><mi>t</mi></mrow></msup></mrow><annotation encoding=\"application/x-tex\">Z = Ce^{At}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">Z</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8413309999999999em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">C</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8413309999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">A</span><span class=\"mord mathdefault mtight\">t</span></span></span></span></span></span></span></span></span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\">A</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">C</span></span></span></span>为复常数，代入上式得到<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\">A</span></span></span></span>的方程</p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>A</mi><mn>2</mn></msup><mo>+</mo><mi>γ</mi><mi>A</mi><mo>+</mo><msup><mi>ω</mi><mn>2</mn></msup><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">A^2 + \\gamma A + \\omega^2 = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.897438em;vertical-align:-.08333em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8141079999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8777699999999999em;vertical-align:-.19444em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05556em\">γ</span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8141079999999999em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8141079999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">0</span></span></span></span></p></li><li><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\">A</span></span></span></span>的解为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>=</mo><mo>−</mo><mi>γ</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn><mo>±</mo><mi>i</mi><msqrt><mrow><msup><mi>ω</mi><mn>2</mn></msup><mo>−</mo><mfrac><msup><mi>γ</mi><mn>2</mn></msup><mn>4</mn></mfrac></mrow></msqrt></mrow><annotation encoding=\"application/x-tex\">A=-\\gamma/2\\pm i\\sqrt{\\omega^2-\\dfrac{\\gamma^2}{4}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord\">−</span><span class=\"mord mathdefault\" style=\"margin-right:.05556em\">γ</span><span class=\"mord\">/</span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">±</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.44em;vertical-align:-.752446em\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.687554em\"><span class=\"svg-align\" style=\"top:-4.4em\"><span class=\"pstrut\" style=\"height:4.4em\"></span><span class=\"mord\" style=\"padding-left:1em\"><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.740108em\"><span style=\"top:-2.9890000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.491108em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\">4</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05556em\">γ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8141079999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span><span style=\"top:-3.6475540000000004em\"><span class=\"pstrut\" style=\"height:4.4em\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:2.48em\"><svg width=\"400em\" height=\"2.48em\" viewbox=\"0 0 400000 2592\" preserveaspectratio=\"xMinYMin slice\"><path d=\"M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,\n-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,\n25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,\n-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079\nc169.3,-717.3,254.7,-1077.7,256,-1081c4,-6.7,10,-10,18,-10H400000v40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80H400000v40H1014z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.752446em\"><span></span></span></span></span></span></span></span></span>， 假设阻力不大，即<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ω</mi><mo>&gt;</mo><mi>γ</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">\\omega\\gt\\gamma/2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.5782em;vertical-align:-.0391em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05556em\">γ</span><span class=\"mord\">/</span><span class=\"mord\">2</span></span></span></span></p></li><li><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Z</mi></mrow><annotation encoding=\"application/x-tex\">Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">Z</span></span></span></span>的通解为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Z</mi><mo>=</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>γ</mi><mi>t</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn></mrow></msup><mo>(</mo><msub><mi>C</mi><mn>1</mn></msub><msup><mi>e</mi><mrow><mo>+</mo><mi>i</mi><msub><mi>ω</mi><mi>N</mi></msub><mi>t</mi></mrow></msup><mo>+</mo><msub><mi>C</mi><mn>2</mn></msub><msup><mi>e</mi><mrow><mo>−</mo><mi>i</mi><msub><mi>ω</mi><mi>N</mi></msub><mi>t</mi></mrow></msup><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">Z=e^{-\\gamma t/2}(C_1e^{+i\\omega_N t} + C_2e^{-i\\omega_N t})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">Z</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.138em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8879999999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mathdefault mtight\" style=\"margin-right:.05556em\">γ</span><span class=\"mord mathdefault mtight\">t</span><span class=\"mord mtight\">/</span><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.824664em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span><span class=\"mord mathdefault mtight\">i</span><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.3448em\"><span style=\"top:-2.3567071428571427em;margin-left:-.03588em;margin-right:.07142857142857144em\"><span class=\"pstrut\" style=\"height:2.5em\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.10903em\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.14329285714285717em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault mtight\">t</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0746639999999998em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.824664em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mathdefault mtight\">i</span><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.3448em\"><span style=\"top:-2.3567071428571427em;margin-left:-.03588em;margin-right:.07142857142857144em\"><span class=\"pstrut\" style=\"height:2.5em\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.10903em\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.14329285714285717em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault mtight\">t</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></p></li><li><p>故阻尼方程的解为</p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi><mo>=</mo><mi>R</mi><mi>e</mi><mo>(</mo><mi>Z</mi><mo>)</mo><mo>=</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>γ</mi><mi>t</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn></mrow></msup><mo>[</mo><mi>D</mi><mi>cos</mi><mo>⁡</mo><mo>(</mo><msub><mi>ω</mi><mi>N</mi></msub><mi>t</mi><mo>)</mo><mo>−</mo><mi>E</mi><mi>sin</mi><mo>⁡</mo><mo>(</mo><msub><mi>ω</mi><mi>N</mi></msub><mi>t</mi><mo>)</mo><mo>]</mo></mrow><annotation encoding=\"application/x-tex\">x = Re(Z) = e^{-\\gamma t/2}[D\\cos(\\omega_N t) - E\\sin(\\omega_N t)]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.00773em\">R</span><span class=\"mord mathdefault\">e</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\" style=\"margin-right:.07153em\">Z</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.138em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8879999999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mathdefault mtight\" style=\"margin-right:.05556em\">γ</span><span class=\"mord mathdefault mtight\">t</span><span class=\"mord mtight\">/</span><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span><span class=\"mopen\">[</span><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">D</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mop\">cos</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.32833099999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.10903em\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">t</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05764em\">E</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mop\">sin</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.32833099999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.10903em\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">t</span><span class=\"mclose\">)</span><span class=\"mclose\">]</span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>D</mi></mrow><annotation encoding=\"application/x-tex\">D</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">D</span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">E</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.05764em\">E</span></span></span></span> 为常数。</p><p>令初始相位为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>θ</mi><mn>0</mn></msub><mo>=</mo><msup><mi>tan</mi><mo>⁡</mo><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>(</mo><mfrac><mi>D</mi><mi>E</mi></mfrac><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">\\theta_0=\\tan^{-1}(\\dfrac{D}{E})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.84444em;vertical-align:-.15em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.04633em;vertical-align:-.686em\"></span><span class=\"mop\"><span class=\"mop\">tan</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8190879999999999em\"><span style=\"top:-3.06798em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.36033em\"><span style=\"top:-2.314em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05764em\">E</span></span></span><span style=\"top:-3.23em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"frac-line\" style=\"border-bottom-width:.04em\"></span></span><span style=\"top:-3.677em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">D</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.686em\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose\">)</span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mo>=</mo><msqrt><mrow><msup><mi>D</mi><mn>2</mn></msup><mo>−</mo><msup><mi>E</mi><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding=\"application/x-tex\">L=\\sqrt{D^2-E^2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.04em;vertical-align:-.12661100000000003em\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.913389em\"><span class=\"svg-align\" style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\" style=\"padding-left:.833em\"><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.740108em\"><span style=\"top:-2.9890000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.05764em\">E</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.740108em\"><span style=\"top:-2.9890000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-2.873389em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"min-width:.853em;height:1.08em\"><svg width=\"400em\" height=\"1.08em\" viewbox=\"0 0 400000 1080\" preserveaspectratio=\"xMinYMin slice\"><path d=\"M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,\n-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,\n-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,\n35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,\n-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467\ns-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422\ns-65,47,-65,47z M834 80H400000v40H845z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.12661100000000003em\"><span></span></span></span></span></span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\">x</span></span></span></span>可以化简为</p><p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi><mo>=</mo><mi>L</mi><msup><mi>e</mi><mrow><mo>−</mo><mi>γ</mi><mi>t</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn></mrow></msup><mi>cos</mi><mo>⁡</mo><mo>(</mo><msub><mi>ω</mi><mi>N</mi></msub><mi>t</mi><mo>+</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">x = Le^{-\\gamma t/2}\\cos(\\omega_N t + \\theta_0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.138em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\">L</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8879999999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mathdefault mtight\" style=\"margin-right:.05556em\">γ</span><span class=\"mord mathdefault mtight\">t</span><span class=\"mord mtight\">/</span><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mop\">cos</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03588em\">ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.32833099999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.10903em\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">t</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02778em\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></p></li></ul><!-- rebuild by neat -->"},{"title":"pyenv基础教程","mathjax":false,"toc":true,"abbrlink":1952119038,"date":"2018-09-30T08:52:46.000Z","_content":"\n[pyenv](https://github.com/pyenv/pyenv#table-of-contents) 是一个`python`版本管理软件。受到`ruby`的同类软件 [rbenv](https://github.com/rbenv/rbenv)和 [ruby-build](https://github.com/rbenv/ruby-build)的启发。\n\n# 安装 pyenv\n\n## MacOS\n\n使用`homebrew`安装\n\n```bash\nbrew update\nbrew install pyenv\n```\n\n## Linux\n```bash\ngit clone https://github.com/pyenv/pyenv.git ~/.pyenv\n```\n\n# 配置\n\n在`.bashrc`中添加下列内容：\n\n```bash\nexport PYENV_ROOT=\"$home/.pyenv\"\nexport PATH=\"$PYENV_ROOT/bin:$path\"\n# 上面两行不需要，如果采用homebrew安装方式\neval \"$(pyenv init -)\"\n```\n\n# 依赖环境\n\n`pyenv`可以用于安装多个`python`版本，并对其进行管理。为了避免出现可能的错误，安装之前需要准备好依赖环境。\n\n- macos\n  ```bash\n  brew install openssl readline sqlite xz zlib\n  ```\n  如果运行 Mojave 或更高版本，还需额外安装\n  ```bash\n  sudo installer -pkg /Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg -target /\n  ```\n\n- Debian/Ubuntu\n  ```bash\n  apt-get install -y make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev\n  ```\n\n# 安装python\n\n`pyenv install`命令用于安装指定`python`版本。\n\n为了添加`framework`支持，安装代码应如下\n\n```bash\n# MacOS\nenv python_configure_opts=\"--enable-framework\" pyenv install 3.6.6\n# Linux\nenv python_configure_opts=\"--enable-shared\" pyenv install 3.6.6\n```\n\n# 参考命令\n\n## 查看已安装python版本\n\n```bash\npyenv versions\n\n  system\n* 2.7.15 (set by /users/xuwutao/.python-version)\n  3.6.6\n```\n\n## 版本切换\n`pyenv`总共设置了三个命令用于`python`的版本控制，按优先级由高到低以此为\n\n1. `pyenv shell`\n2. `pyenv local`\n3. `pyenv global`\n\n### pyenv shell\n效果等价于设定环境变量`pyenv_version`。\n\n```bash\npyenv shell 3.6.6\n\n# unset\npyenv shell --unset\n```\n\n### pyenv local\n在当前目录下新建文件`.python-version`，记录`python`版本号，一行一个。如果当前目录下没有该文件，则一路往上寻找直到系统根目录。\n```bash\npyenv local 2.7.15\n# 等价于\ntouch .python-version && echo '2.7.15' > !$\n```\n\n### pyenv global\n和`pyenv global`对应的文件为`$(pyenv root)/version`。\n\n```bash\npyenv global 2.7.10\n# 等价于\ntouch ~/.pyenv/version && echo '2.7.10' > !$\n```\n\n有一个特殊的版本名`system`是指`pyenv`之外的`python`（`macos`自带，`homebrew`安装版本等）。\n\n\n三个命令都可以后接多个版本号。\n","source":"_posts/pyenv-guide.md","raw":"---\ntitle: pyenv基础教程\nmathjax: false\ntoc: true\nabbrlink: 1952119038\ndate: 2018-09-30 16:52:46\ncategory:\n- Python\ntags:\n- Python\n---\n\n[pyenv](https://github.com/pyenv/pyenv#table-of-contents) 是一个`python`版本管理软件。受到`ruby`的同类软件 [rbenv](https://github.com/rbenv/rbenv)和 [ruby-build](https://github.com/rbenv/ruby-build)的启发。\n\n# 安装 pyenv\n\n## MacOS\n\n使用`homebrew`安装\n\n```bash\nbrew update\nbrew install pyenv\n```\n\n## Linux\n```bash\ngit clone https://github.com/pyenv/pyenv.git ~/.pyenv\n```\n\n# 配置\n\n在`.bashrc`中添加下列内容：\n\n```bash\nexport PYENV_ROOT=\"$home/.pyenv\"\nexport PATH=\"$PYENV_ROOT/bin:$path\"\n# 上面两行不需要，如果采用homebrew安装方式\neval \"$(pyenv init -)\"\n```\n\n# 依赖环境\n\n`pyenv`可以用于安装多个`python`版本，并对其进行管理。为了避免出现可能的错误，安装之前需要准备好依赖环境。\n\n- macos\n  ```bash\n  brew install openssl readline sqlite xz zlib\n  ```\n  如果运行 Mojave 或更高版本，还需额外安装\n  ```bash\n  sudo installer -pkg /Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg -target /\n  ```\n\n- Debian/Ubuntu\n  ```bash\n  apt-get install -y make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev\n  ```\n\n# 安装python\n\n`pyenv install`命令用于安装指定`python`版本。\n\n为了添加`framework`支持，安装代码应如下\n\n```bash\n# MacOS\nenv python_configure_opts=\"--enable-framework\" pyenv install 3.6.6\n# Linux\nenv python_configure_opts=\"--enable-shared\" pyenv install 3.6.6\n```\n\n# 参考命令\n\n## 查看已安装python版本\n\n```bash\npyenv versions\n\n  system\n* 2.7.15 (set by /users/xuwutao/.python-version)\n  3.6.6\n```\n\n## 版本切换\n`pyenv`总共设置了三个命令用于`python`的版本控制，按优先级由高到低以此为\n\n1. `pyenv shell`\n2. `pyenv local`\n3. `pyenv global`\n\n### pyenv shell\n效果等价于设定环境变量`pyenv_version`。\n\n```bash\npyenv shell 3.6.6\n\n# unset\npyenv shell --unset\n```\n\n### pyenv local\n在当前目录下新建文件`.python-version`，记录`python`版本号，一行一个。如果当前目录下没有该文件，则一路往上寻找直到系统根目录。\n```bash\npyenv local 2.7.15\n# 等价于\ntouch .python-version && echo '2.7.15' > !$\n```\n\n### pyenv global\n和`pyenv global`对应的文件为`$(pyenv root)/version`。\n\n```bash\npyenv global 2.7.10\n# 等价于\ntouch ~/.pyenv/version && echo '2.7.10' > !$\n```\n\n有一个特殊的版本名`system`是指`pyenv`之外的`python`（`macos`自带，`homebrew`安装版本等）。\n\n\n三个命令都可以后接多个版本号。\n","slug":"pyenv-guide","published":1,"updated":"2019-04-21T01:58:28.762Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq87001ch51jj0mfqrml","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p><a href=\"https://github.com/pyenv/pyenv#table-of-contents\" target=\"_blank\" rel=\"noopener\">pyenv</a> 是一个<code>python</code>版本管理软件。受到<code>ruby</code>的同类软件 <a href=\"https://github.com/rbenv/rbenv\" target=\"_blank\" rel=\"noopener\">rbenv</a>和 <a href=\"https://github.com/rbenv/ruby-build\" target=\"_blank\" rel=\"noopener\">ruby-build</a>的启发。</p><h1 id=\"安装-pyenv\"><a class=\"markdownIt-Anchor\" href=\"#安装-pyenv\"></a> 安装 pyenv</h1><h2 id=\"macos\"><a class=\"markdownIt-Anchor\" href=\"#macos\"></a> MacOS</h2><p>使用<code>homebrew</code>安装</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew update</span><br><span class=\"line\">brew install pyenv</span><br></pre></td></tr></table></figure><h2 id=\"linux\"><a class=\"markdownIt-Anchor\" href=\"#linux\"></a> Linux</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/pyenv/pyenv.git ~/.pyenv</span><br></pre></td></tr></table></figure><h1 id=\"配置\"><a class=\"markdownIt-Anchor\" href=\"#配置\"></a> 配置</h1><p>在<code>.bashrc</code>中添加下列内容：</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> PYENV_ROOT=<span class=\"string\">\"<span class=\"variable\">$home</span>/.pyenv\"</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=<span class=\"string\">\"<span class=\"variable\">$PYENV_ROOT</span>/bin:<span class=\"variable\">$path</span>\"</span></span><br><span class=\"line\"><span class=\"comment\"># 上面两行不需要，如果采用homebrew安装方式</span></span><br><span class=\"line\"><span class=\"built_in\">eval</span> <span class=\"string\">\"<span class=\"variable\">$(pyenv init -)</span>\"</span></span><br></pre></td></tr></table></figure><h1 id=\"依赖环境\"><a class=\"markdownIt-Anchor\" href=\"#依赖环境\"></a> 依赖环境</h1><p><code>pyenv</code>可以用于安装多个<code>python</code>版本，并对其进行管理。为了避免出现可能的错误，安装之前需要准备好依赖环境。</p><ul><li><p>macos</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install openssl readline sqlite xz zlib</span><br></pre></td></tr></table></figure><p>如果运行 Mojave 或更高版本，还需额外安装</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo installer -pkg /Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg -target /</span><br></pre></td></tr></table></figure></li><li><p>Debian/Ubuntu</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get install -y make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev</span><br></pre></td></tr></table></figure></li></ul><h1 id=\"安装python\"><a class=\"markdownIt-Anchor\" href=\"#安装python\"></a> 安装python</h1><p><code>pyenv install</code>命令用于安装指定<code>python</code>版本。</p><p>为了添加<code>framework</code>支持，安装代码应如下</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># MacOS</span></span><br><span class=\"line\">env python_configure_opts=<span class=\"string\">\"--enable-framework\"</span> pyenv install 3.6.6</span><br><span class=\"line\"><span class=\"comment\"># Linux</span></span><br><span class=\"line\">env python_configure_opts=<span class=\"string\">\"--enable-shared\"</span> pyenv install 3.6.6</span><br></pre></td></tr></table></figure><h1 id=\"参考命令\"><a class=\"markdownIt-Anchor\" href=\"#参考命令\"></a> 参考命令</h1><h2 id=\"查看已安装python版本\"><a class=\"markdownIt-Anchor\" href=\"#查看已安装python版本\"></a> 查看已安装python版本</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pyenv versions</span><br><span class=\"line\"></span><br><span class=\"line\">  system</span><br><span class=\"line\">* 2.7.15 (<span class=\"built_in\">set</span> by /users/xuwutao/.python-version)</span><br><span class=\"line\">  3.6.6</span><br></pre></td></tr></table></figure><h2 id=\"版本切换\"><a class=\"markdownIt-Anchor\" href=\"#版本切换\"></a> 版本切换</h2><p><code>pyenv</code>总共设置了三个命令用于<code>python</code>的版本控制，按优先级由高到低以此为</p><ol><li><code>pyenv shell</code></li><li><code>pyenv local</code></li><li><code>pyenv global</code></li></ol><h3 id=\"pyenv-shell\"><a class=\"markdownIt-Anchor\" href=\"#pyenv-shell\"></a> pyenv shell</h3><p>效果等价于设定环境变量<code>pyenv_version</code>。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pyenv shell 3.6.6</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># unset</span></span><br><span class=\"line\">pyenv shell --<span class=\"built_in\">unset</span></span><br></pre></td></tr></table></figure><h3 id=\"pyenv-local\"><a class=\"markdownIt-Anchor\" href=\"#pyenv-local\"></a> pyenv local</h3><p>在当前目录下新建文件<code>.python-version</code>，记录<code>python</code>版本号，一行一个。如果当前目录下没有该文件，则一路往上寻找直到系统根目录。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pyenv <span class=\"built_in\">local</span> 2.7.15</span><br><span class=\"line\"><span class=\"comment\"># 等价于</span></span><br><span class=\"line\">touch .python-version &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">'2.7.15'</span> &gt; !$</span><br></pre></td></tr></table></figure><h3 id=\"pyenv-global\"><a class=\"markdownIt-Anchor\" href=\"#pyenv-global\"></a> pyenv global</h3><p>和<code>pyenv global</code>对应的文件为<code>$(pyenv root)/version</code>。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pyenv global 2.7.10</span><br><span class=\"line\"><span class=\"comment\"># 等价于</span></span><br><span class=\"line\">touch ~/.pyenv/version &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">'2.7.10'</span> &gt; !$</span><br></pre></td></tr></table></figure><p>有一个特殊的版本名<code>system</code>是指<code>pyenv</code>之外的<code>python</code>（<code>macos</code>自带，<code>homebrew</code>安装版本等）。</p><p>三个命令都可以后接多个版本号。</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p><a href=\"https://github.com/pyenv/pyenv#table-of-contents\" target=\"_blank\" rel=\"noopener\">pyenv</a> 是一个<code>python</code>版本管理软件。受到<code>ruby</code>的同类软件 <a href=\"https://github.com/rbenv/rbenv\" target=\"_blank\" rel=\"noopener\">rbenv</a>和 <a href=\"https://github.com/rbenv/ruby-build\" target=\"_blank\" rel=\"noopener\">ruby-build</a>的启发。</p><h1 id=\"安装-pyenv\"><a class=\"markdownIt-Anchor\" href=\"#安装-pyenv\"></a> 安装 pyenv</h1><h2 id=\"macos\"><a class=\"markdownIt-Anchor\" href=\"#macos\"></a> MacOS</h2><p>使用<code>homebrew</code>安装</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew update</span><br><span class=\"line\">brew install pyenv</span><br></pre></td></tr></table></figure><h2 id=\"linux\"><a class=\"markdownIt-Anchor\" href=\"#linux\"></a> Linux</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/pyenv/pyenv.git ~/.pyenv</span><br></pre></td></tr></table></figure><h1 id=\"配置\"><a class=\"markdownIt-Anchor\" href=\"#配置\"></a> 配置</h1><p>在<code>.bashrc</code>中添加下列内容：</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> PYENV_ROOT=<span class=\"string\">\"<span class=\"variable\">$home</span>/.pyenv\"</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=<span class=\"string\">\"<span class=\"variable\">$PYENV_ROOT</span>/bin:<span class=\"variable\">$path</span>\"</span></span><br><span class=\"line\"><span class=\"comment\"># 上面两行不需要，如果采用homebrew安装方式</span></span><br><span class=\"line\"><span class=\"built_in\">eval</span> <span class=\"string\">\"<span class=\"variable\">$(pyenv init -)</span>\"</span></span><br></pre></td></tr></table></figure><h1 id=\"依赖环境\"><a class=\"markdownIt-Anchor\" href=\"#依赖环境\"></a> 依赖环境</h1><p><code>pyenv</code>可以用于安装多个<code>python</code>版本，并对其进行管理。为了避免出现可能的错误，安装之前需要准备好依赖环境。</p><ul><li><p>macos</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install openssl readline sqlite xz zlib</span><br></pre></td></tr></table></figure><p>如果运行 Mojave 或更高版本，还需额外安装</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo installer -pkg /Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg -target /</span><br></pre></td></tr></table></figure></li><li><p>Debian/Ubuntu</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get install -y make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev</span><br></pre></td></tr></table></figure></li></ul><h1 id=\"安装python\"><a class=\"markdownIt-Anchor\" href=\"#安装python\"></a> 安装python</h1><p><code>pyenv install</code>命令用于安装指定<code>python</code>版本。</p><p>为了添加<code>framework</code>支持，安装代码应如下</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># MacOS</span></span><br><span class=\"line\">env python_configure_opts=<span class=\"string\">\"--enable-framework\"</span> pyenv install 3.6.6</span><br><span class=\"line\"><span class=\"comment\"># Linux</span></span><br><span class=\"line\">env python_configure_opts=<span class=\"string\">\"--enable-shared\"</span> pyenv install 3.6.6</span><br></pre></td></tr></table></figure><h1 id=\"参考命令\"><a class=\"markdownIt-Anchor\" href=\"#参考命令\"></a> 参考命令</h1><h2 id=\"查看已安装python版本\"><a class=\"markdownIt-Anchor\" href=\"#查看已安装python版本\"></a> 查看已安装python版本</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pyenv versions</span><br><span class=\"line\"></span><br><span class=\"line\">  system</span><br><span class=\"line\">* 2.7.15 (<span class=\"built_in\">set</span> by /users/xuwutao/.python-version)</span><br><span class=\"line\">  3.6.6</span><br></pre></td></tr></table></figure><h2 id=\"版本切换\"><a class=\"markdownIt-Anchor\" href=\"#版本切换\"></a> 版本切换</h2><p><code>pyenv</code>总共设置了三个命令用于<code>python</code>的版本控制，按优先级由高到低以此为</p><ol><li><code>pyenv shell</code></li><li><code>pyenv local</code></li><li><code>pyenv global</code></li></ol><h3 id=\"pyenv-shell\"><a class=\"markdownIt-Anchor\" href=\"#pyenv-shell\"></a> pyenv shell</h3><p>效果等价于设定环境变量<code>pyenv_version</code>。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pyenv shell 3.6.6</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># unset</span></span><br><span class=\"line\">pyenv shell --<span class=\"built_in\">unset</span></span><br></pre></td></tr></table></figure><h3 id=\"pyenv-local\"><a class=\"markdownIt-Anchor\" href=\"#pyenv-local\"></a> pyenv local</h3><p>在当前目录下新建文件<code>.python-version</code>，记录<code>python</code>版本号，一行一个。如果当前目录下没有该文件，则一路往上寻找直到系统根目录。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pyenv <span class=\"built_in\">local</span> 2.7.15</span><br><span class=\"line\"><span class=\"comment\"># 等价于</span></span><br><span class=\"line\">touch .python-version &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">'2.7.15'</span> &gt; !$</span><br></pre></td></tr></table></figure><h3 id=\"pyenv-global\"><a class=\"markdownIt-Anchor\" href=\"#pyenv-global\"></a> pyenv global</h3><p>和<code>pyenv global</code>对应的文件为<code>$(pyenv root)/version</code>。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pyenv global 2.7.10</span><br><span class=\"line\"><span class=\"comment\"># 等价于</span></span><br><span class=\"line\">touch ~/.pyenv/version &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">'2.7.10'</span> &gt; !$</span><br></pre></td></tr></table></figure><p>有一个特殊的版本名<code>system</code>是指<code>pyenv</code>之外的<code>python</code>（<code>macos</code>自带，<code>homebrew</code>安装版本等）。</p><p>三个命令都可以后接多个版本号。</p><!-- rebuild by neat -->"},{"title":"Metaclass","toc":true,"mathjax":false,"abbrlink":2704906340,"date":"2017-12-31T16:00:00.000Z","_content":"\n# Metaclass\n面向对象编程语言中，元类是指实例为类的类。定义确定的类及其实例的行为。并非所有面向对象的语言都支持元类。每一种语言都拥有他自己的**元对象原型**，为一系列描述对象、类、元类之间如何相互作用的规则。\n\n## Python example\n在`Python`里，内置的类`type`是一个**元类**。考虑这样一个简单的`Python`类：\n\n```python\nclass Car(object):\n    def __init__(self, make, model, year, color):\n        self.make = make\n        self.model = model\n        self.year = year\n        self.color = color\n\n    @property\n    def description(self):\n        \"\"\" Return a description of this car. \"\"\"\n        return \"%s %s %s %s\" % (self.color, self.year, self.make, self.model)\n```\n\n在程序运行时，`Car`本身是类`type`的一个实例，类`Car`的源代码如上所示，有很多内容没有直接呈现出来，例如`Car`对象的大小、在内存中的二进制布局、它们是如何被分配内存的、每当一个`Car`实例被创建时初始化`__init__`方法会被自动调用等等。这些细节不仅在一个新的`Car`实例被创建时，还会在每次访问`car`的属性时起作用。没有元类的语言，这些细节是被语言本身所确定的，且无法被重载。在`Python`中，元类**type**控制了这些细节是实现的方式。具体的控制方式可以用另一个元类代替`type`来改变。\n\n```python\nclass AttributeInitType(type):\n    def __call__(self, *args, **kwargs):\n        \"\"\" Create a new instance. \"\"\"\n\n        # First, create the object in the normal default way.\n        obj = type.__call__(self, *args)\n\n        # Additionally, set attributes on the new object.\n        for name, value in kwargs.items():\n            setattr(obj, name, value)\n\n        # Return the new object.\n        return obj\n```\n\n这个元类只重载了类的创建方式，类的其他方面及对象的行为仍然由`type`进行处理。\n现在类`Car`可以使用新定义的元类重写。在`Python2`中通过在类定义中赋值给`__metaclass__`来实现：\n\n```python\nclass Car(object):\n    __metaclass__ = AttributeInitType\n\n    @property\n    def description(self):\n        \"\"\" Return a description of this car. \"\"\"\n        return \" \".join(str(getattr(self, attr, \"Unknown\")) for attr in self.__dict__)\n```\n\n在`Python3`中需要提供一个命名参数：\n\n```python\nclass Car(object, mateclass=AttributeInitType):\n    @property\n    def description(self):\n        \"\"\" Return a description of this car. \"\"\"\n        return \" \".join(str(value) for value in self.__dict__.values())\n```\n\n`Car`的实例于是可以像下面这样实例化：\n\n```python\nnew_car = Car(make='Toyota', model='Prius', year=2005, color='Green')\nold_car = Car(make='Ford', model='Prefect', year=1979)\n```\n\n关键字参数实例化的效果也可以不用元类实现：\n\n```python\nclass Car(object):\n    def __init__(self, **kwargs):\n        for name, value in kwargs.items():\n            setattr(self, name, value)\n    @property\n    def description(self):\n        return \" \".join(str(value) for value in self.__dict__.values())\n```\n","source":"_posts/python-metaclass.md","raw":"---\ntitle: Metaclass\ncategory: Python\ntoc: true\nmathjax: false\ntags:\n  - python\nabbrlink: 2704906340\ndate: 2018-01-01 00:00:00\n---\n\n# Metaclass\n面向对象编程语言中，元类是指实例为类的类。定义确定的类及其实例的行为。并非所有面向对象的语言都支持元类。每一种语言都拥有他自己的**元对象原型**，为一系列描述对象、类、元类之间如何相互作用的规则。\n\n## Python example\n在`Python`里，内置的类`type`是一个**元类**。考虑这样一个简单的`Python`类：\n\n```python\nclass Car(object):\n    def __init__(self, make, model, year, color):\n        self.make = make\n        self.model = model\n        self.year = year\n        self.color = color\n\n    @property\n    def description(self):\n        \"\"\" Return a description of this car. \"\"\"\n        return \"%s %s %s %s\" % (self.color, self.year, self.make, self.model)\n```\n\n在程序运行时，`Car`本身是类`type`的一个实例，类`Car`的源代码如上所示，有很多内容没有直接呈现出来，例如`Car`对象的大小、在内存中的二进制布局、它们是如何被分配内存的、每当一个`Car`实例被创建时初始化`__init__`方法会被自动调用等等。这些细节不仅在一个新的`Car`实例被创建时，还会在每次访问`car`的属性时起作用。没有元类的语言，这些细节是被语言本身所确定的，且无法被重载。在`Python`中，元类**type**控制了这些细节是实现的方式。具体的控制方式可以用另一个元类代替`type`来改变。\n\n```python\nclass AttributeInitType(type):\n    def __call__(self, *args, **kwargs):\n        \"\"\" Create a new instance. \"\"\"\n\n        # First, create the object in the normal default way.\n        obj = type.__call__(self, *args)\n\n        # Additionally, set attributes on the new object.\n        for name, value in kwargs.items():\n            setattr(obj, name, value)\n\n        # Return the new object.\n        return obj\n```\n\n这个元类只重载了类的创建方式，类的其他方面及对象的行为仍然由`type`进行处理。\n现在类`Car`可以使用新定义的元类重写。在`Python2`中通过在类定义中赋值给`__metaclass__`来实现：\n\n```python\nclass Car(object):\n    __metaclass__ = AttributeInitType\n\n    @property\n    def description(self):\n        \"\"\" Return a description of this car. \"\"\"\n        return \" \".join(str(getattr(self, attr, \"Unknown\")) for attr in self.__dict__)\n```\n\n在`Python3`中需要提供一个命名参数：\n\n```python\nclass Car(object, mateclass=AttributeInitType):\n    @property\n    def description(self):\n        \"\"\" Return a description of this car. \"\"\"\n        return \" \".join(str(value) for value in self.__dict__.values())\n```\n\n`Car`的实例于是可以像下面这样实例化：\n\n```python\nnew_car = Car(make='Toyota', model='Prius', year=2005, color='Green')\nold_car = Car(make='Ford', model='Prefect', year=1979)\n```\n\n关键字参数实例化的效果也可以不用元类实现：\n\n```python\nclass Car(object):\n    def __init__(self, **kwargs):\n        for name, value in kwargs.items():\n            setattr(self, name, value)\n    @property\n    def description(self):\n        return \" \".join(str(value) for value in self.__dict__.values())\n```\n","slug":"python-metaclass","published":1,"updated":"2019-04-21T01:58:28.763Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq89001gh51j7vn9k1r5","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h1 id=\"metaclass\"><a class=\"markdownIt-Anchor\" href=\"#metaclass\"></a> Metaclass</h1><p>面向对象编程语言中，元类是指实例为类的类。定义确定的类及其实例的行为。并非所有面向对象的语言都支持元类。每一种语言都拥有他自己的<strong>元对象原型</strong>，为一系列描述对象、类、元类之间如何相互作用的规则。</p><h2 id=\"python-example\"><a class=\"markdownIt-Anchor\" href=\"#python-example\"></a> Python example</h2><p>在<code>Python</code>里，内置的类<code>type</code>是一个<strong>元类</strong>。考虑这样一个简单的<code>Python</code>类：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Car</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, make, model, year, color)</span>:</span></span><br><span class=\"line\">        self.make = make</span><br><span class=\"line\">        self.model = model</span><br><span class=\"line\">        self.year = year</span><br><span class=\"line\">        self.color = color</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">    @property</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">description</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\" Return a description of this car. \"\"\"</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"%s %s %s %s\"</span> % (self.color, self.year, self.make, self.model)</span><br></pre></td></tr></table></figure><p>在程序运行时，<code>Car</code>本身是类<code>type</code>的一个实例，类<code>Car</code>的源代码如上所示，有很多内容没有直接呈现出来，例如<code>Car</code>对象的大小、在内存中的二进制布局、它们是如何被分配内存的、每当一个<code>Car</code>实例被创建时初始化<code>__init__</code>方法会被自动调用等等。这些细节不仅在一个新的<code>Car</code>实例被创建时，还会在每次访问<code>car</code>的属性时起作用。没有元类的语言，这些细节是被语言本身所确定的，且无法被重载。在<code>Python</code>中，元类<strong>type</strong>控制了这些细节是实现的方式。具体的控制方式可以用另一个元类代替<code>type</code>来改变。</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AttributeInitType</span><span class=\"params\">(type)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__call__</span><span class=\"params\">(self, *args, **kwargs)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\" Create a new instance. \"\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># First, create the object in the normal default way.</span></span><br><span class=\"line\">        obj = type.__call__(self, *args)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># Additionally, set attributes on the new object.</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> name, value <span class=\"keyword\">in</span> kwargs.items():</span><br><span class=\"line\">            setattr(obj, name, value)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># Return the new object.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> obj</span><br></pre></td></tr></table></figure><p>这个元类只重载了类的创建方式，类的其他方面及对象的行为仍然由<code>type</code>进行处理。<br>现在类<code>Car</code>可以使用新定义的元类重写。在<code>Python2</code>中通过在类定义中赋值给<code>__metaclass__</code>来实现：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Car</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    __metaclass__ = AttributeInitType</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">    @property</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">description</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\" Return a description of this car. \"\"\"</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\" \"</span>.join(str(getattr(self, attr, <span class=\"string\">\"Unknown\"</span>)) <span class=\"keyword\">for</span> attr <span class=\"keyword\">in</span> self.__dict__)</span><br></pre></td></tr></table></figure><p>在<code>Python3</code>中需要提供一个命名参数：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Car</span><span class=\"params\">(object, mateclass=AttributeInitType)</span>:</span></span><br><span class=\"line\"><span class=\"meta\">    @property</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">description</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\" Return a description of this car. \"\"\"</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\" \"</span>.join(str(value) <span class=\"keyword\">for</span> value <span class=\"keyword\">in</span> self.__dict__.values())</span><br></pre></td></tr></table></figure><p><code>Car</code>的实例于是可以像下面这样实例化：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">new_car = Car(make=<span class=\"string\">'Toyota'</span>, model=<span class=\"string\">'Prius'</span>, year=<span class=\"number\">2005</span>, color=<span class=\"string\">'Green'</span>)</span><br><span class=\"line\">old_car = Car(make=<span class=\"string\">'Ford'</span>, model=<span class=\"string\">'Prefect'</span>, year=<span class=\"number\">1979</span>)</span><br></pre></td></tr></table></figure><p>关键字参数实例化的效果也可以不用元类实现：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Car</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, **kwargs)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> name, value <span class=\"keyword\">in</span> kwargs.items():</span><br><span class=\"line\">            setattr(self, name, value)</span><br><span class=\"line\"><span class=\"meta\">    @property</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">description</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\" \"</span>.join(str(value) <span class=\"keyword\">for</span> value <span class=\"keyword\">in</span> self.__dict__.values())</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h1 id=\"metaclass\"><a class=\"markdownIt-Anchor\" href=\"#metaclass\"></a> Metaclass</h1><p>面向对象编程语言中，元类是指实例为类的类。定义确定的类及其实例的行为。并非所有面向对象的语言都支持元类。每一种语言都拥有他自己的<strong>元对象原型</strong>，为一系列描述对象、类、元类之间如何相互作用的规则。</p><h2 id=\"python-example\"><a class=\"markdownIt-Anchor\" href=\"#python-example\"></a> Python example</h2><p>在<code>Python</code>里，内置的类<code>type</code>是一个<strong>元类</strong>。考虑这样一个简单的<code>Python</code>类：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Car</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, make, model, year, color)</span>:</span></span><br><span class=\"line\">        self.make = make</span><br><span class=\"line\">        self.model = model</span><br><span class=\"line\">        self.year = year</span><br><span class=\"line\">        self.color = color</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">    @property</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">description</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\" Return a description of this car. \"\"\"</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"%s %s %s %s\"</span> % (self.color, self.year, self.make, self.model)</span><br></pre></td></tr></table></figure><p>在程序运行时，<code>Car</code>本身是类<code>type</code>的一个实例，类<code>Car</code>的源代码如上所示，有很多内容没有直接呈现出来，例如<code>Car</code>对象的大小、在内存中的二进制布局、它们是如何被分配内存的、每当一个<code>Car</code>实例被创建时初始化<code>__init__</code>方法会被自动调用等等。这些细节不仅在一个新的<code>Car</code>实例被创建时，还会在每次访问<code>car</code>的属性时起作用。没有元类的语言，这些细节是被语言本身所确定的，且无法被重载。在<code>Python</code>中，元类<strong>type</strong>控制了这些细节是实现的方式。具体的控制方式可以用另一个元类代替<code>type</code>来改变。</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AttributeInitType</span><span class=\"params\">(type)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__call__</span><span class=\"params\">(self, *args, **kwargs)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\" Create a new instance. \"\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># First, create the object in the normal default way.</span></span><br><span class=\"line\">        obj = type.__call__(self, *args)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># Additionally, set attributes on the new object.</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> name, value <span class=\"keyword\">in</span> kwargs.items():</span><br><span class=\"line\">            setattr(obj, name, value)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># Return the new object.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> obj</span><br></pre></td></tr></table></figure><p>这个元类只重载了类的创建方式，类的其他方面及对象的行为仍然由<code>type</code>进行处理。<br>现在类<code>Car</code>可以使用新定义的元类重写。在<code>Python2</code>中通过在类定义中赋值给<code>__metaclass__</code>来实现：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Car</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    __metaclass__ = AttributeInitType</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">    @property</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">description</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\" Return a description of this car. \"\"\"</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\" \"</span>.join(str(getattr(self, attr, <span class=\"string\">\"Unknown\"</span>)) <span class=\"keyword\">for</span> attr <span class=\"keyword\">in</span> self.__dict__)</span><br></pre></td></tr></table></figure><p>在<code>Python3</code>中需要提供一个命名参数：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Car</span><span class=\"params\">(object, mateclass=AttributeInitType)</span>:</span></span><br><span class=\"line\"><span class=\"meta\">    @property</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">description</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\" Return a description of this car. \"\"\"</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\" \"</span>.join(str(value) <span class=\"keyword\">for</span> value <span class=\"keyword\">in</span> self.__dict__.values())</span><br></pre></td></tr></table></figure><p><code>Car</code>的实例于是可以像下面这样实例化：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">new_car = Car(make=<span class=\"string\">'Toyota'</span>, model=<span class=\"string\">'Prius'</span>, year=<span class=\"number\">2005</span>, color=<span class=\"string\">'Green'</span>)</span><br><span class=\"line\">old_car = Car(make=<span class=\"string\">'Ford'</span>, model=<span class=\"string\">'Prefect'</span>, year=<span class=\"number\">1979</span>)</span><br></pre></td></tr></table></figure><p>关键字参数实例化的效果也可以不用元类实现：</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Car</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, **kwargs)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> name, value <span class=\"keyword\">in</span> kwargs.items():</span><br><span class=\"line\">            setattr(self, name, value)</span><br><span class=\"line\"><span class=\"meta\">    @property</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">description</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\" \"</span>.join(str(value) <span class=\"keyword\">for</span> value <span class=\"keyword\">in</span> self.__dict__.values())</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"python万物皆对象","mathjax":false,"toc":true,"abbrlink":1949292692,"date":"2018-12-14T11:33:45.000Z","_content":"\n# 类与对象\n`Python`中有两种关系：\n- 类与对象，顶点为`Type`。\n- 继承，顶点为`Object`。\n\n\n## 类与对象（Type）\n`__class__`方法查看当前对象所属的类，亦即由哪个类实例化得到。\n\n> Python 中的对象可以分成两种\n> - 不是类的对象，例如手里的一个🍎。\n> - 亦是类的对象，例如🍎，作为水果这个类的一个实例（对象）。\n\n类比如下关系：\n> 手里的🍎（创建自）🍎（创建自）水果（创建自）食物（创建自）... 顶点\n\nPython 版本\n> 不是类的对象（创建自）亦是类的对象（创建自）类的类（创建自）Type（顶点）\n\n## 继承（Object）\n`__base__`方法查看当前类的父类，亦即继承自哪个类。\n\n> Python 中的类也可以分成两种\n> - 普通类，类继承链条的末端，其实例不是类。\n> - 元类，类继承链条的非末端，其实例依然是类。\n\n类比如下关系：\n> 🍎（继承自）水果（继承自）食物（继承自）... 顶点\n\nPython 版本\n> 普通类（继承自）元类（继承自）...（继承自）Object（顶点）\n\n## Type/Object\n\nType 作为\n- 类，继承自 Object\n- 对象，创建自 Type（自身）\n\nObject 作为\n- 类，继承自 Object（自身）\n- 对象，创建自 Type\n\n{% asset_img type-and-object.png 类与对象关系 %}\n\n-----------\n{% blockquote %}\n道生一，一生二，二生三，三生万物\n{% endblockquote %}\n\n网上有人用它来理解 **类对象** 关系，觉得生动形象，故记录于此。\n1、道 即 Type\n2、一 即 元类\n3、二 即 普通类\n4、三 即 实例\n5、**万物** 即 各种实例属性，方法\n","source":"_posts/python-type-and-object.md","raw":"---\ntitle: python万物皆对象\nmathjax: false\ntoc: true\ncategory:\n  - Python\ntags:\n  - Type\n  - Object\nabbrlink: 1949292692\ndate: 2018-12-14 19:33:45\n---\n\n# 类与对象\n`Python`中有两种关系：\n- 类与对象，顶点为`Type`。\n- 继承，顶点为`Object`。\n\n\n## 类与对象（Type）\n`__class__`方法查看当前对象所属的类，亦即由哪个类实例化得到。\n\n> Python 中的对象可以分成两种\n> - 不是类的对象，例如手里的一个🍎。\n> - 亦是类的对象，例如🍎，作为水果这个类的一个实例（对象）。\n\n类比如下关系：\n> 手里的🍎（创建自）🍎（创建自）水果（创建自）食物（创建自）... 顶点\n\nPython 版本\n> 不是类的对象（创建自）亦是类的对象（创建自）类的类（创建自）Type（顶点）\n\n## 继承（Object）\n`__base__`方法查看当前类的父类，亦即继承自哪个类。\n\n> Python 中的类也可以分成两种\n> - 普通类，类继承链条的末端，其实例不是类。\n> - 元类，类继承链条的非末端，其实例依然是类。\n\n类比如下关系：\n> 🍎（继承自）水果（继承自）食物（继承自）... 顶点\n\nPython 版本\n> 普通类（继承自）元类（继承自）...（继承自）Object（顶点）\n\n## Type/Object\n\nType 作为\n- 类，继承自 Object\n- 对象，创建自 Type（自身）\n\nObject 作为\n- 类，继承自 Object（自身）\n- 对象，创建自 Type\n\n{% asset_img type-and-object.png 类与对象关系 %}\n\n-----------\n{% blockquote %}\n道生一，一生二，二生三，三生万物\n{% endblockquote %}\n\n网上有人用它来理解 **类对象** 关系，觉得生动形象，故记录于此。\n1、道 即 Type\n2、一 即 元类\n3、二 即 普通类\n4、三 即 实例\n5、**万物** 即 各种实例属性，方法\n","slug":"python-type-and-object","published":1,"updated":"2019-04-21T01:58:28.763Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq8b001hh51jghzsp9wg","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h1 id=\"类与对象\"><a class=\"markdownIt-Anchor\" href=\"#类与对象\"></a> 类与对象</h1><p><code>Python</code>中有两种关系：</p><ul><li>类与对象，顶点为<code>Type</code>。</li><li>继承，顶点为<code>Object</code>。</li></ul><h2 id=\"类与对象type\"><a class=\"markdownIt-Anchor\" href=\"#类与对象type\"></a> 类与对象（Type）</h2><p><code>__class__</code>方法查看当前对象所属的类，亦即由哪个类实例化得到。</p><blockquote><p>Python 中的对象可以分成两种</p><ul><li>不是类的对象，例如手里的一个🍎。</li><li>亦是类的对象，例如🍎，作为水果这个类的一个实例（对象）。</li></ul></blockquote><p>类比如下关系：</p><blockquote><p>手里的🍎（创建自）🍎（创建自）水果（创建自）食物（创建自）… 顶点</p></blockquote><p>Python 版本</p><blockquote><p>不是类的对象（创建自）亦是类的对象（创建自）类的类（创建自）Type（顶点）</p></blockquote><h2 id=\"继承object\"><a class=\"markdownIt-Anchor\" href=\"#继承object\"></a> 继承（Object）</h2><p><code>__base__</code>方法查看当前类的父类，亦即继承自哪个类。</p><blockquote><p>Python 中的类也可以分成两种</p><ul><li>普通类，类继承链条的末端，其实例不是类。</li><li>元类，类继承链条的非末端，其实例依然是类。</li></ul></blockquote><p>类比如下关系：</p><blockquote><p>🍎（继承自）水果（继承自）食物（继承自）… 顶点</p></blockquote><p>Python 版本</p><blockquote><p>普通类（继承自）元类（继承自）…（继承自）Object（顶点）</p></blockquote><h2 id=\"typeobject\"><a class=\"markdownIt-Anchor\" href=\"#typeobject\"></a> Type/Object</h2><p>Type 作为</p><ul><li>类，继承自 Object</li><li>对象，创建自 Type（自身）</li></ul><p>Object 作为</p><ul><li>类，继承自 Object（自身）</li><li>对象，创建自 Type</li></ul><img src=\"/posts/1949292692/type-and-object.png\" title=\"类与对象关系\"><hr><blockquote><p>道生一，一生二，二生三，三生万物</p></blockquote><p>网上有人用它来理解 <strong>类对象</strong> 关系，觉得生动形象，故记录于此。<br>1、道 即 Type<br>2、一 即 元类<br>3、二 即 普通类<br>4、三 即 实例<br>5、<strong>万物</strong> 即 各种实例属性，方法</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h1 id=\"类与对象\"><a class=\"markdownIt-Anchor\" href=\"#类与对象\"></a> 类与对象</h1><p><code>Python</code>中有两种关系：</p><ul><li>类与对象，顶点为<code>Type</code>。</li><li>继承，顶点为<code>Object</code>。</li></ul><h2 id=\"类与对象type\"><a class=\"markdownIt-Anchor\" href=\"#类与对象type\"></a> 类与对象（Type）</h2><p><code>__class__</code>方法查看当前对象所属的类，亦即由哪个类实例化得到。</p><blockquote><p>Python 中的对象可以分成两种</p><ul><li>不是类的对象，例如手里的一个🍎。</li><li>亦是类的对象，例如🍎，作为水果这个类的一个实例（对象）。</li></ul></blockquote><p>类比如下关系：</p><blockquote><p>手里的🍎（创建自）🍎（创建自）水果（创建自）食物（创建自）… 顶点</p></blockquote><p>Python 版本</p><blockquote><p>不是类的对象（创建自）亦是类的对象（创建自）类的类（创建自）Type（顶点）</p></blockquote><h2 id=\"继承object\"><a class=\"markdownIt-Anchor\" href=\"#继承object\"></a> 继承（Object）</h2><p><code>__base__</code>方法查看当前类的父类，亦即继承自哪个类。</p><blockquote><p>Python 中的类也可以分成两种</p><ul><li>普通类，类继承链条的末端，其实例不是类。</li><li>元类，类继承链条的非末端，其实例依然是类。</li></ul></blockquote><p>类比如下关系：</p><blockquote><p>🍎（继承自）水果（继承自）食物（继承自）… 顶点</p></blockquote><p>Python 版本</p><blockquote><p>普通类（继承自）元类（继承自）…（继承自）Object（顶点）</p></blockquote><h2 id=\"typeobject\"><a class=\"markdownIt-Anchor\" href=\"#typeobject\"></a> Type/Object</h2><p>Type 作为</p><ul><li>类，继承自 Object</li><li>对象，创建自 Type（自身）</li></ul><p>Object 作为</p><ul><li>类，继承自 Object（自身）</li><li>对象，创建自 Type</li></ul><img src=\"/posts/1949292692/type-and-object.png\" title=\"类与对象关系\"><hr><blockquote><p>道生一，一生二，二生三，三生万物</p></blockquote><p>网上有人用它来理解 <strong>类对象</strong> 关系，觉得生动形象，故记录于此。<br>1、道 即 Type<br>2、一 即 元类<br>3、二 即 普通类<br>4、三 即 实例<br>5、<strong>万物</strong> 即 各种实例属性，方法</p><!-- rebuild by neat -->"},{"title":"树莓派新手指南","mathjax":false,"toc":true,"abbrlink":2712929324,"date":"2018-11-18T11:12:14.000Z","_content":"\n# 刻录系统\n选好合适的系统镜像之后，用`dd`命令刻录系统到 `sd` 卡中。\n\n```bash\ndd bs=16M if=/path/to/img of=/dev/sdc\n```\n\nMac系统下类似，主要注意输出文件是`/dev/sdc`而不是`sd`卡上的分区。\n\n# 开启SSH\n最新版树莓派系统默认不开启`ssh`服务。没有显示器的情况下，这是不能忍的。好在有一个简单的办法可以解决，系统刻录完成后在`boot`分区下新建名为`ssh`的空白文件。\n\n```bash\n# 挂载并进入boot分区\ntouch ssh\n```\n\n# 启动树莓派\n用网线连接树莓派和Mac，打开Mac终端，通过`ssh`连接树莓派。\n\n```bash\n# 将公钥加入远程主机的 authorized_keys 文件中，实现无密码登陆\nssh-copy-id pi@raspberrypi\n```\n\n# 初始化配置\n输入命令 `sudo raspi-config` 进入配置模式。常用的有扩展系统分区，修改密码，启动设置等。\n\n# 修改swap空间大小\n\n```bash\n# 修改文件\nsudo vim /etc/dphys-swapfile\n# 把 CONF_SWAPSIZE=100 改成需要的大小，单位是m\n# 重启dphys-swapfile服务\nsudo service dphys-swapfile restart\n```\n查看当前swap空间\n\n```bash\nfree -m\n```\n\n# VNC 远程桌面\n树莓派自带`VNC`服务器，通过配置实现远程图形化界面登陆。\n\n[树莓派官方VNC教程](https://www.raspberrypi.org/documentation/remote-access/vnc/)\n\n# debian 安装后必做的几件事\n1、安装`shadowsocks`。注意`pip`安装时不要`--user`选项。配置服务，开机自启动。\n```bash\n# 安装最新版 shadowsocks\npip install https://github.com/shadowsocks/shadowsocks/archive/master.zip\n```\n\npip更新之后可能会遇到问题`can not import name main`\n修改 /usr/bin/pip 文件。\n\n```python\n# 修改前\nfrom pip import main\nif __name__ == '__main__':\n    sys.exit(main())\n\n# 修改后\nfrom pip import __main__\nif __name__ == '__main__':\n    sys.exit(__main__.main())\n```\n-----------\n2、安装`pyenv`\n```bash\ngit clone https://github.com/pyenv/pyenv.git ~/.pyenv\n```\n详细内容参见文章 {% post_link pyenv-guide pyenv基础教程 %}\n\n-----------\n3、安装字体，VNC连接时视觉上不能遭罪。\n\n","source":"_posts/raspberry-install.md","raw":"---\ntitle: 树莓派新手指南\nmathjax: false\ntoc: true\ncategory:\n  - Raspberrypi\ntags:\n  - Raspberrypi\nabbrlink: 2712929324\ndate: 2018-11-18 19:12:14\n---\n\n# 刻录系统\n选好合适的系统镜像之后，用`dd`命令刻录系统到 `sd` 卡中。\n\n```bash\ndd bs=16M if=/path/to/img of=/dev/sdc\n```\n\nMac系统下类似，主要注意输出文件是`/dev/sdc`而不是`sd`卡上的分区。\n\n# 开启SSH\n最新版树莓派系统默认不开启`ssh`服务。没有显示器的情况下，这是不能忍的。好在有一个简单的办法可以解决，系统刻录完成后在`boot`分区下新建名为`ssh`的空白文件。\n\n```bash\n# 挂载并进入boot分区\ntouch ssh\n```\n\n# 启动树莓派\n用网线连接树莓派和Mac，打开Mac终端，通过`ssh`连接树莓派。\n\n```bash\n# 将公钥加入远程主机的 authorized_keys 文件中，实现无密码登陆\nssh-copy-id pi@raspberrypi\n```\n\n# 初始化配置\n输入命令 `sudo raspi-config` 进入配置模式。常用的有扩展系统分区，修改密码，启动设置等。\n\n# 修改swap空间大小\n\n```bash\n# 修改文件\nsudo vim /etc/dphys-swapfile\n# 把 CONF_SWAPSIZE=100 改成需要的大小，单位是m\n# 重启dphys-swapfile服务\nsudo service dphys-swapfile restart\n```\n查看当前swap空间\n\n```bash\nfree -m\n```\n\n# VNC 远程桌面\n树莓派自带`VNC`服务器，通过配置实现远程图形化界面登陆。\n\n[树莓派官方VNC教程](https://www.raspberrypi.org/documentation/remote-access/vnc/)\n\n# debian 安装后必做的几件事\n1、安装`shadowsocks`。注意`pip`安装时不要`--user`选项。配置服务，开机自启动。\n```bash\n# 安装最新版 shadowsocks\npip install https://github.com/shadowsocks/shadowsocks/archive/master.zip\n```\n\npip更新之后可能会遇到问题`can not import name main`\n修改 /usr/bin/pip 文件。\n\n```python\n# 修改前\nfrom pip import main\nif __name__ == '__main__':\n    sys.exit(main())\n\n# 修改后\nfrom pip import __main__\nif __name__ == '__main__':\n    sys.exit(__main__.main())\n```\n-----------\n2、安装`pyenv`\n```bash\ngit clone https://github.com/pyenv/pyenv.git ~/.pyenv\n```\n详细内容参见文章 {% post_link pyenv-guide pyenv基础教程 %}\n\n-----------\n3、安装字体，VNC连接时视觉上不能遭罪。\n\n","slug":"raspberry-install","published":1,"updated":"2019-04-21T01:58:28.764Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq8d001mh51jwryvsx71","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h1 id=\"刻录系统\"><a class=\"markdownIt-Anchor\" href=\"#刻录系统\"></a> 刻录系统</h1><p>选好合适的系统镜像之后，用<code>dd</code>命令刻录系统到 <code>sd</code> 卡中。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dd bs=16M <span class=\"keyword\">if</span>=/path/to/img of=/dev/sdc</span><br></pre></td></tr></table></figure><p>Mac系统下类似，主要注意输出文件是<code>/dev/sdc</code>而不是<code>sd</code>卡上的分区。</p><h1 id=\"开启ssh\"><a class=\"markdownIt-Anchor\" href=\"#开启ssh\"></a> 开启SSH</h1><p>最新版树莓派系统默认不开启<code>ssh</code>服务。没有显示器的情况下，这是不能忍的。好在有一个简单的办法可以解决，系统刻录完成后在<code>boot</code>分区下新建名为<code>ssh</code>的空白文件。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 挂载并进入boot分区</span></span><br><span class=\"line\">touch ssh</span><br></pre></td></tr></table></figure><h1 id=\"启动树莓派\"><a class=\"markdownIt-Anchor\" href=\"#启动树莓派\"></a> 启动树莓派</h1><p>用网线连接树莓派和Mac，打开Mac终端，通过<code>ssh</code>连接树莓派。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 将公钥加入远程主机的 authorized_keys 文件中，实现无密码登陆</span></span><br><span class=\"line\">ssh-copy-id pi@raspberrypi</span><br></pre></td></tr></table></figure><h1 id=\"初始化配置\"><a class=\"markdownIt-Anchor\" href=\"#初始化配置\"></a> 初始化配置</h1><p>输入命令 <code>sudo raspi-config</code> 进入配置模式。常用的有扩展系统分区，修改密码，启动设置等。</p><h1 id=\"修改swap空间大小\"><a class=\"markdownIt-Anchor\" href=\"#修改swap空间大小\"></a> 修改swap空间大小</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 修改文件</span></span><br><span class=\"line\">sudo vim /etc/dphys-swapfile</span><br><span class=\"line\"><span class=\"comment\"># 把 CONF_SWAPSIZE=100 改成需要的大小，单位是m</span></span><br><span class=\"line\"><span class=\"comment\"># 重启dphys-swapfile服务</span></span><br><span class=\"line\">sudo service dphys-swapfile restart</span><br></pre></td></tr></table></figure><p>查看当前swap空间</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">free -m</span><br></pre></td></tr></table></figure><h1 id=\"vnc-远程桌面\"><a class=\"markdownIt-Anchor\" href=\"#vnc-远程桌面\"></a> VNC 远程桌面</h1><p>树莓派自带<code>VNC</code>服务器，通过配置实现远程图形化界面登陆。</p><p><a href=\"https://www.raspberrypi.org/documentation/remote-access/vnc/\" target=\"_blank\" rel=\"noopener\">树莓派官方VNC教程</a></p><h1 id=\"debian-安装后必做的几件事\"><a class=\"markdownIt-Anchor\" href=\"#debian-安装后必做的几件事\"></a> debian 安装后必做的几件事</h1><p>1、安装<code>shadowsocks</code>。注意<code>pip</code>安装时不要<code>--user</code>选项。配置服务，开机自启动。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 安装最新版 shadowsocks</span></span><br><span class=\"line\">pip install https://github.com/shadowsocks/shadowsocks/archive/master.zip</span><br></pre></td></tr></table></figure><p>pip更新之后可能会遇到问题<code>can not import name main</code><br>修改 /usr/bin/pip 文件。</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 修改前</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> pip <span class=\"keyword\">import</span> main</span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    sys.exit(main())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 修改后</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> pip <span class=\"keyword\">import</span> __main__</span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    sys.exit(__main__.main())</span><br></pre></td></tr></table></figure><hr><p>2、安装<code>pyenv</code></p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/pyenv/pyenv.git ~/.pyenv</span><br></pre></td></tr></table></figure><p>详细内容参见文章 <a href=\"/posts/1952119038/\" title=\"pyenv基础教程\">pyenv基础教程</a></p><hr><p>3、安装字体，VNC连接时视觉上不能遭罪。</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h1 id=\"刻录系统\"><a class=\"markdownIt-Anchor\" href=\"#刻录系统\"></a> 刻录系统</h1><p>选好合适的系统镜像之后，用<code>dd</code>命令刻录系统到 <code>sd</code> 卡中。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dd bs=16M <span class=\"keyword\">if</span>=/path/to/img of=/dev/sdc</span><br></pre></td></tr></table></figure><p>Mac系统下类似，主要注意输出文件是<code>/dev/sdc</code>而不是<code>sd</code>卡上的分区。</p><h1 id=\"开启ssh\"><a class=\"markdownIt-Anchor\" href=\"#开启ssh\"></a> 开启SSH</h1><p>最新版树莓派系统默认不开启<code>ssh</code>服务。没有显示器的情况下，这是不能忍的。好在有一个简单的办法可以解决，系统刻录完成后在<code>boot</code>分区下新建名为<code>ssh</code>的空白文件。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 挂载并进入boot分区</span></span><br><span class=\"line\">touch ssh</span><br></pre></td></tr></table></figure><h1 id=\"启动树莓派\"><a class=\"markdownIt-Anchor\" href=\"#启动树莓派\"></a> 启动树莓派</h1><p>用网线连接树莓派和Mac，打开Mac终端，通过<code>ssh</code>连接树莓派。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 将公钥加入远程主机的 authorized_keys 文件中，实现无密码登陆</span></span><br><span class=\"line\">ssh-copy-id pi@raspberrypi</span><br></pre></td></tr></table></figure><h1 id=\"初始化配置\"><a class=\"markdownIt-Anchor\" href=\"#初始化配置\"></a> 初始化配置</h1><p>输入命令 <code>sudo raspi-config</code> 进入配置模式。常用的有扩展系统分区，修改密码，启动设置等。</p><h1 id=\"修改swap空间大小\"><a class=\"markdownIt-Anchor\" href=\"#修改swap空间大小\"></a> 修改swap空间大小</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 修改文件</span></span><br><span class=\"line\">sudo vim /etc/dphys-swapfile</span><br><span class=\"line\"><span class=\"comment\"># 把 CONF_SWAPSIZE=100 改成需要的大小，单位是m</span></span><br><span class=\"line\"><span class=\"comment\"># 重启dphys-swapfile服务</span></span><br><span class=\"line\">sudo service dphys-swapfile restart</span><br></pre></td></tr></table></figure><p>查看当前swap空间</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">free -m</span><br></pre></td></tr></table></figure><h1 id=\"vnc-远程桌面\"><a class=\"markdownIt-Anchor\" href=\"#vnc-远程桌面\"></a> VNC 远程桌面</h1><p>树莓派自带<code>VNC</code>服务器，通过配置实现远程图形化界面登陆。</p><p><a href=\"https://www.raspberrypi.org/documentation/remote-access/vnc/\" target=\"_blank\" rel=\"noopener\">树莓派官方VNC教程</a></p><h1 id=\"debian-安装后必做的几件事\"><a class=\"markdownIt-Anchor\" href=\"#debian-安装后必做的几件事\"></a> debian 安装后必做的几件事</h1><p>1、安装<code>shadowsocks</code>。注意<code>pip</code>安装时不要<code>--user</code>选项。配置服务，开机自启动。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 安装最新版 shadowsocks</span></span><br><span class=\"line\">pip install https://github.com/shadowsocks/shadowsocks/archive/master.zip</span><br></pre></td></tr></table></figure><p>pip更新之后可能会遇到问题<code>can not import name main</code><br>修改 /usr/bin/pip 文件。</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 修改前</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> pip <span class=\"keyword\">import</span> main</span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    sys.exit(main())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 修改后</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> pip <span class=\"keyword\">import</span> __main__</span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    sys.exit(__main__.main())</span><br></pre></td></tr></table></figure><hr><p>2、安装<code>pyenv</code></p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/pyenv/pyenv.git ~/.pyenv</span><br></pre></td></tr></table></figure><p>详细内容参见文章 <a href=\"/posts/1952119038/\" title=\"pyenv基础教程\">pyenv基础教程</a></p><hr><p>3、安装字体，VNC连接时视觉上不能遭罪。</p><!-- rebuild by neat -->"},{"title":"矢量函数分解","mathjax":true,"toc":true,"abbrlink":2388637373,"date":"2018-10-08T08:34:27.000Z","_content":"\n结论：**纵向无旋，横向无源**\n\n----------\n任意给定一个矢量函数 $w(\\overrightarrow{x})=(w_1(\\overrightarrow{x}),w_2(\\overrightarrow{x}),w_3(\\overrightarrow{x}))$。在傅立叶空间中，$\\overrightarrow{k}$模式的系数$w(\\overrightarrow{k})=(w_1(\\overrightarrow{k}),w_2(\\overrightarrow{k}),w_3(\\overrightarrow{k}))$\n可以分解为动量$k$的平行和垂直方向。\n\n$$\nw = w^{//} + w^{\\bot}\n$$\n\n且有 $w^{//} // \\overrightarrow{k}$ 及 $w^{\\bot}\\cdot{\\overrightarrow{k}} = 0$\n\n回到实空间中，发现 $w(\\overrightarrow{x})$ 可以分解为纵向和横向两部分，$w^{//}(\\overrightarrow{x})$ 和 $w^{\\bot}(\\overrightarrow{x})$。分别有如下性质：\n\n- 纵向无旋\n\n$$\n\\nabla \\times w^{//}(\\overrightarrow{x}) = 0\n$$\n\n- 横向无源\n\n$$\n\\nabla \\cdot w^{\\bot}(\\overrightarrow{x}) = 0\n$$\n\n# 投影算符\n傅立叶空间中，$k$ mode 的纵向（横向）投影算符分别为\n\n$$\n\\begin{aligned}\nP^{\\parallel}(\\vec{k}) &= \\hat{k}\\otimes\\hat{k} \\\\\nP^{\\perp}(\\vec{k}) &= 1 - \\hat{k}\\otimes\\hat{k} \\\\\n\\end{aligned}\n$$\n或者分量表示\n$$\n\\begin{aligned}\nP^{\\parallel}_{ij}(\\vec{k}) &= \\hat{k}_i\\hat{k}_j \\\\\nP^{\\perp}_{ij}(\\vec{k}) &= \\delta_{ij} - \\hat{k}_i\\hat{k}_j \\\\\n\\end{aligned}\n$$\n","source":"_posts/vector-tensor-decomposition.md","raw":"---\ntitle: 矢量函数分解\nmathjax: true\ntoc: true\ncategory:\n  - Math\ntags:\nabbrlink: 2388637373\ndate: 2018-10-08 16:34:27\n---\n\n结论：**纵向无旋，横向无源**\n\n----------\n任意给定一个矢量函数 $w(\\overrightarrow{x})=(w_1(\\overrightarrow{x}),w_2(\\overrightarrow{x}),w_3(\\overrightarrow{x}))$。在傅立叶空间中，$\\overrightarrow{k}$模式的系数$w(\\overrightarrow{k})=(w_1(\\overrightarrow{k}),w_2(\\overrightarrow{k}),w_3(\\overrightarrow{k}))$\n可以分解为动量$k$的平行和垂直方向。\n\n$$\nw = w^{//} + w^{\\bot}\n$$\n\n且有 $w^{//} // \\overrightarrow{k}$ 及 $w^{\\bot}\\cdot{\\overrightarrow{k}} = 0$\n\n回到实空间中，发现 $w(\\overrightarrow{x})$ 可以分解为纵向和横向两部分，$w^{//}(\\overrightarrow{x})$ 和 $w^{\\bot}(\\overrightarrow{x})$。分别有如下性质：\n\n- 纵向无旋\n\n$$\n\\nabla \\times w^{//}(\\overrightarrow{x}) = 0\n$$\n\n- 横向无源\n\n$$\n\\nabla \\cdot w^{\\bot}(\\overrightarrow{x}) = 0\n$$\n\n# 投影算符\n傅立叶空间中，$k$ mode 的纵向（横向）投影算符分别为\n\n$$\n\\begin{aligned}\nP^{\\parallel}(\\vec{k}) &= \\hat{k}\\otimes\\hat{k} \\\\\nP^{\\perp}(\\vec{k}) &= 1 - \\hat{k}\\otimes\\hat{k} \\\\\n\\end{aligned}\n$$\n或者分量表示\n$$\n\\begin{aligned}\nP^{\\parallel}_{ij}(\\vec{k}) &= \\hat{k}_i\\hat{k}_j \\\\\nP^{\\perp}_{ij}(\\vec{k}) &= \\delta_{ij} - \\hat{k}_i\\hat{k}_j \\\\\n\\end{aligned}\n$$\n","slug":"vector-tensor-decomposition","published":1,"updated":"2019-04-21T01:58:28.764Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq8f001oh51j5tsbo7e0","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p>结论：<strong>纵向无旋，横向无源</strong></p><hr><p>任意给定一个矢量函数 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>w</mi><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo>=</mo><mo>(</mo><msub><mi>w</mi><mn>1</mn></msub><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo separator=\"true\">,</mo><msub><mi>w</mi><mn>2</mn></msub><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo separator=\"true\">,</mo><msub><mi>w</mi><mn>3</mn></msub><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">w(\\overrightarrow{x})=(w_1(\\overrightarrow{x}),w_2(\\overrightarrow{x}),w_3(\\overrightarrow{x}))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.20256em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.20256em;vertical-align:-.25em\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.02691em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.02691em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.02691em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mclose\">)</span></span></span></span>。在傅立叶空间中，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mover accent=\"true\"><mi>k</mi><mo stretchy=\"true\">→</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\overrightarrow{k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.21644em;vertical-align:0\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.21644em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span class=\"svg-align\" style=\"top:-3.69444em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span></span></span></span>模式的系数<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>w</mi><mo>(</mo><mover accent=\"true\"><mi>k</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo>=</mo><mo>(</mo><msub><mi>w</mi><mn>1</mn></msub><mo>(</mo><mover accent=\"true\"><mi>k</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo separator=\"true\">,</mo><msub><mi>w</mi><mn>2</mn></msub><mo>(</mo><mover accent=\"true\"><mi>k</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo separator=\"true\">,</mo><msub><mi>w</mi><mn>3</mn></msub><mo>(</mo><mover accent=\"true\"><mi>k</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">w(\\overrightarrow{k})=(w_1(\\overrightarrow{k}),w_2(\\overrightarrow{k}),w_3(\\overrightarrow{k}))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.46644em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.21644em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span class=\"svg-align\" style=\"top:-3.69444em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.46644em;vertical-align:-.25em\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.02691em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.21644em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span class=\"svg-align\" style=\"top:-3.69444em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.02691em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.21644em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span class=\"svg-align\" style=\"top:-3.69444em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.02691em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.21644em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span class=\"svg-align\" style=\"top:-3.69444em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mclose\">)</span></span></span></span><br>可以分解为动量<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span>的平行和垂直方向。</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>w</mi><mo>=</mo><msup><mi>w</mi><mrow><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">/</mi></mrow></msup><mo>+</mo><msup><mi>w</mi><mi mathvariant=\"normal\">⊥</mi></msup></mrow><annotation encoding=\"application/x-tex\">w = w^{//} + w^{\\bot}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0213299999999998em;vertical-align:-.08333em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.938em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">/</span><span class=\"mord mtight\">/</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8991079999999999em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8991079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">⊥</span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>且有 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>w</mi><mrow><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">/</mi></mrow></msup><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">/</mi><mover accent=\"true\"><mi>k</mi><mo stretchy=\"true\">→</mo></mover></mrow><annotation encoding=\"application/x-tex\">w^{//} // \\overrightarrow{k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.46644em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8879999999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">/</span><span class=\"mord mtight\">/</span></span></span></span></span></span></span></span></span><span class=\"mord\">/</span><span class=\"mord\">/</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.21644em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span class=\"svg-align\" style=\"top:-3.69444em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span></span></span></span>及 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>w</mi><mi mathvariant=\"normal\">⊥</mi></msup><mo>⋅</mo><mover accent=\"true\"><mi>k</mi><mo stretchy=\"true\">→</mo></mover><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">w^{\\bot}\\cdot{\\overrightarrow{k}} = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.849108em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.849108em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">⊥</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.21644em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.21644em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span class=\"svg-align\" style=\"top:-3.69444em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">0</span></span></span></span></p><p>回到实空间中，发现 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>w</mi><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">w(\\overrightarrow{x})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.20256em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 可以分解为纵向和横向两部分，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>w</mi><mrow><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">/</mi></mrow></msup><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">w^{//}(\\overrightarrow{x})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.20256em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8879999999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">/</span><span class=\"mord mtight\">/</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>w</mi><mi mathvariant=\"normal\">⊥</mi></msup><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">w^{\\bot}(\\overrightarrow{x})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.20256em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.849108em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">⊥</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>。分别有如下性质：</p><ul><li>纵向无旋</li></ul><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">∇</mi><mo>×</mo><msup><mi>w</mi><mrow><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">/</mi></mrow></msup><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\nabla \\times w^{//}(\\overrightarrow{x}) = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.76666em;vertical-align:-.08333em\"></span><span class=\"mord\">∇</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.20256em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.938em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">/</span><span class=\"mord mtight\">/</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">0</span></span></span></span></span></p><ul><li>横向无源</li></ul><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">∇</mi><mo>⋅</mo><msup><mi>w</mi><mi mathvariant=\"normal\">⊥</mi></msup><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\nabla \\cdot w^{\\bot}(\\overrightarrow{x}) = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord\">∇</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.20256em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8991079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">⊥</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">0</span></span></span></span></span></p><h1 id=\"投影算符\"><a class=\"markdownIt-Anchor\" href=\"#投影算符\"></a> 投影算符</h1><p>傅立叶空间中，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span> mode 的纵向（横向）投影算符分别为</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msup><mi>P</mi><mo>∥</mo></msup><mo>(</mo><mover accent=\"true\"><mi>k</mi><mo>⃗</mo></mover><mo>)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mover accent=\"true\"><mi>k</mi><mo>^</mo></mover><mo>⊗</mo><mover accent=\"true\"><mi>k</mi><mo>^</mo></mover></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msup><mi>P</mi><mo>⊥</mo></msup><mo>(</mo><mover accent=\"true\"><mi>k</mi><mo>⃗</mo></mover><mo>)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mn>1</mn><mo>−</mo><mover accent=\"true\"><mi>k</mi><mo>^</mo></mover><mo>⊗</mo><mover accent=\"true\"><mi>k</mi><mo>^</mo></mover></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned} P^{\\parallel}(\\vec{k}) &amp;= \\hat{k}\\otimes\\hat{k} \\\\ P^{\\perp}(\\vec{k}) &amp;= 1 - \\hat{k}\\otimes\\hat{k} \\\\ \\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.27488em;vertical-align:-1.38744em\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.88744em\"><span style=\"top:-3.91em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.13889em\">P</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.938em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mrel mtight\">∥</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9774399999999999em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.2355em\"><span class=\"overlay\" style=\"height:.714em;width:.471em\"><svg width=\"0.471em\" height=\"0.714em\" style=\"width:.471em\" viewbox=\"0 0 471 714\" preserveaspectratio=\"xMinYMin\"><path d=\"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z\"/></svg></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span><span style=\"top:-2.2725600000000004em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.13889em\">P</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8991079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mrel mtight\">⊥</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9774399999999999em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.2355em\"><span class=\"overlay\" style=\"height:.714em;width:.471em\"><svg width=\"0.471em\" height=\"0.714em\" style=\"width:.471em\" viewbox=\"0 0 471 714\" preserveaspectratio=\"xMinYMin\"><path d=\"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z\"/></svg></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.38744em\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.88744em\"><span style=\"top:-3.91em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9578799999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.25em\">^</span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9578799999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.25em\">^</span></span></span></span></span></span></span></span><span style=\"top:-2.2725600000000004em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9578799999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.25em\">^</span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9578799999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.25em\">^</span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.38744em\"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>或者分量表示</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msubsup><mi>P</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>∥</mo></msubsup><mo>(</mo><mover accent=\"true\"><mi>k</mi><mo>⃗</mo></mover><mo>)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><msub><mover accent=\"true\"><mi>k</mi><mo>^</mo></mover><mi>i</mi></msub><msub><mover accent=\"true\"><mi>k</mi><mo>^</mo></mover><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msubsup><mi>P</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>⊥</mo></msubsup><mo>(</mo><mover accent=\"true\"><mi>k</mi><mo>⃗</mo></mover><mo>)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><msub><mi>δ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>−</mo><msub><mover accent=\"true\"><mi>k</mi><mo>^</mo></mover><mi>i</mi></msub><msub><mover accent=\"true\"><mi>k</mi><mo>^</mo></mover><mi>j</mi></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned} P^{\\parallel}_{ij}(\\vec{k}) &amp;= \\hat{k}_i\\hat{k}_j \\\\ P^{\\perp}_{ij}(\\vec{k}) &amp;= \\delta_{ij} - \\hat{k}_i\\hat{k}_j \\\\ \\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.41832em;vertical-align:-1.4591600000000002em\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9591599999999998em\"><span style=\"top:-3.95916em\"><span class=\"pstrut\" style=\"height:3.0448em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.13889em\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em\"><span style=\"top:-2.4231360000000004em;margin-left:-.13889em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span><span class=\"mord mathdefault mtight\" style=\"margin-right:.05724em\">j</span></span></span></span><span style=\"top:-3.2198em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mrel mtight\">∥</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.412972em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9774399999999999em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.2355em\"><span class=\"overlay\" style=\"height:.714em;width:.471em\"><svg width=\"0.471em\" height=\"0.714em\" style=\"width:.471em\" viewbox=\"0 0 471 714\" preserveaspectratio=\"xMinYMin\"><path d=\"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z\"/></svg></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span><span style=\"top:-2.2687479999999995em\"><span class=\"pstrut\" style=\"height:3.0448em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.13889em\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.899108em\"><span style=\"top:-2.4530000000000003em;margin-left:-.13889em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span><span class=\"mord mathdefault mtight\" style=\"margin-right:.05724em\">j</span></span></span></span><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mrel mtight\">⊥</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.383108em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9774399999999999em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.2355em\"><span class=\"overlay\" style=\"height:.714em;width:.471em\"><svg width=\"0.471em\" height=\"0.714em\" style=\"width:.471em\" viewbox=\"0 0 471 714\" preserveaspectratio=\"xMinYMin\"><path d=\"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z\"/></svg></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4591600000000002em\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9591599999999998em\"><span style=\"top:-3.95916em\"><span class=\"pstrut\" style=\"height:3.0448em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9578799999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.25em\">^</span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.31166399999999994em\"><span style=\"top:-2.5500000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9578799999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.25em\">^</span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.311664em\"><span style=\"top:-2.5500000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.05724em\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.2687479999999995em\"><span class=\"pstrut\" style=\"height:3.0448em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.311664em\"><span style=\"top:-2.5500000000000003em;margin-left:-.03785em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span><span class=\"mord mathdefault mtight\" style=\"margin-right:.05724em\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9578799999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.25em\">^</span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.31166399999999994em\"><span style=\"top:-2.5500000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9578799999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.25em\">^</span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.311664em\"><span style=\"top:-2.5500000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.05724em\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4591600000000002em\"><span></span></span></span></span></span></span></span></span></span></span></span></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p>结论：<strong>纵向无旋，横向无源</strong></p><hr><p>任意给定一个矢量函数 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>w</mi><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo>=</mo><mo>(</mo><msub><mi>w</mi><mn>1</mn></msub><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo separator=\"true\">,</mo><msub><mi>w</mi><mn>2</mn></msub><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo separator=\"true\">,</mo><msub><mi>w</mi><mn>3</mn></msub><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">w(\\overrightarrow{x})=(w_1(\\overrightarrow{x}),w_2(\\overrightarrow{x}),w_3(\\overrightarrow{x}))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.20256em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.20256em;vertical-align:-.25em\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.02691em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.02691em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.02691em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mclose\">)</span></span></span></span>。在傅立叶空间中，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mover accent=\"true\"><mi>k</mi><mo stretchy=\"true\">→</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\overrightarrow{k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.21644em;vertical-align:0\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.21644em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span class=\"svg-align\" style=\"top:-3.69444em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span></span></span></span>模式的系数<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>w</mi><mo>(</mo><mover accent=\"true\"><mi>k</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo>=</mo><mo>(</mo><msub><mi>w</mi><mn>1</mn></msub><mo>(</mo><mover accent=\"true\"><mi>k</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo separator=\"true\">,</mo><msub><mi>w</mi><mn>2</mn></msub><mo>(</mo><mover accent=\"true\"><mi>k</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo separator=\"true\">,</mo><msub><mi>w</mi><mn>3</mn></msub><mo>(</mo><mover accent=\"true\"><mi>k</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">w(\\overrightarrow{k})=(w_1(\\overrightarrow{k}),w_2(\\overrightarrow{k}),w_3(\\overrightarrow{k}))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.46644em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.21644em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span class=\"svg-align\" style=\"top:-3.69444em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.46644em;vertical-align:-.25em\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.02691em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.21644em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span class=\"svg-align\" style=\"top:-3.69444em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.02691em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.21644em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span class=\"svg-align\" style=\"top:-3.69444em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:.16666666666666666em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.30110799999999993em\"><span style=\"top:-2.5500000000000003em;margin-left:-.02691em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.21644em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span class=\"svg-align\" style=\"top:-3.69444em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mclose\">)</span></span></span></span><br>可以分解为动量<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span>的平行和垂直方向。</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>w</mi><mo>=</mo><msup><mi>w</mi><mrow><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">/</mi></mrow></msup><mo>+</mo><msup><mi>w</mi><mi mathvariant=\"normal\">⊥</mi></msup></mrow><annotation encoding=\"application/x-tex\">w = w^{//} + w^{\\bot}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.43056em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0213299999999998em;vertical-align:-.08333em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.938em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">/</span><span class=\"mord mtight\">/</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.8991079999999999em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8991079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">⊥</span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>且有 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>w</mi><mrow><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">/</mi></mrow></msup><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">/</mi><mover accent=\"true\"><mi>k</mi><mo stretchy=\"true\">→</mo></mover></mrow><annotation encoding=\"application/x-tex\">w^{//} // \\overrightarrow{k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.46644em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8879999999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">/</span><span class=\"mord mtight\">/</span></span></span></span></span></span></span></span></span><span class=\"mord\">/</span><span class=\"mord\">/</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.21644em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span class=\"svg-align\" style=\"top:-3.69444em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span></span></span></span>及 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>w</mi><mi mathvariant=\"normal\">⊥</mi></msup><mo>⋅</mo><mover accent=\"true\"><mi>k</mi><mo stretchy=\"true\">→</mo></mover><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">w^{\\bot}\\cdot{\\overrightarrow{k}} = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.849108em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.849108em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">⊥</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.21644em;vertical-align:0\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.21644em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span class=\"svg-align\" style=\"top:-3.69444em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">0</span></span></span></span></p><p>回到实空间中，发现 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>w</mi><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">w(\\overrightarrow{x})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.20256em;vertical-align:-.25em\"></span><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 可以分解为纵向和横向两部分，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>w</mi><mrow><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">/</mi></mrow></msup><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">w^{//}(\\overrightarrow{x})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.20256em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8879999999999999em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">/</span><span class=\"mord mtight\">/</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>w</mi><mi mathvariant=\"normal\">⊥</mi></msup><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">w^{\\bot}(\\overrightarrow{x})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.20256em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.849108em\"><span style=\"top:-3.063em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">⊥</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>。分别有如下性质：</p><ul><li>纵向无旋</li></ul><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">∇</mi><mo>×</mo><msup><mi>w</mi><mrow><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">/</mi></mrow></msup><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\nabla \\times w^{//}(\\overrightarrow{x}) = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.76666em;vertical-align:-.08333em\"></span><span class=\"mord\">∇</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.20256em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.938em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">/</span><span class=\"mord mtight\">/</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">0</span></span></span></span></span></p><ul><li>横向无源</li></ul><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">∇</mi><mo>⋅</mo><msup><mi>w</mi><mi mathvariant=\"normal\">⊥</mi></msup><mo>(</mo><mover accent=\"true\"><mi>x</mi><mo stretchy=\"true\">→</mo></mover><mo>)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\nabla \\cdot w^{\\bot}(\\overrightarrow{x}) = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.68333em;vertical-align:0\"></span><span class=\"mord\">∇</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.20256em;vertical-align:-.25em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.02691em\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8991079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">⊥</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9525600000000001em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span></span></span><span class=\"svg-align\" style=\"top:-3.43056em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"hide-tail\" style=\"height:.522em;min-width:.888em\"><svg width=\"400em\" height=\"0.522em\" viewbox=\"0 0 400000 522\" preserveaspectratio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:.64444em;vertical-align:0\"></span><span class=\"mord\">0</span></span></span></span></span></p><h1 id=\"投影算符\"><a class=\"markdownIt-Anchor\" href=\"#投影算符\"></a> 投影算符</h1><p>傅立叶空间中，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:.69444em;vertical-align:0\"></span><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span></span> mode 的纵向（横向）投影算符分别为</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msup><mi>P</mi><mo>∥</mo></msup><mo>(</mo><mover accent=\"true\"><mi>k</mi><mo>⃗</mo></mover><mo>)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mover accent=\"true\"><mi>k</mi><mo>^</mo></mover><mo>⊗</mo><mover accent=\"true\"><mi>k</mi><mo>^</mo></mover></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msup><mi>P</mi><mo>⊥</mo></msup><mo>(</mo><mover accent=\"true\"><mi>k</mi><mo>⃗</mo></mover><mo>)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mn>1</mn><mo>−</mo><mover accent=\"true\"><mi>k</mi><mo>^</mo></mover><mo>⊗</mo><mover accent=\"true\"><mi>k</mi><mo>^</mo></mover></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned} P^{\\parallel}(\\vec{k}) &amp;= \\hat{k}\\otimes\\hat{k} \\\\ P^{\\perp}(\\vec{k}) &amp;= 1 - \\hat{k}\\otimes\\hat{k} \\\\ \\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.27488em;vertical-align:-1.38744em\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.88744em\"><span style=\"top:-3.91em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.13889em\">P</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.938em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mrel mtight\">∥</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9774399999999999em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.2355em\"><span class=\"overlay\" style=\"height:.714em;width:.471em\"><svg width=\"0.471em\" height=\"0.714em\" style=\"width:.471em\" viewbox=\"0 0 471 714\" preserveaspectratio=\"xMinYMin\"><path d=\"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z\"/></svg></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span><span style=\"top:-2.2725600000000004em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.13889em\">P</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.8991079999999999em\"><span style=\"top:-3.113em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mrel mtight\">⊥</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9774399999999999em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.2355em\"><span class=\"overlay\" style=\"height:.714em;width:.471em\"><svg width=\"0.471em\" height=\"0.714em\" style=\"width:.471em\" viewbox=\"0 0 471 714\" preserveaspectratio=\"xMinYMin\"><path d=\"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z\"/></svg></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.38744em\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.88744em\"><span style=\"top:-3.91em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9578799999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.25em\">^</span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9578799999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.25em\">^</span></span></span></span></span></span></span></span><span style=\"top:-2.2725600000000004em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9578799999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.25em\">^</span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9578799999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.25em\">^</span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.38744em\"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>或者分量表示</p><p class=\"katex-block\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msubsup><mi>P</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>∥</mo></msubsup><mo>(</mo><mover accent=\"true\"><mi>k</mi><mo>⃗</mo></mover><mo>)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><msub><mover accent=\"true\"><mi>k</mi><mo>^</mo></mover><mi>i</mi></msub><msub><mover accent=\"true\"><mi>k</mi><mo>^</mo></mover><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msubsup><mi>P</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>⊥</mo></msubsup><mo>(</mo><mover accent=\"true\"><mi>k</mi><mo>⃗</mo></mover><mo>)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><msub><mi>δ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>−</mo><msub><mover accent=\"true\"><mi>k</mi><mo>^</mo></mover><mi>i</mi></msub><msub><mover accent=\"true\"><mi>k</mi><mo>^</mo></mover><mi>j</mi></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned} P^{\\parallel}_{ij}(\\vec{k}) &amp;= \\hat{k}_i\\hat{k}_j \\\\ P^{\\perp}_{ij}(\\vec{k}) &amp;= \\delta_{ij} - \\hat{k}_i\\hat{k}_j \\\\ \\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.41832em;vertical-align:-1.4591600000000002em\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9591599999999998em\"><span style=\"top:-3.95916em\"><span class=\"pstrut\" style=\"height:3.0448em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.13889em\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em\"><span style=\"top:-2.4231360000000004em;margin-left:-.13889em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span><span class=\"mord mathdefault mtight\" style=\"margin-right:.05724em\">j</span></span></span></span><span style=\"top:-3.2198em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mrel mtight\">∥</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.412972em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9774399999999999em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.2355em\"><span class=\"overlay\" style=\"height:.714em;width:.471em\"><svg width=\"0.471em\" height=\"0.714em\" style=\"width:.471em\" viewbox=\"0 0 471 714\" preserveaspectratio=\"xMinYMin\"><path d=\"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z\"/></svg></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span><span style=\"top:-2.2687479999999995em\"><span class=\"pstrut\" style=\"height:3.0448em\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.13889em\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.899108em\"><span style=\"top:-2.4530000000000003em;margin-left:-.13889em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span><span class=\"mord mathdefault mtight\" style=\"margin-right:.05724em\">j</span></span></span></span><span style=\"top:-3.1130000000000004em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mrel mtight\">⊥</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.383108em\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9774399999999999em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.2355em\"><span class=\"overlay\" style=\"height:.714em;width:.471em\"><svg width=\"0.471em\" height=\"0.714em\" style=\"width:.471em\" viewbox=\"0 0 471 714\" preserveaspectratio=\"xMinYMin\"><path d=\"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z\"/></svg></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4591600000000002em\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9591599999999998em\"><span style=\"top:-3.95916em\"><span class=\"pstrut\" style=\"height:3.0448em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9578799999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.25em\">^</span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.31166399999999994em\"><span style=\"top:-2.5500000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9578799999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.25em\">^</span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.311664em\"><span style=\"top:-2.5500000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.05724em\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.2687479999999995em\"><span class=\"pstrut\" style=\"height:3.0448em\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:.2777777777777778em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03785em\">δ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.311664em\"><span style=\"top:-2.5500000000000003em;margin-left:-.03785em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span><span class=\"mord mathdefault mtight\" style=\"margin-right:.05724em\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:.2222222222222222em\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9578799999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.25em\">^</span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.31166399999999994em\"><span style=\"top:-2.5500000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.15em\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.9578799999999998em\"><span style=\"top:-3em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:.03148em\">k</span></span></span><span style=\"top:-3.26344em\"><span class=\"pstrut\" style=\"height:3em\"></span><span class=\"accent-body\" style=\"left:-.25em\">^</span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.311664em\"><span style=\"top:-2.5500000000000003em;margin-right:.05em\"><span class=\"pstrut\" style=\"height:2.7em\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:.05724em\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:.286108em\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4591600000000002em\"><span></span></span></span></span></span></span></span></span></span></span></span></p><!-- rebuild by neat -->"},{"title":"vim 编译安装及配置","mathjax":false,"toc":true,"abbrlink":3465068350,"date":"2018-12-08T06:56:12.000Z","_content":"# 下载源代码\n从`github`下载`vim`，好处是可以自由切换版本。\n```bash\ngit clone https://github.com/vim/vim.git\n\n# 进入 vim\ncd vim\n\n# 查看当前版本\ngit describe --tags\n```\n\n# 编译安装\n```bash\n# 清除上次configure留下的痕迹\nmake distclean\n\n# 重新configure\n./configure \\\n--prefix=/path/to/vim \\\n--with-features=huge \\\n--enable-pythoninterp=yes \\\n--enable-python3interp=yes \\\n--enable-rubyinterp=yes \\\n--enable-luainterp=yes \\\n--enable-perlinterp=yes \\\n--enable-multibyte=yes \\\n--enable-cscope \\\n\n# 安装\nmake && make install\n```\n\n# 卸载\n`vim`的`Makefile`提供了`uninstall`选项，因此卸载很容易。\n```bash\ncd vim && make uninstall\n```\n","source":"_posts/vim-install-from-source.md","raw":"---\ntitle: vim 编译安装及配置\nmathjax: false\ntoc: true\ncategory:\n  - Vim\ntags:\n  - vim\nabbrlink: 3465068350\ndate: 2018-12-08 14:56:12\n---\n# 下载源代码\n从`github`下载`vim`，好处是可以自由切换版本。\n```bash\ngit clone https://github.com/vim/vim.git\n\n# 进入 vim\ncd vim\n\n# 查看当前版本\ngit describe --tags\n```\n\n# 编译安装\n```bash\n# 清除上次configure留下的痕迹\nmake distclean\n\n# 重新configure\n./configure \\\n--prefix=/path/to/vim \\\n--with-features=huge \\\n--enable-pythoninterp=yes \\\n--enable-python3interp=yes \\\n--enable-rubyinterp=yes \\\n--enable-luainterp=yes \\\n--enable-perlinterp=yes \\\n--enable-multibyte=yes \\\n--enable-cscope \\\n\n# 安装\nmake && make install\n```\n\n# 卸载\n`vim`的`Makefile`提供了`uninstall`选项，因此卸载很容易。\n```bash\ncd vim && make uninstall\n```\n","slug":"vim-install-from-source","published":1,"updated":"2019-04-21T01:58:28.764Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq8g001th51ji30s4e6g","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h1 id=\"下载源代码\"><a class=\"markdownIt-Anchor\" href=\"#下载源代码\"></a> 下载源代码</h1><p>从<code>github</code>下载<code>vim</code>，好处是可以自由切换版本。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/vim/vim.git</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 进入 vim</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> vim</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看当前版本</span></span><br><span class=\"line\">git describe --tags</span><br></pre></td></tr></table></figure><h1 id=\"编译安装\"><a class=\"markdownIt-Anchor\" href=\"#编译安装\"></a> 编译安装</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 清除上次configure留下的痕迹</span></span><br><span class=\"line\">make distclean</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 重新configure</span></span><br><span class=\"line\">./configure \\</span><br><span class=\"line\">--prefix=/path/to/vim \\</span><br><span class=\"line\">--with-features=huge \\</span><br><span class=\"line\">--<span class=\"built_in\">enable</span>-pythoninterp=yes \\</span><br><span class=\"line\">--<span class=\"built_in\">enable</span>-python3interp=yes \\</span><br><span class=\"line\">--<span class=\"built_in\">enable</span>-rubyinterp=yes \\</span><br><span class=\"line\">--<span class=\"built_in\">enable</span>-luainterp=yes \\</span><br><span class=\"line\">--<span class=\"built_in\">enable</span>-perlinterp=yes \\</span><br><span class=\"line\">--<span class=\"built_in\">enable</span>-multibyte=yes \\</span><br><span class=\"line\">--<span class=\"built_in\">enable</span>-cscope \\</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 安装</span></span><br><span class=\"line\">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><h1 id=\"卸载\"><a class=\"markdownIt-Anchor\" href=\"#卸载\"></a> 卸载</h1><p><code>vim</code>的<code>Makefile</code>提供了<code>uninstall</code>选项，因此卸载很容易。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> vim &amp;&amp; make uninstall</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h1 id=\"下载源代码\"><a class=\"markdownIt-Anchor\" href=\"#下载源代码\"></a> 下载源代码</h1><p>从<code>github</code>下载<code>vim</code>，好处是可以自由切换版本。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/vim/vim.git</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 进入 vim</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> vim</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看当前版本</span></span><br><span class=\"line\">git describe --tags</span><br></pre></td></tr></table></figure><h1 id=\"编译安装\"><a class=\"markdownIt-Anchor\" href=\"#编译安装\"></a> 编译安装</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 清除上次configure留下的痕迹</span></span><br><span class=\"line\">make distclean</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 重新configure</span></span><br><span class=\"line\">./configure \\</span><br><span class=\"line\">--prefix=/path/to/vim \\</span><br><span class=\"line\">--with-features=huge \\</span><br><span class=\"line\">--<span class=\"built_in\">enable</span>-pythoninterp=yes \\</span><br><span class=\"line\">--<span class=\"built_in\">enable</span>-python3interp=yes \\</span><br><span class=\"line\">--<span class=\"built_in\">enable</span>-rubyinterp=yes \\</span><br><span class=\"line\">--<span class=\"built_in\">enable</span>-luainterp=yes \\</span><br><span class=\"line\">--<span class=\"built_in\">enable</span>-perlinterp=yes \\</span><br><span class=\"line\">--<span class=\"built_in\">enable</span>-multibyte=yes \\</span><br><span class=\"line\">--<span class=\"built_in\">enable</span>-cscope \\</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 安装</span></span><br><span class=\"line\">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><h1 id=\"卸载\"><a class=\"markdownIt-Anchor\" href=\"#卸载\"></a> 卸载</h1><p><code>vim</code>的<code>Makefile</code>提供了<code>uninstall</code>选项，因此卸载很容易。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> vim &amp;&amp; make uninstall</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"Ubuntu 16.04 LTS 开启BBR","mathjax":false,"toc":true,"abbrlink":3381164653,"date":"2019-01-05T16:56:29.000Z","_content":"Vultr 上安装 ubuntu 16.04 并开启BBR。\n\n# 更新内核\n`BBR`只支持4.9+的Linux内核版本，因此首先检查并更新内核。\n```bash\n# 查看当前内核版本\nuname -r\n\n# 安装最新版内核\nsudo apt install linux-image-generic-hwe-16.04\n```\n\n# 重启\n```bash\nsudo reboot\n```\n\n# 开启BBR\n添加如下两行至文件`/etc/sysctl.conf`\n```bash\nnet.ipv4.default_qdisc=fq\nnet.ipv4.tcp_congestion_control=bbr\n```\n\n启动bbr\n```bash\nsysctl -p\n```\n\n验证是否成功\n```bash\nlsmod | grep bbr\n\ntcp_bbr         20480 1\n```\n","source":"_posts/vultr-ubuntu16-04-bbr.md","raw":"---\ntitle: Ubuntu 16.04 LTS 开启BBR\nmathjax: false\ntoc: true\ncategory:\n  - Vultr\ntags:\n  - BBR\nabbrlink: 3381164653\ndate: 2019-01-06 00:56:29\n---\nVultr 上安装 ubuntu 16.04 并开启BBR。\n\n# 更新内核\n`BBR`只支持4.9+的Linux内核版本，因此首先检查并更新内核。\n```bash\n# 查看当前内核版本\nuname -r\n\n# 安装最新版内核\nsudo apt install linux-image-generic-hwe-16.04\n```\n\n# 重启\n```bash\nsudo reboot\n```\n\n# 开启BBR\n添加如下两行至文件`/etc/sysctl.conf`\n```bash\nnet.ipv4.default_qdisc=fq\nnet.ipv4.tcp_congestion_control=bbr\n```\n\n启动bbr\n```bash\nsysctl -p\n```\n\n验证是否成功\n```bash\nlsmod | grep bbr\n\ntcp_bbr         20480 1\n```\n","slug":"vultr-ubuntu16-04-bbr","published":1,"updated":"2019-04-21T01:58:28.765Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq8i001vh51jb10ornq6","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p>Vultr 上安装 ubuntu 16.04 并开启BBR。</p><h1 id=\"更新内核\"><a class=\"markdownIt-Anchor\" href=\"#更新内核\"></a> 更新内核</h1><p><code>BBR</code>只支持4.9+的Linux内核版本，因此首先检查并更新内核。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看当前内核版本</span></span><br><span class=\"line\">uname -r</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 安装最新版内核</span></span><br><span class=\"line\">sudo apt install linux-image-generic-hwe-16.04</span><br></pre></td></tr></table></figure><h1 id=\"重启\"><a class=\"markdownIt-Anchor\" href=\"#重启\"></a> 重启</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo reboot</span><br></pre></td></tr></table></figure><h1 id=\"开启bbr\"><a class=\"markdownIt-Anchor\" href=\"#开启bbr\"></a> 开启BBR</h1><p>添加如下两行至文件<code>/etc/sysctl.conf</code></p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">net.ipv4.default_qdisc=fq</span><br><span class=\"line\">net.ipv4.tcp_congestion_control=bbr</span><br></pre></td></tr></table></figure><p>启动bbr</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sysctl -p</span><br></pre></td></tr></table></figure><p>验证是否成功</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lsmod | grep bbr</span><br><span class=\"line\"></span><br><span class=\"line\">tcp_bbr         20480 1</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><p>Vultr 上安装 ubuntu 16.04 并开启BBR。</p><h1 id=\"更新内核\"><a class=\"markdownIt-Anchor\" href=\"#更新内核\"></a> 更新内核</h1><p><code>BBR</code>只支持4.9+的Linux内核版本，因此首先检查并更新内核。</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看当前内核版本</span></span><br><span class=\"line\">uname -r</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 安装最新版内核</span></span><br><span class=\"line\">sudo apt install linux-image-generic-hwe-16.04</span><br></pre></td></tr></table></figure><h1 id=\"重启\"><a class=\"markdownIt-Anchor\" href=\"#重启\"></a> 重启</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo reboot</span><br></pre></td></tr></table></figure><h1 id=\"开启bbr\"><a class=\"markdownIt-Anchor\" href=\"#开启bbr\"></a> 开启BBR</h1><p>添加如下两行至文件<code>/etc/sysctl.conf</code></p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">net.ipv4.default_qdisc=fq</span><br><span class=\"line\">net.ipv4.tcp_congestion_control=bbr</span><br></pre></td></tr></table></figure><p>启动bbr</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sysctl -p</span><br></pre></td></tr></table></figure><p>验证是否成功</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lsmod | grep bbr</span><br><span class=\"line\"></span><br><span class=\"line\">tcp_bbr         20480 1</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"vim 技巧","mathjax":false,"toc":true,"abbrlink":4131642440,"date":"2019-02-18T02:11:19.000Z","_content":"\n## 用法\n### 自定义映射\n\n#### 正确使用option/Alt键\n`option`键在`macOS`下作为组合按键之一，对应于PC、Linux上的`Alt`键，但是功能不太一样。`Mac`上字母及一些标点符号与`option`组合会输出`unicode`字符。\n原因在于按下按下`option`键发送的不是`Escape\nSequence`。因此在`vim,emacs`等终端软件中，没法直接使用`Alt`键定义映射。\n\n找到原因就好办，解决方法分为两步：\n1. 在终端中修改`option/Alt`键的行为\n2. 在`vim,emacs`等运行于终端下的软件中进行可能必要的设置\n\n以终端程序`kitty`和`alacritty`为例，具体讨论解决方法中的第一步如何操作。\n- kitty\n  - 打开配置文件`kitty.conf`\n  - 找到选项`macos_option_as_alt no`，将`no`改为`yes`\n- alacrity\n  - 打开配置文件`alacrity.yml`\n  - 定位到`key_bindings`\n  - 添加需要的键位设置，例如 `- { key: x, mods: Alt, chars: \"\\x1bx\" }`\n\n以运行在终端下的`vim`为例，给出第二步中需要的具体操作。\n```vim\nfunction! Terminal_MetaMode(mode)\n    set ttimeout\n    if $TMUX != ''\n        set ttimeoutlen=30\n    elseif &ttimeoutlen > 80 || &ttimeoutlen <= 0\n        set ttimeoutlen=80\n    endif\n    if has('nvim') || has('gui_running') || $TERM_PROGRAM =~? 'iTerm2'\n        return \n    endif\n    \" 👆表示只有某些终端下的vim需要👇的设置\n    function! s:metacode(mode, key)\n        \" 这个函数的作用是告诉vim，<M-x>的键盘序列码是多少\n        \" 这样vim将按照ttimeoutlen的设置来检查是否超时\n        \" 如果用 `noremap <ESC>x <M-x>` 然后 `noremap <M-x> ...`的方式，\n        \" 则会使用timeoutlen来检查是否超时\n        \" 一般timeoutlen设置的相对更大，如果用它更容易误操作，降低使用体验\n        if a:mode == 0\n            exec \"set <M-\".a:key.\">=\\e\".a:key\n        else\n            \"👇这条需要对终端进行更针对性的设置，写本节时只想到在alacrity中设置会容易些\n            exec \"set <M-\".a:key.\">=\\e]{0}\".a:key.\"~\"\n        endif\n    endfunction\n    \" 针对alacrity，还需设置几个功能键\n    if $TERM_PROGRAM =~? 'alacritty'\n        exec \"set <F1>=\\eOP\"\n        exec \"set <F2>=\\eOQ\"\n        exec \"set <F3>=\\eOR\"\n        exec \"set <F4>=\\eOS\"\n    endif\n    for i in range(10)\n        call s:metacode(a:mode, nr2char(char2nr('0') + i))\n    endfor\n    for i in range(26)\n        call s:metacode(a:mode, nr2char(char2nr('a') + i))\n        call s:metacode(a:mode, nr2char(char2nr('A') + i))\n    endfor\n    if a:mode != 0\n        for c in [',', '.', '/'. ';', '[', ']', '{', '}']\n            call s:metacode(a:mode, c)\n        endfor\n        for c in ['?', ':', '-', '_']\n            call s:metacode(a:mode, c)\n        endfor\n    else\n        for c in [',', '.', '/', ';', '{', '}']\n            call s:metacode(a:mode, c)\n        endfor\n        for c in ['?', ':', '-', '_']\n            call s:metacode(a:mode, c)\n        endfor\n    endif\nendfunction\n\n\" 设置用户自定义命令\ncommand! -nargs=0 -bang VimMetaInit call Terminal_MetaMode(<bang>0)\n\" buffer 读入后自动进行设置\naugroup alt_key\n    autocmd!\n    autocmd BufReadPost * :VimMetaInit\naugroup END\n```\n\n\n### 用户自定义事件\n自定义了切换透明和背景的函数，并绑定了快捷键。同时主题栏使用的是[lightline](https://github.com/itchyny/lightline.vim)。\n我为`dark`和`light`两种背景选取不同的`lightline`主题，为了使背景切换之后，主题栏的切换也生效，这里使用用户自定义事件来解决问题。\n当然这不是唯一的方法。\n```vim\nfunction! ToggleBackground()\n    \" A lot of stuff is happening here.\n    \" 定义一个自定义事件\n    doautocmd User ToggleBackgroundExit\nendfunction\n\nfunction! ToggleTransparent()\n    \" A lot of stuff is happening here.\n    \" 定义一个自定义事件\n    doautocmd User ToggleTransparentExit\nendfunction\n```\n现在可以在切换背景和透明度执行完成后做任何想做的事：\n```vim\nautocmd User ToggleBackgroundExit call lightline#enable()\n```\n\n### 插件\n#### 插件管理器（vim-plug）\n[vim-plug](https://github.com/junegunn/vim-plug)是一款异步插件管理器。具有安装速度快，延迟加载等特性。\n这里要讨论的是刚发现的一个特性，可以让插件按照依赖关系进行加载。\n\n栗子🌰，我有三款用于`markdown`的插件，分别是\n\n- [`plasticboy/vim-markdown`](https://github.com/plasticboy/vim-markdown)\n- [`jszakmeister/markdown2ctags`](https://github.com/jszakmeister/markdown2ctags)\n- [`iamcco/markdown-preview.nvim`](https://github.com/iamcco/markdown-preview.nvim)\n\n原本可以在每个插件后面，用`{'for':'markdown'}`使其仅在编辑`.md`文件时才加载。但我发现\n这种方法对第二款插件无效。因此想到这里的办法。\n\n`vim-plug`在调用函数`plug#load()`加载插件之后会以插件名定义一个用户自定义事件。可以利用这一事件触发对其有依赖的插件的调用。如下为具体的使用案例：\n\n```vim\n\" 以文件类型作为加载的依据\nPlug 'iamcco/markdown-preview.nvim', {'for': 'markdown', 'do': 'cd app & yarn install'}\n  \" 下面的插件无法按照文件类型进行加载\n  \" 故通过vim-plug 定义的用户自定义事件进行触发\n  Plug 'plasticboy/vim-markdown', {'on' : []}\n  Plug 'jszakmeister/markdown2ctags', {'on': []}\n  augroup vimplug_load_for_markdown\n    autocmd!\n    autocmd User markdown-preview.nvim plug#load(\n                \\ 'vim-markdown',\n                \\ 'markdown2ctags',\n                \\ )\n                \\ | autocmd! vimplug_load_for_markdown\n  augroup END\n```\n\n进一步，针对一个插件的所有配置可以做到这样：在插件被\n\n- 加载前，不载入\n- 加载后，自动载入\n\n可以这样实现\n\n```vim\n\" 仍然以上面的插件为例\n\" 在载入 vim-markdown之后自动加载相关配置。所有配置在函数SetVimmarkdown()之中\nfunction! SetVimmarkdown()\n    \" all configurations for vim-markdown are at here\nendfunction\n\naugroup load_for_vimmarkdown\n    autocmd!\n    autocmd User vim-markdown call SetVimmarkdown() | autocmd!  load_for_vimmarkdown\naugroup END\n```\n\n#### 中文输入法\n`vim` 的模式切换与中文输入法并不总能够和谐共处。\n|        | 英文 | 中文 |\n|--------|------|------|\n| normal | :)   | :(   |\n| insert | :)   | :)   |\n\n解决这个问题的方式大体上有两种，1、`vim`\n提供中文输入法，那么这个问题就留给`vim`及其插件的开发者们去解决了；2、仍然使用外部中文输入法，如搜狗等，\n那么关键在于以哪种方式自动切换输入法！\n\n这里沿用第二种思路。尝试过如下几种方式：\n\n1. 通过 vim 内置函数模拟按键操作来切换输入法。没有成功，但不排除可行性。\n2. 调用外部程序进行输入法切换。成功，但是并不完美。\n\n所以最终采取的方案是通过调用外部程序在进入和离开`insert`模式时只能切换输入法。实现方式具体看下面的`vim`配置。\n\n```vim\n\" 定义缓冲区变量，使得可以对每个缓冲区单独监控输入法状态\nau BufEnter * let b:im=0\n\" 为了尽量不影响体验，通过异步机制来进行处理\n\" 下面的函数用于在 job 进行过程中处理返回信息\nfun! IMHandler(channel, msg)\n    if a:msg !=? 'com.apple.keylayout.ABC'\n        \" 切换到英文输入法之前保存当前状态\n        let b:im = 1\n        call job_start(['issw', 'com.apple.keylayout.ABC'])\n    endif\nendfun\nfun! Lang2en()\n    let job = job_start(['issw'], {\"out_cb\": \"IMHandler\"})\nendfun\n\" 这里中文输入法的切换用了自己写的脚本，虽然也可以用上面的 issw 命令。\nfun! Lang2zh()\n    if b:im == 1\n        call job_start(['switchim'])\n    endif\nendfun\nautocmd InsertEnter * call Lang2zh()\nautocmd BufEnter,InsertLeave * call Lang2en()\n```\n\n因为不想用破解软件来修改按键映射及快捷键，导致仍有不足之处：\n\n- 调用的外部程序切换输入法不够快，仍然有一定几率产生困扰。\n- insert 模式下，如果要用搜狗输入法，从英文切换回中文比较麻烦。\n","source":"_posts/vim-tips.md","raw":"---\ntitle: vim 技巧\nmathjax: false\ntoc: true\ncategory:\n  - Vim\ntags:\n  - Vim\nabbrlink: 4131642440\ndate: 2019-02-18 10:11:19\n---\n\n## 用法\n### 自定义映射\n\n#### 正确使用option/Alt键\n`option`键在`macOS`下作为组合按键之一，对应于PC、Linux上的`Alt`键，但是功能不太一样。`Mac`上字母及一些标点符号与`option`组合会输出`unicode`字符。\n原因在于按下按下`option`键发送的不是`Escape\nSequence`。因此在`vim,emacs`等终端软件中，没法直接使用`Alt`键定义映射。\n\n找到原因就好办，解决方法分为两步：\n1. 在终端中修改`option/Alt`键的行为\n2. 在`vim,emacs`等运行于终端下的软件中进行可能必要的设置\n\n以终端程序`kitty`和`alacritty`为例，具体讨论解决方法中的第一步如何操作。\n- kitty\n  - 打开配置文件`kitty.conf`\n  - 找到选项`macos_option_as_alt no`，将`no`改为`yes`\n- alacrity\n  - 打开配置文件`alacrity.yml`\n  - 定位到`key_bindings`\n  - 添加需要的键位设置，例如 `- { key: x, mods: Alt, chars: \"\\x1bx\" }`\n\n以运行在终端下的`vim`为例，给出第二步中需要的具体操作。\n```vim\nfunction! Terminal_MetaMode(mode)\n    set ttimeout\n    if $TMUX != ''\n        set ttimeoutlen=30\n    elseif &ttimeoutlen > 80 || &ttimeoutlen <= 0\n        set ttimeoutlen=80\n    endif\n    if has('nvim') || has('gui_running') || $TERM_PROGRAM =~? 'iTerm2'\n        return \n    endif\n    \" 👆表示只有某些终端下的vim需要👇的设置\n    function! s:metacode(mode, key)\n        \" 这个函数的作用是告诉vim，<M-x>的键盘序列码是多少\n        \" 这样vim将按照ttimeoutlen的设置来检查是否超时\n        \" 如果用 `noremap <ESC>x <M-x>` 然后 `noremap <M-x> ...`的方式，\n        \" 则会使用timeoutlen来检查是否超时\n        \" 一般timeoutlen设置的相对更大，如果用它更容易误操作，降低使用体验\n        if a:mode == 0\n            exec \"set <M-\".a:key.\">=\\e\".a:key\n        else\n            \"👇这条需要对终端进行更针对性的设置，写本节时只想到在alacrity中设置会容易些\n            exec \"set <M-\".a:key.\">=\\e]{0}\".a:key.\"~\"\n        endif\n    endfunction\n    \" 针对alacrity，还需设置几个功能键\n    if $TERM_PROGRAM =~? 'alacritty'\n        exec \"set <F1>=\\eOP\"\n        exec \"set <F2>=\\eOQ\"\n        exec \"set <F3>=\\eOR\"\n        exec \"set <F4>=\\eOS\"\n    endif\n    for i in range(10)\n        call s:metacode(a:mode, nr2char(char2nr('0') + i))\n    endfor\n    for i in range(26)\n        call s:metacode(a:mode, nr2char(char2nr('a') + i))\n        call s:metacode(a:mode, nr2char(char2nr('A') + i))\n    endfor\n    if a:mode != 0\n        for c in [',', '.', '/'. ';', '[', ']', '{', '}']\n            call s:metacode(a:mode, c)\n        endfor\n        for c in ['?', ':', '-', '_']\n            call s:metacode(a:mode, c)\n        endfor\n    else\n        for c in [',', '.', '/', ';', '{', '}']\n            call s:metacode(a:mode, c)\n        endfor\n        for c in ['?', ':', '-', '_']\n            call s:metacode(a:mode, c)\n        endfor\n    endif\nendfunction\n\n\" 设置用户自定义命令\ncommand! -nargs=0 -bang VimMetaInit call Terminal_MetaMode(<bang>0)\n\" buffer 读入后自动进行设置\naugroup alt_key\n    autocmd!\n    autocmd BufReadPost * :VimMetaInit\naugroup END\n```\n\n\n### 用户自定义事件\n自定义了切换透明和背景的函数，并绑定了快捷键。同时主题栏使用的是[lightline](https://github.com/itchyny/lightline.vim)。\n我为`dark`和`light`两种背景选取不同的`lightline`主题，为了使背景切换之后，主题栏的切换也生效，这里使用用户自定义事件来解决问题。\n当然这不是唯一的方法。\n```vim\nfunction! ToggleBackground()\n    \" A lot of stuff is happening here.\n    \" 定义一个自定义事件\n    doautocmd User ToggleBackgroundExit\nendfunction\n\nfunction! ToggleTransparent()\n    \" A lot of stuff is happening here.\n    \" 定义一个自定义事件\n    doautocmd User ToggleTransparentExit\nendfunction\n```\n现在可以在切换背景和透明度执行完成后做任何想做的事：\n```vim\nautocmd User ToggleBackgroundExit call lightline#enable()\n```\n\n### 插件\n#### 插件管理器（vim-plug）\n[vim-plug](https://github.com/junegunn/vim-plug)是一款异步插件管理器。具有安装速度快，延迟加载等特性。\n这里要讨论的是刚发现的一个特性，可以让插件按照依赖关系进行加载。\n\n栗子🌰，我有三款用于`markdown`的插件，分别是\n\n- [`plasticboy/vim-markdown`](https://github.com/plasticboy/vim-markdown)\n- [`jszakmeister/markdown2ctags`](https://github.com/jszakmeister/markdown2ctags)\n- [`iamcco/markdown-preview.nvim`](https://github.com/iamcco/markdown-preview.nvim)\n\n原本可以在每个插件后面，用`{'for':'markdown'}`使其仅在编辑`.md`文件时才加载。但我发现\n这种方法对第二款插件无效。因此想到这里的办法。\n\n`vim-plug`在调用函数`plug#load()`加载插件之后会以插件名定义一个用户自定义事件。可以利用这一事件触发对其有依赖的插件的调用。如下为具体的使用案例：\n\n```vim\n\" 以文件类型作为加载的依据\nPlug 'iamcco/markdown-preview.nvim', {'for': 'markdown', 'do': 'cd app & yarn install'}\n  \" 下面的插件无法按照文件类型进行加载\n  \" 故通过vim-plug 定义的用户自定义事件进行触发\n  Plug 'plasticboy/vim-markdown', {'on' : []}\n  Plug 'jszakmeister/markdown2ctags', {'on': []}\n  augroup vimplug_load_for_markdown\n    autocmd!\n    autocmd User markdown-preview.nvim plug#load(\n                \\ 'vim-markdown',\n                \\ 'markdown2ctags',\n                \\ )\n                \\ | autocmd! vimplug_load_for_markdown\n  augroup END\n```\n\n进一步，针对一个插件的所有配置可以做到这样：在插件被\n\n- 加载前，不载入\n- 加载后，自动载入\n\n可以这样实现\n\n```vim\n\" 仍然以上面的插件为例\n\" 在载入 vim-markdown之后自动加载相关配置。所有配置在函数SetVimmarkdown()之中\nfunction! SetVimmarkdown()\n    \" all configurations for vim-markdown are at here\nendfunction\n\naugroup load_for_vimmarkdown\n    autocmd!\n    autocmd User vim-markdown call SetVimmarkdown() | autocmd!  load_for_vimmarkdown\naugroup END\n```\n\n#### 中文输入法\n`vim` 的模式切换与中文输入法并不总能够和谐共处。\n|        | 英文 | 中文 |\n|--------|------|------|\n| normal | :)   | :(   |\n| insert | :)   | :)   |\n\n解决这个问题的方式大体上有两种，1、`vim`\n提供中文输入法，那么这个问题就留给`vim`及其插件的开发者们去解决了；2、仍然使用外部中文输入法，如搜狗等，\n那么关键在于以哪种方式自动切换输入法！\n\n这里沿用第二种思路。尝试过如下几种方式：\n\n1. 通过 vim 内置函数模拟按键操作来切换输入法。没有成功，但不排除可行性。\n2. 调用外部程序进行输入法切换。成功，但是并不完美。\n\n所以最终采取的方案是通过调用外部程序在进入和离开`insert`模式时只能切换输入法。实现方式具体看下面的`vim`配置。\n\n```vim\n\" 定义缓冲区变量，使得可以对每个缓冲区单独监控输入法状态\nau BufEnter * let b:im=0\n\" 为了尽量不影响体验，通过异步机制来进行处理\n\" 下面的函数用于在 job 进行过程中处理返回信息\nfun! IMHandler(channel, msg)\n    if a:msg !=? 'com.apple.keylayout.ABC'\n        \" 切换到英文输入法之前保存当前状态\n        let b:im = 1\n        call job_start(['issw', 'com.apple.keylayout.ABC'])\n    endif\nendfun\nfun! Lang2en()\n    let job = job_start(['issw'], {\"out_cb\": \"IMHandler\"})\nendfun\n\" 这里中文输入法的切换用了自己写的脚本，虽然也可以用上面的 issw 命令。\nfun! Lang2zh()\n    if b:im == 1\n        call job_start(['switchim'])\n    endif\nendfun\nautocmd InsertEnter * call Lang2zh()\nautocmd BufEnter,InsertLeave * call Lang2en()\n```\n\n因为不想用破解软件来修改按键映射及快捷键，导致仍有不足之处：\n\n- 调用的外部程序切换输入法不够快，仍然有一定几率产生困扰。\n- insert 模式下，如果要用搜狗输入法，从英文切换回中文比较麻烦。\n","slug":"vim-tips","published":1,"updated":"2019-04-21T01:58:28.765Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjuqawq9b003rh51jyobpm6dr","content":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h2 id=\"用法\"><a class=\"markdownIt-Anchor\" href=\"#用法\"></a> 用法</h2><h3 id=\"自定义映射\"><a class=\"markdownIt-Anchor\" href=\"#自定义映射\"></a> 自定义映射</h3><h4 id=\"正确使用optionalt键\"><a class=\"markdownIt-Anchor\" href=\"#正确使用optionalt键\"></a> 正确使用option/Alt键</h4><p><code>option</code>键在<code>macOS</code>下作为组合按键之一，对应于PC、Linux上的<code>Alt</code>键，但是功能不太一样。<code>Mac</code>上字母及一些标点符号与<code>option</code>组合会输出<code>unicode</code>字符。<br>原因在于按下按下<code>option</code>键发送的不是<code>Escape Sequence</code>。因此在<code>vim,emacs</code>等终端软件中，没法直接使用<code>Alt</code>键定义映射。</p><p>找到原因就好办，解决方法分为两步：</p><ol><li>在终端中修改<code>option/Alt</code>键的行为</li><li>在<code>vim,emacs</code>等运行于终端下的软件中进行可能必要的设置</li></ol><p>以终端程序<code>kitty</code>和<code>alacritty</code>为例，具体讨论解决方法中的第一步如何操作。</p><ul><li>kitty<ul><li>打开配置文件<code>kitty.conf</code></li><li>找到选项<code>macos_option_as_alt no</code>，将<code>no</code>改为<code>yes</code></li></ul></li><li>alacrity<ul><li>打开配置文件<code>alacrity.yml</code></li><li>定位到<code>key_bindings</code></li><li>添加需要的键位设置，例如 <code>- { key: x, mods: Alt, chars: &quot;\\x1bx&quot; }</code></li></ul></li></ul><p>以运行在终端下的<code>vim</code>为例，给出第二步中需要的具体操作。</p><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>! <span class=\"title\">Terminal_MetaMode</span><span class=\"params\">(mode)</span></span></span><br><span class=\"line\">    <span class=\"keyword\">set</span> ttimeout</span><br><span class=\"line\">    <span class=\"keyword\">if</span> $TMUX != <span class=\"string\">''</span></span><br><span class=\"line\">        <span class=\"keyword\">set</span> ttimeoutlen=<span class=\"number\">30</span></span><br><span class=\"line\">    <span class=\"keyword\">elseif</span> &amp;ttimeoutlen &gt; <span class=\"number\">80</span> || &amp;ttimeoutlen &lt;= <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">set</span> ttimeoutlen=<span class=\"number\">80</span></span><br><span class=\"line\">    <span class=\"keyword\">endif</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"built_in\">has</span>(<span class=\"string\">'nvim'</span>) || <span class=\"built_in\">has</span>(<span class=\"string\">'gui_running'</span>) || $TERM_PROGRAM =~? <span class=\"string\">'iTerm2'</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> </span><br><span class=\"line\">    <span class=\"keyword\">endif</span></span><br><span class=\"line\">    <span class=\"comment\">\" 👆表示只有某些终端下的vim需要👇的设置</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span>! <span class=\"title\">s</span>:<span class=\"title\">metacode</span><span class=\"params\">(mode, key)</span></span></span><br><span class=\"line\">        <span class=\"comment\">\" 这个函数的作用是告诉vim，&lt;M-x&gt;的键盘序列码是多少</span></span><br><span class=\"line\">        <span class=\"comment\">\" 这样vim将按照ttimeoutlen的设置来检查是否超时</span></span><br><span class=\"line\">        <span class=\"comment\">\" 如果用 `noremap &lt;ESC&gt;x &lt;M-x&gt;` 然后 `noremap &lt;M-x&gt; ...`的方式，</span></span><br><span class=\"line\">        <span class=\"comment\">\" 则会使用timeoutlen来检查是否超时</span></span><br><span class=\"line\">        <span class=\"comment\">\" 一般timeoutlen设置的相对更大，如果用它更容易误操作，降低使用体验</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"variable\">a:mode</span> == <span class=\"number\">0</span></span><br><span class=\"line\">            exec <span class=\"string\">\"set &lt;M-\"</span>.<span class=\"variable\">a:key</span>.<span class=\"string\">\"&gt;=\\e\"</span>.<span class=\"variable\">a:key</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">            <span class=\"comment\">\"👇这条需要对终端进行更针对性的设置，写本节时只想到在alacrity中设置会容易些</span></span><br><span class=\"line\">            exec <span class=\"string\">\"set &lt;M-\"</span>.<span class=\"variable\">a:key</span>.<span class=\"string\">\"&gt;=\\e]&#123;0&#125;\"</span>.<span class=\"variable\">a:key</span>.<span class=\"string\">\"~\"</span></span><br><span class=\"line\">        <span class=\"keyword\">endif</span></span><br><span class=\"line\">    <span class=\"keyword\">endfunction</span></span><br><span class=\"line\">    <span class=\"comment\">\" 针对alacrity，还需设置几个功能键</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> $TERM_PROGRAM =~? <span class=\"string\">'alacritty'</span></span><br><span class=\"line\">        exec <span class=\"string\">\"set &lt;F1&gt;=\\eOP\"</span></span><br><span class=\"line\">        exec <span class=\"string\">\"set &lt;F2&gt;=\\eOQ\"</span></span><br><span class=\"line\">        exec <span class=\"string\">\"set &lt;F3&gt;=\\eOR\"</span></span><br><span class=\"line\">        exec <span class=\"string\">\"set &lt;F4&gt;=\\eOS\"</span></span><br><span class=\"line\">    <span class=\"keyword\">endif</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i in <span class=\"built_in\">range</span>(<span class=\"number\">10</span>)</span><br><span class=\"line\">        <span class=\"keyword\">call</span> <span class=\"variable\">s:metacode</span>(<span class=\"variable\">a:mode</span>, <span class=\"built_in\">nr2char</span>(<span class=\"built_in\">char2nr</span>(<span class=\"string\">'0'</span>) + i))</span><br><span class=\"line\">    <span class=\"keyword\">endfor</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i in <span class=\"built_in\">range</span>(<span class=\"number\">26</span>)</span><br><span class=\"line\">        <span class=\"keyword\">call</span> <span class=\"variable\">s:metacode</span>(<span class=\"variable\">a:mode</span>, <span class=\"built_in\">nr2char</span>(<span class=\"built_in\">char2nr</span>(<span class=\"string\">'a'</span>) + i))</span><br><span class=\"line\">        <span class=\"keyword\">call</span> <span class=\"variable\">s:metacode</span>(<span class=\"variable\">a:mode</span>, <span class=\"built_in\">nr2char</span>(<span class=\"built_in\">char2nr</span>(<span class=\"string\">'A'</span>) + i))</span><br><span class=\"line\">    <span class=\"keyword\">endfor</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"variable\">a:mode</span> != <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> <span class=\"keyword\">c</span> in [<span class=\"string\">','</span>, <span class=\"string\">'.'</span>, <span class=\"string\">'/'</span>. <span class=\"string\">';'</span>, <span class=\"string\">'['</span>, <span class=\"string\">']'</span>, <span class=\"string\">'&#123;'</span>, <span class=\"string\">'&#125;'</span>]</span><br><span class=\"line\">            <span class=\"keyword\">call</span> <span class=\"variable\">s:metacode</span>(<span class=\"variable\">a:mode</span>, <span class=\"keyword\">c</span>)</span><br><span class=\"line\">        <span class=\"keyword\">endfor</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> <span class=\"keyword\">c</span> in [<span class=\"string\">'?'</span>, <span class=\"string\">':'</span>, <span class=\"string\">'-'</span>, <span class=\"string\">'_'</span>]</span><br><span class=\"line\">            <span class=\"keyword\">call</span> <span class=\"variable\">s:metacode</span>(<span class=\"variable\">a:mode</span>, <span class=\"keyword\">c</span>)</span><br><span class=\"line\">        <span class=\"keyword\">endfor</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> <span class=\"keyword\">c</span> in [<span class=\"string\">','</span>, <span class=\"string\">'.'</span>, <span class=\"string\">'/'</span>, <span class=\"string\">';'</span>, <span class=\"string\">'&#123;'</span>, <span class=\"string\">'&#125;'</span>]</span><br><span class=\"line\">            <span class=\"keyword\">call</span> <span class=\"variable\">s:metacode</span>(<span class=\"variable\">a:mode</span>, <span class=\"keyword\">c</span>)</span><br><span class=\"line\">        <span class=\"keyword\">endfor</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> <span class=\"keyword\">c</span> in [<span class=\"string\">'?'</span>, <span class=\"string\">':'</span>, <span class=\"string\">'-'</span>, <span class=\"string\">'_'</span>]</span><br><span class=\"line\">            <span class=\"keyword\">call</span> <span class=\"variable\">s:metacode</span>(<span class=\"variable\">a:mode</span>, <span class=\"keyword\">c</span>)</span><br><span class=\"line\">        <span class=\"keyword\">endfor</span></span><br><span class=\"line\">    <span class=\"keyword\">endif</span></span><br><span class=\"line\"><span class=\"keyword\">endfunction</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">\" 设置用户自定义命令</span></span><br><span class=\"line\">command! -nargs=<span class=\"number\">0</span> -bang VimMetaInit <span class=\"keyword\">call</span> Terminal_MetaMode(<span class=\"symbol\">&lt;bang&gt;</span><span class=\"number\">0</span>)</span><br><span class=\"line\"><span class=\"comment\">\" buffer 读入后自动进行设置</span></span><br><span class=\"line\"><span class=\"keyword\">augroup</span> alt_key</span><br><span class=\"line\">    autocmd!</span><br><span class=\"line\">    <span class=\"keyword\">autocmd</span> BufReadPost * :VimMetaInit</span><br><span class=\"line\"><span class=\"keyword\">augroup</span> END</span><br></pre></td></tr></table></figure><h3 id=\"用户自定义事件\"><a class=\"markdownIt-Anchor\" href=\"#用户自定义事件\"></a> 用户自定义事件</h3><p>自定义了切换透明和背景的函数，并绑定了快捷键。同时主题栏使用的是<a href=\"https://github.com/itchyny/lightline.vim\" target=\"_blank\" rel=\"noopener\">lightline</a>。<br>我为<code>dark</code>和<code>light</code>两种背景选取不同的<code>lightline</code>主题，为了使背景切换之后，主题栏的切换也生效，这里使用用户自定义事件来解决问题。<br>当然这不是唯一的方法。</p><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>! <span class=\"title\">ToggleBackground</span><span class=\"params\">()</span></span></span><br><span class=\"line\">    <span class=\"comment\">\" A lot of stuff is happening here.</span></span><br><span class=\"line\">    <span class=\"comment\">\" 定义一个自定义事件</span></span><br><span class=\"line\">    <span class=\"keyword\">doautocmd</span> User ToggleBackgroundExit</span><br><span class=\"line\"><span class=\"keyword\">endfunction</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>! <span class=\"title\">ToggleTransparent</span><span class=\"params\">()</span></span></span><br><span class=\"line\">    <span class=\"comment\">\" A lot of stuff is happening here.</span></span><br><span class=\"line\">    <span class=\"comment\">\" 定义一个自定义事件</span></span><br><span class=\"line\">    <span class=\"keyword\">doautocmd</span> User ToggleTransparentExit</span><br><span class=\"line\"><span class=\"keyword\">endfunction</span></span><br></pre></td></tr></table></figure><p>现在可以在切换背景和透明度执行完成后做任何想做的事：</p><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">autocmd</span> User ToggleBackgroundExit <span class=\"keyword\">call</span> lightline#enable()</span><br></pre></td></tr></table></figure><h3 id=\"插件\"><a class=\"markdownIt-Anchor\" href=\"#插件\"></a> 插件</h3><h4 id=\"插件管理器vim-plug\"><a class=\"markdownIt-Anchor\" href=\"#插件管理器vim-plug\"></a> 插件管理器（vim-plug）</h4><p><a href=\"https://github.com/junegunn/vim-plug\" target=\"_blank\" rel=\"noopener\">vim-plug</a>是一款异步插件管理器。具有安装速度快，延迟加载等特性。<br>这里要讨论的是刚发现的一个特性，可以让插件按照依赖关系进行加载。</p><p>栗子🌰，我有三款用于<code>markdown</code>的插件，分别是</p><ul><li><a href=\"https://github.com/plasticboy/vim-markdown\" target=\"_blank\" rel=\"noopener\"><code>plasticboy/vim-markdown</code></a></li><li><a href=\"https://github.com/jszakmeister/markdown2ctags\" target=\"_blank\" rel=\"noopener\"><code>jszakmeister/markdown2ctags</code></a></li><li><a href=\"https://github.com/iamcco/markdown-preview.nvim\" target=\"_blank\" rel=\"noopener\"><code>iamcco/markdown-preview.nvim</code></a></li></ul><p>原本可以在每个插件后面，用<code>{'for':'markdown'}</code>使其仅在编辑<code>.md</code>文件时才加载。但我发现<br>这种方法对第二款插件无效。因此想到这里的办法。</p><p><code>vim-plug</code>在调用函数<code>plug#load()</code>加载插件之后会以插件名定义一个用户自定义事件。可以利用这一事件触发对其有依赖的插件的调用。如下为具体的使用案例：</p><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">\" 以文件类型作为加载的依据</span></span><br><span class=\"line\">Plug <span class=\"string\">'iamcco/markdown-preview.nvim'</span>, &#123;<span class=\"string\">'for'</span>: <span class=\"string\">'markdown'</span>, <span class=\"string\">'do'</span>: <span class=\"string\">'cd app &amp; yarn install'</span>&#125;</span><br><span class=\"line\">  <span class=\"comment\">\" 下面的插件无法按照文件类型进行加载</span></span><br><span class=\"line\">  <span class=\"comment\">\" 故通过vim-plug 定义的用户自定义事件进行触发</span></span><br><span class=\"line\">  Plug <span class=\"string\">'plasticboy/vim-markdown'</span>, &#123;<span class=\"string\">'on'</span> : []&#125;</span><br><span class=\"line\">  Plug <span class=\"string\">'jszakmeister/markdown2ctags'</span>, &#123;<span class=\"string\">'on'</span>: []&#125;</span><br><span class=\"line\">  <span class=\"keyword\">augroup</span> vimplug_load_for_markdown</span><br><span class=\"line\">    autocmd!</span><br><span class=\"line\">    <span class=\"keyword\">autocmd</span> User markdown-preview.nvim plug#load(</span><br><span class=\"line\">                \\ <span class=\"string\">'vim-markdown'</span>,</span><br><span class=\"line\">                \\ <span class=\"string\">'markdown2ctags'</span>,</span><br><span class=\"line\">                \\ )</span><br><span class=\"line\">                \\ | autocmd! vimplug_load_for_markdown</span><br><span class=\"line\">  <span class=\"keyword\">augroup</span> END</span><br></pre></td></tr></table></figure><p>进一步，针对一个插件的所有配置可以做到这样：在插件被</p><ul><li>加载前，不载入</li><li>加载后，自动载入</li></ul><p>可以这样实现</p><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">\" 仍然以上面的插件为例</span></span><br><span class=\"line\"><span class=\"comment\">\" 在载入 vim-markdown之后自动加载相关配置。所有配置在函数SetVimmarkdown()之中</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>! <span class=\"title\">SetVimmarkdown</span><span class=\"params\">()</span></span></span><br><span class=\"line\">    <span class=\"comment\">\" all configurations for vim-markdown are at here</span></span><br><span class=\"line\"><span class=\"keyword\">endfunction</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">augroup</span> load_for_vimmarkdown</span><br><span class=\"line\">    autocmd!</span><br><span class=\"line\">    <span class=\"keyword\">autocmd</span> User <span class=\"keyword\">vim</span>-markdown <span class=\"keyword\">call</span> SetVimmarkdown() | autocmd!  load_for_vimmarkdown</span><br><span class=\"line\"><span class=\"keyword\">augroup</span> END</span><br></pre></td></tr></table></figure><h4 id=\"中文输入法\"><a class=\"markdownIt-Anchor\" href=\"#中文输入法\"></a> 中文输入法</h4><p><code>vim</code> 的模式切换与中文输入法并不总能够和谐共处。</p><table><thead><tr><th></th><th>英文</th><th>中文</th></tr></thead><tbody><tr><td>normal</td><td>😃</td><td>😦</td></tr><tr><td>insert</td><td>😃</td><td>😃</td></tr></tbody></table><p>解决这个问题的方式大体上有两种，1、<code>vim</code><br>提供中文输入法，那么这个问题就留给<code>vim</code>及其插件的开发者们去解决了；2、仍然使用外部中文输入法，如搜狗等，<br>那么关键在于以哪种方式自动切换输入法！</p><p>这里沿用第二种思路。尝试过如下几种方式：</p><ol><li>通过 vim 内置函数模拟按键操作来切换输入法。没有成功，但不排除可行性。</li><li>调用外部程序进行输入法切换。成功，但是并不完美。</li></ol><p>所以最终采取的方案是通过调用外部程序在进入和离开<code>insert</code>模式时只能切换输入法。实现方式具体看下面的<code>vim</code>配置。</p><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">\" 定义缓冲区变量，使得可以对每个缓冲区单独监控输入法状态</span></span><br><span class=\"line\"><span class=\"keyword\">au</span> BufEnter * <span class=\"keyword\">let</span> <span class=\"variable\">b:im</span>=<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"comment\">\" 为了尽量不影响体验，通过异步机制来进行处理</span></span><br><span class=\"line\"><span class=\"comment\">\" 下面的函数用于在 job 进行过程中处理返回信息</span></span><br><span class=\"line\">fun! IMHandler(channel, msg)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"variable\">a:msg</span> !=? <span class=\"string\">'com.apple.keylayout.ABC'</span></span><br><span class=\"line\">        <span class=\"comment\">\" 切换到英文输入法之前保存当前状态</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> <span class=\"variable\">b:im</span> = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">call</span> job_start([<span class=\"string\">'issw'</span>, <span class=\"string\">'com.apple.keylayout.ABC'</span>])</span><br><span class=\"line\">    <span class=\"keyword\">endif</span></span><br><span class=\"line\">endfun</span><br><span class=\"line\">fun! Lang2en()</span><br><span class=\"line\">    <span class=\"keyword\">let</span> job = job_start([<span class=\"string\">'issw'</span>], &#123;<span class=\"string\">\"out_cb\"</span>: <span class=\"string\">\"IMHandler\"</span>&#125;)</span><br><span class=\"line\">endfun</span><br><span class=\"line\"><span class=\"comment\">\" 这里中文输入法的切换用了自己写的脚本，虽然也可以用上面的 issw 命令。</span></span><br><span class=\"line\">fun! Lang2zh()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"variable\">b:im</span> == <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">call</span> job_start([<span class=\"string\">'switchim'</span>])</span><br><span class=\"line\">    <span class=\"keyword\">endif</span></span><br><span class=\"line\">endfun</span><br><span class=\"line\"><span class=\"keyword\">autocmd</span> InsertEnter * <span class=\"keyword\">call</span> Lang2zh()</span><br><span class=\"line\"><span class=\"keyword\">autocmd</span> BufEnter,InsertLeave * <span class=\"keyword\">call</span> Lang2en()</span><br></pre></td></tr></table></figure><p>因为不想用破解软件来修改按键映射及快捷键，导致仍有不足之处：</p><ul><li>调用的外部程序切换输入法不够快，仍然有一定几率产生困扰。</li><li>insert 模式下，如果要用搜狗输入法，从英文切换回中文比较麻烦。</li></ul><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Sun Apr 21 2019 10:17:13 GMT+0800 (中国标准时间) --><h2 id=\"用法\"><a class=\"markdownIt-Anchor\" href=\"#用法\"></a> 用法</h2><h3 id=\"自定义映射\"><a class=\"markdownIt-Anchor\" href=\"#自定义映射\"></a> 自定义映射</h3><h4 id=\"正确使用optionalt键\"><a class=\"markdownIt-Anchor\" href=\"#正确使用optionalt键\"></a> 正确使用option/Alt键</h4><p><code>option</code>键在<code>macOS</code>下作为组合按键之一，对应于PC、Linux上的<code>Alt</code>键，但是功能不太一样。<code>Mac</code>上字母及一些标点符号与<code>option</code>组合会输出<code>unicode</code>字符。<br>原因在于按下按下<code>option</code>键发送的不是<code>Escape Sequence</code>。因此在<code>vim,emacs</code>等终端软件中，没法直接使用<code>Alt</code>键定义映射。</p><p>找到原因就好办，解决方法分为两步：</p><ol><li>在终端中修改<code>option/Alt</code>键的行为</li><li>在<code>vim,emacs</code>等运行于终端下的软件中进行可能必要的设置</li></ol><p>以终端程序<code>kitty</code>和<code>alacritty</code>为例，具体讨论解决方法中的第一步如何操作。</p><ul><li>kitty<ul><li>打开配置文件<code>kitty.conf</code></li><li>找到选项<code>macos_option_as_alt no</code>，将<code>no</code>改为<code>yes</code></li></ul></li><li>alacrity<ul><li>打开配置文件<code>alacrity.yml</code></li><li>定位到<code>key_bindings</code></li><li>添加需要的键位设置，例如 <code>- { key: x, mods: Alt, chars: &quot;\\x1bx&quot; }</code></li></ul></li></ul><p>以运行在终端下的<code>vim</code>为例，给出第二步中需要的具体操作。</p><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>! <span class=\"title\">Terminal_MetaMode</span><span class=\"params\">(mode)</span></span></span><br><span class=\"line\">    <span class=\"keyword\">set</span> ttimeout</span><br><span class=\"line\">    <span class=\"keyword\">if</span> $TMUX != <span class=\"string\">''</span></span><br><span class=\"line\">        <span class=\"keyword\">set</span> ttimeoutlen=<span class=\"number\">30</span></span><br><span class=\"line\">    <span class=\"keyword\">elseif</span> &amp;ttimeoutlen &gt; <span class=\"number\">80</span> || &amp;ttimeoutlen &lt;= <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">set</span> ttimeoutlen=<span class=\"number\">80</span></span><br><span class=\"line\">    <span class=\"keyword\">endif</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"built_in\">has</span>(<span class=\"string\">'nvim'</span>) || <span class=\"built_in\">has</span>(<span class=\"string\">'gui_running'</span>) || $TERM_PROGRAM =~? <span class=\"string\">'iTerm2'</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> </span><br><span class=\"line\">    <span class=\"keyword\">endif</span></span><br><span class=\"line\">    <span class=\"comment\">\" 👆表示只有某些终端下的vim需要👇的设置</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span>! <span class=\"title\">s</span>:<span class=\"title\">metacode</span><span class=\"params\">(mode, key)</span></span></span><br><span class=\"line\">        <span class=\"comment\">\" 这个函数的作用是告诉vim，&lt;M-x&gt;的键盘序列码是多少</span></span><br><span class=\"line\">        <span class=\"comment\">\" 这样vim将按照ttimeoutlen的设置来检查是否超时</span></span><br><span class=\"line\">        <span class=\"comment\">\" 如果用 `noremap &lt;ESC&gt;x &lt;M-x&gt;` 然后 `noremap &lt;M-x&gt; ...`的方式，</span></span><br><span class=\"line\">        <span class=\"comment\">\" 则会使用timeoutlen来检查是否超时</span></span><br><span class=\"line\">        <span class=\"comment\">\" 一般timeoutlen设置的相对更大，如果用它更容易误操作，降低使用体验</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"variable\">a:mode</span> == <span class=\"number\">0</span></span><br><span class=\"line\">            exec <span class=\"string\">\"set &lt;M-\"</span>.<span class=\"variable\">a:key</span>.<span class=\"string\">\"&gt;=\\e\"</span>.<span class=\"variable\">a:key</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">            <span class=\"comment\">\"👇这条需要对终端进行更针对性的设置，写本节时只想到在alacrity中设置会容易些</span></span><br><span class=\"line\">            exec <span class=\"string\">\"set &lt;M-\"</span>.<span class=\"variable\">a:key</span>.<span class=\"string\">\"&gt;=\\e]&#123;0&#125;\"</span>.<span class=\"variable\">a:key</span>.<span class=\"string\">\"~\"</span></span><br><span class=\"line\">        <span class=\"keyword\">endif</span></span><br><span class=\"line\">    <span class=\"keyword\">endfunction</span></span><br><span class=\"line\">    <span class=\"comment\">\" 针对alacrity，还需设置几个功能键</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> $TERM_PROGRAM =~? <span class=\"string\">'alacritty'</span></span><br><span class=\"line\">        exec <span class=\"string\">\"set &lt;F1&gt;=\\eOP\"</span></span><br><span class=\"line\">        exec <span class=\"string\">\"set &lt;F2&gt;=\\eOQ\"</span></span><br><span class=\"line\">        exec <span class=\"string\">\"set &lt;F3&gt;=\\eOR\"</span></span><br><span class=\"line\">        exec <span class=\"string\">\"set &lt;F4&gt;=\\eOS\"</span></span><br><span class=\"line\">    <span class=\"keyword\">endif</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i in <span class=\"built_in\">range</span>(<span class=\"number\">10</span>)</span><br><span class=\"line\">        <span class=\"keyword\">call</span> <span class=\"variable\">s:metacode</span>(<span class=\"variable\">a:mode</span>, <span class=\"built_in\">nr2char</span>(<span class=\"built_in\">char2nr</span>(<span class=\"string\">'0'</span>) + i))</span><br><span class=\"line\">    <span class=\"keyword\">endfor</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i in <span class=\"built_in\">range</span>(<span class=\"number\">26</span>)</span><br><span class=\"line\">        <span class=\"keyword\">call</span> <span class=\"variable\">s:metacode</span>(<span class=\"variable\">a:mode</span>, <span class=\"built_in\">nr2char</span>(<span class=\"built_in\">char2nr</span>(<span class=\"string\">'a'</span>) + i))</span><br><span class=\"line\">        <span class=\"keyword\">call</span> <span class=\"variable\">s:metacode</span>(<span class=\"variable\">a:mode</span>, <span class=\"built_in\">nr2char</span>(<span class=\"built_in\">char2nr</span>(<span class=\"string\">'A'</span>) + i))</span><br><span class=\"line\">    <span class=\"keyword\">endfor</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"variable\">a:mode</span> != <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> <span class=\"keyword\">c</span> in [<span class=\"string\">','</span>, <span class=\"string\">'.'</span>, <span class=\"string\">'/'</span>. <span class=\"string\">';'</span>, <span class=\"string\">'['</span>, <span class=\"string\">']'</span>, <span class=\"string\">'&#123;'</span>, <span class=\"string\">'&#125;'</span>]</span><br><span class=\"line\">            <span class=\"keyword\">call</span> <span class=\"variable\">s:metacode</span>(<span class=\"variable\">a:mode</span>, <span class=\"keyword\">c</span>)</span><br><span class=\"line\">        <span class=\"keyword\">endfor</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> <span class=\"keyword\">c</span> in [<span class=\"string\">'?'</span>, <span class=\"string\">':'</span>, <span class=\"string\">'-'</span>, <span class=\"string\">'_'</span>]</span><br><span class=\"line\">            <span class=\"keyword\">call</span> <span class=\"variable\">s:metacode</span>(<span class=\"variable\">a:mode</span>, <span class=\"keyword\">c</span>)</span><br><span class=\"line\">        <span class=\"keyword\">endfor</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> <span class=\"keyword\">c</span> in [<span class=\"string\">','</span>, <span class=\"string\">'.'</span>, <span class=\"string\">'/'</span>, <span class=\"string\">';'</span>, <span class=\"string\">'&#123;'</span>, <span class=\"string\">'&#125;'</span>]</span><br><span class=\"line\">            <span class=\"keyword\">call</span> <span class=\"variable\">s:metacode</span>(<span class=\"variable\">a:mode</span>, <span class=\"keyword\">c</span>)</span><br><span class=\"line\">        <span class=\"keyword\">endfor</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> <span class=\"keyword\">c</span> in [<span class=\"string\">'?'</span>, <span class=\"string\">':'</span>, <span class=\"string\">'-'</span>, <span class=\"string\">'_'</span>]</span><br><span class=\"line\">            <span class=\"keyword\">call</span> <span class=\"variable\">s:metacode</span>(<span class=\"variable\">a:mode</span>, <span class=\"keyword\">c</span>)</span><br><span class=\"line\">        <span class=\"keyword\">endfor</span></span><br><span class=\"line\">    <span class=\"keyword\">endif</span></span><br><span class=\"line\"><span class=\"keyword\">endfunction</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">\" 设置用户自定义命令</span></span><br><span class=\"line\">command! -nargs=<span class=\"number\">0</span> -bang VimMetaInit <span class=\"keyword\">call</span> Terminal_MetaMode(<span class=\"symbol\">&lt;bang&gt;</span><span class=\"number\">0</span>)</span><br><span class=\"line\"><span class=\"comment\">\" buffer 读入后自动进行设置</span></span><br><span class=\"line\"><span class=\"keyword\">augroup</span> alt_key</span><br><span class=\"line\">    autocmd!</span><br><span class=\"line\">    <span class=\"keyword\">autocmd</span> BufReadPost * :VimMetaInit</span><br><span class=\"line\"><span class=\"keyword\">augroup</span> END</span><br></pre></td></tr></table></figure><h3 id=\"用户自定义事件\"><a class=\"markdownIt-Anchor\" href=\"#用户自定义事件\"></a> 用户自定义事件</h3><p>自定义了切换透明和背景的函数，并绑定了快捷键。同时主题栏使用的是<a href=\"https://github.com/itchyny/lightline.vim\" target=\"_blank\" rel=\"noopener\">lightline</a>。<br>我为<code>dark</code>和<code>light</code>两种背景选取不同的<code>lightline</code>主题，为了使背景切换之后，主题栏的切换也生效，这里使用用户自定义事件来解决问题。<br>当然这不是唯一的方法。</p><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>! <span class=\"title\">ToggleBackground</span><span class=\"params\">()</span></span></span><br><span class=\"line\">    <span class=\"comment\">\" A lot of stuff is happening here.</span></span><br><span class=\"line\">    <span class=\"comment\">\" 定义一个自定义事件</span></span><br><span class=\"line\">    <span class=\"keyword\">doautocmd</span> User ToggleBackgroundExit</span><br><span class=\"line\"><span class=\"keyword\">endfunction</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>! <span class=\"title\">ToggleTransparent</span><span class=\"params\">()</span></span></span><br><span class=\"line\">    <span class=\"comment\">\" A lot of stuff is happening here.</span></span><br><span class=\"line\">    <span class=\"comment\">\" 定义一个自定义事件</span></span><br><span class=\"line\">    <span class=\"keyword\">doautocmd</span> User ToggleTransparentExit</span><br><span class=\"line\"><span class=\"keyword\">endfunction</span></span><br></pre></td></tr></table></figure><p>现在可以在切换背景和透明度执行完成后做任何想做的事：</p><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">autocmd</span> User ToggleBackgroundExit <span class=\"keyword\">call</span> lightline#enable()</span><br></pre></td></tr></table></figure><h3 id=\"插件\"><a class=\"markdownIt-Anchor\" href=\"#插件\"></a> 插件</h3><h4 id=\"插件管理器vim-plug\"><a class=\"markdownIt-Anchor\" href=\"#插件管理器vim-plug\"></a> 插件管理器（vim-plug）</h4><p><a href=\"https://github.com/junegunn/vim-plug\" target=\"_blank\" rel=\"noopener\">vim-plug</a>是一款异步插件管理器。具有安装速度快，延迟加载等特性。<br>这里要讨论的是刚发现的一个特性，可以让插件按照依赖关系进行加载。</p><p>栗子🌰，我有三款用于<code>markdown</code>的插件，分别是</p><ul><li><a href=\"https://github.com/plasticboy/vim-markdown\" target=\"_blank\" rel=\"noopener\"><code>plasticboy/vim-markdown</code></a></li><li><a href=\"https://github.com/jszakmeister/markdown2ctags\" target=\"_blank\" rel=\"noopener\"><code>jszakmeister/markdown2ctags</code></a></li><li><a href=\"https://github.com/iamcco/markdown-preview.nvim\" target=\"_blank\" rel=\"noopener\"><code>iamcco/markdown-preview.nvim</code></a></li></ul><p>原本可以在每个插件后面，用<code>{'for':'markdown'}</code>使其仅在编辑<code>.md</code>文件时才加载。但我发现<br>这种方法对第二款插件无效。因此想到这里的办法。</p><p><code>vim-plug</code>在调用函数<code>plug#load()</code>加载插件之后会以插件名定义一个用户自定义事件。可以利用这一事件触发对其有依赖的插件的调用。如下为具体的使用案例：</p><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">\" 以文件类型作为加载的依据</span></span><br><span class=\"line\">Plug <span class=\"string\">'iamcco/markdown-preview.nvim'</span>, &#123;<span class=\"string\">'for'</span>: <span class=\"string\">'markdown'</span>, <span class=\"string\">'do'</span>: <span class=\"string\">'cd app &amp; yarn install'</span>&#125;</span><br><span class=\"line\">  <span class=\"comment\">\" 下面的插件无法按照文件类型进行加载</span></span><br><span class=\"line\">  <span class=\"comment\">\" 故通过vim-plug 定义的用户自定义事件进行触发</span></span><br><span class=\"line\">  Plug <span class=\"string\">'plasticboy/vim-markdown'</span>, &#123;<span class=\"string\">'on'</span> : []&#125;</span><br><span class=\"line\">  Plug <span class=\"string\">'jszakmeister/markdown2ctags'</span>, &#123;<span class=\"string\">'on'</span>: []&#125;</span><br><span class=\"line\">  <span class=\"keyword\">augroup</span> vimplug_load_for_markdown</span><br><span class=\"line\">    autocmd!</span><br><span class=\"line\">    <span class=\"keyword\">autocmd</span> User markdown-preview.nvim plug#load(</span><br><span class=\"line\">                \\ <span class=\"string\">'vim-markdown'</span>,</span><br><span class=\"line\">                \\ <span class=\"string\">'markdown2ctags'</span>,</span><br><span class=\"line\">                \\ )</span><br><span class=\"line\">                \\ | autocmd! vimplug_load_for_markdown</span><br><span class=\"line\">  <span class=\"keyword\">augroup</span> END</span><br></pre></td></tr></table></figure><p>进一步，针对一个插件的所有配置可以做到这样：在插件被</p><ul><li>加载前，不载入</li><li>加载后，自动载入</li></ul><p>可以这样实现</p><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">\" 仍然以上面的插件为例</span></span><br><span class=\"line\"><span class=\"comment\">\" 在载入 vim-markdown之后自动加载相关配置。所有配置在函数SetVimmarkdown()之中</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>! <span class=\"title\">SetVimmarkdown</span><span class=\"params\">()</span></span></span><br><span class=\"line\">    <span class=\"comment\">\" all configurations for vim-markdown are at here</span></span><br><span class=\"line\"><span class=\"keyword\">endfunction</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">augroup</span> load_for_vimmarkdown</span><br><span class=\"line\">    autocmd!</span><br><span class=\"line\">    <span class=\"keyword\">autocmd</span> User <span class=\"keyword\">vim</span>-markdown <span class=\"keyword\">call</span> SetVimmarkdown() | autocmd!  load_for_vimmarkdown</span><br><span class=\"line\"><span class=\"keyword\">augroup</span> END</span><br></pre></td></tr></table></figure><h4 id=\"中文输入法\"><a class=\"markdownIt-Anchor\" href=\"#中文输入法\"></a> 中文输入法</h4><p><code>vim</code> 的模式切换与中文输入法并不总能够和谐共处。</p><table><thead><tr><th></th><th>英文</th><th>中文</th></tr></thead><tbody><tr><td>normal</td><td>😃</td><td>😦</td></tr><tr><td>insert</td><td>😃</td><td>😃</td></tr></tbody></table><p>解决这个问题的方式大体上有两种，1、<code>vim</code><br>提供中文输入法，那么这个问题就留给<code>vim</code>及其插件的开发者们去解决了；2、仍然使用外部中文输入法，如搜狗等，<br>那么关键在于以哪种方式自动切换输入法！</p><p>这里沿用第二种思路。尝试过如下几种方式：</p><ol><li>通过 vim 内置函数模拟按键操作来切换输入法。没有成功，但不排除可行性。</li><li>调用外部程序进行输入法切换。成功，但是并不完美。</li></ol><p>所以最终采取的方案是通过调用外部程序在进入和离开<code>insert</code>模式时只能切换输入法。实现方式具体看下面的<code>vim</code>配置。</p><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">\" 定义缓冲区变量，使得可以对每个缓冲区单独监控输入法状态</span></span><br><span class=\"line\"><span class=\"keyword\">au</span> BufEnter * <span class=\"keyword\">let</span> <span class=\"variable\">b:im</span>=<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"comment\">\" 为了尽量不影响体验，通过异步机制来进行处理</span></span><br><span class=\"line\"><span class=\"comment\">\" 下面的函数用于在 job 进行过程中处理返回信息</span></span><br><span class=\"line\">fun! IMHandler(channel, msg)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"variable\">a:msg</span> !=? <span class=\"string\">'com.apple.keylayout.ABC'</span></span><br><span class=\"line\">        <span class=\"comment\">\" 切换到英文输入法之前保存当前状态</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> <span class=\"variable\">b:im</span> = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">call</span> job_start([<span class=\"string\">'issw'</span>, <span class=\"string\">'com.apple.keylayout.ABC'</span>])</span><br><span class=\"line\">    <span class=\"keyword\">endif</span></span><br><span class=\"line\">endfun</span><br><span class=\"line\">fun! Lang2en()</span><br><span class=\"line\">    <span class=\"keyword\">let</span> job = job_start([<span class=\"string\">'issw'</span>], &#123;<span class=\"string\">\"out_cb\"</span>: <span class=\"string\">\"IMHandler\"</span>&#125;)</span><br><span class=\"line\">endfun</span><br><span class=\"line\"><span class=\"comment\">\" 这里中文输入法的切换用了自己写的脚本，虽然也可以用上面的 issw 命令。</span></span><br><span class=\"line\">fun! Lang2zh()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"variable\">b:im</span> == <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">call</span> job_start([<span class=\"string\">'switchim'</span>])</span><br><span class=\"line\">    <span class=\"keyword\">endif</span></span><br><span class=\"line\">endfun</span><br><span class=\"line\"><span class=\"keyword\">autocmd</span> InsertEnter * <span class=\"keyword\">call</span> Lang2zh()</span><br><span class=\"line\"><span class=\"keyword\">autocmd</span> BufEnter,InsertLeave * <span class=\"keyword\">call</span> Lang2en()</span><br></pre></td></tr></table></figure><p>因为不想用破解软件来修改按键映射及快捷键，导致仍有不足之处：</p><ul><li>调用的外部程序切换输入法不够快，仍然有一定几率产生困扰。</li><li>insert 模式下，如果要用搜狗输入法，从英文切换回中文比较麻烦。</li></ul><!-- rebuild by neat -->"}],"PostAsset":[{"_id":"source/_posts/jupyter-with-virtualenv/jupyter-with-virtualenv.png","post":"cjuqawq810013h51jjb728am4","slug":"jupyter-with-virtualenv.png","modified":1,"renderable":1},{"_id":"source/_posts/physics-oscillation/damp-oscillation.png","post":"cjuqawq85001ah51jdsa892sa","slug":"damp-oscillation.png","modified":1,"renderable":1},{"_id":"source/_posts/python-type-and-object/type-and-object.png","post":"cjuqawq8b001hh51jghzsp9wg","slug":"type-and-object.png","modified":1,"renderable":1},{"_id":"source/_posts/article2/buffon_needle.gif","slug":"buffon_needle.gif","post":"cjuqawq6u0002h51jgz7djln4","modified":1,"renderable":0},{"_id":"source/_posts/article2/ocsillator.png","post":"cjuqawq6u0002h51jgz7djln4","slug":"ocsillator.png","modified":1,"renderable":1},{"_id":"source/_posts/graphviz-introduction/graph-with-polygonal-shapes.dot","post":"cjuqawq7o000mh51juf5rkwqo","slug":"graph-with-polygonal-shapes.dot","modified":1,"renderable":1},{"_id":"source/_posts/graphviz-introduction/graph-with-polygonal-shapes.svg","post":"cjuqawq7o000mh51juf5rkwqo","slug":"graph-with-polygonal-shapes.svg","modified":1,"renderable":1},{"_id":"source/_posts/graphviz-introduction/record-structure.dot","post":"cjuqawq7o000mh51juf5rkwqo","slug":"record-structure.dot","modified":1,"renderable":1},{"_id":"source/_posts/graphviz-introduction/record-structure.svg","post":"cjuqawq7o000mh51juf5rkwqo","slug":"record-structure.svg","modified":1,"renderable":1},{"_id":"source/_posts/graphviz-introduction/records-with-nested-fields.dot","post":"cjuqawq7o000mh51juf5rkwqo","slug":"records-with-nested-fields.dot","modified":1,"renderable":1},{"_id":"source/_posts/graphviz-introduction/records-with-nested-fields.svg","post":"cjuqawq7o000mh51juf5rkwqo","slug":"records-with-nested-fields.svg","modified":1,"renderable":1},{"_id":"source/_posts/matplotlib-tips/Figure_1.png","post":"cjuqawq820014h51jvo84m3xz","slug":"Figure_1.png","modified":1,"renderable":1},{"_id":"source/_posts/matplotlib-tips/Figure_2.png","post":"cjuqawq820014h51jvo84m3xz","slug":"Figure_2.png","modified":1,"renderable":1},{"_id":"source/_posts/matplotlib-tips/Figure_3.png","post":"cjuqawq820014h51jvo84m3xz","slug":"Figure_3.png","modified":1,"renderable":1},{"_id":"source/_posts/matplotlib-tips/Figure_4.png","post":"cjuqawq820014h51jvo84m3xz","slug":"Figure_4.png","modified":1,"renderable":1},{"_id":"source/_posts/matplotlib-tips/Figure_5.png","post":"cjuqawq820014h51jvo84m3xz","slug":"Figure_5.png","modified":1,"renderable":1},{"_id":"source/_posts/matplotlib-tips/Figure_6.png","post":"cjuqawq820014h51jvo84m3xz","slug":"Figure_6.png","modified":1,"renderable":1}],"PostCategory":[{"post_id":"cjuqawq6k0000h51jif2i4dpb","category_id":"cjuqawq6y0004h51j13xvykhp","_id":"cjuqawq7k000ih51jv86fpkos"},{"post_id":"cjuqawq6u0002h51jgz7djln4","category_id":"cjuqawq79000bh51jq08cd9nr","_id":"cjuqawq7p000nh51jkgjq4a73"},{"post_id":"cjuqawq710006h51jybhs5kr6","category_id":"cjuqawq7l000jh51jxkflylmv","_id":"cjuqawq7w000vh51jddp00pjc"},{"post_id":"cjuqawq740008h51j3ldhibmp","category_id":"cjuqawq7l000jh51jxkflylmv","_id":"cjuqawq800010h51joou0wtba"},{"post_id":"cjuqawq77000ah51jqjuj6ggf","category_id":"cjuqawq7w000uh51j61jf1jwl","_id":"cjuqawq830015h51jrj742zai"},{"post_id":"cjuqawq7f000fh51jr29mig6v","category_id":"cjuqawq800011h51jugvbu90q","_id":"cjuqawq88001dh51jvqc7bg00"},{"post_id":"cjuqawq7j000hh51jjzxe7w1v","category_id":"cjuqawq840017h51jkqil65x6","_id":"cjuqawq8c001ih51jojcqp0j2"},{"post_id":"cjuqawq7m000lh51jzndbfi8d","category_id":"cjuqawq88001eh51jso17mqy2","_id":"cjuqawq8g001ph51jcmojp26z"},{"post_id":"cjuqawq7o000mh51juf5rkwqo","category_id":"cjuqawq8c001jh51j7qwun6ab","_id":"cjuqawq8k001wh51jo564qylv"},{"post_id":"cjuqawq8g001th51ji30s4e6g","category_id":"cjuqawq6y0004h51j13xvykhp","_id":"cjuqawq8l001zh51jvr1k76sh"},{"post_id":"cjuqawq7v000sh51j2k313smf","category_id":"cjuqawq8g001rh51j7snb8aob","_id":"cjuqawq8l0020h51jij9jxezm"},{"post_id":"cjuqawq7z000zh51j6zeqwjgh","category_id":"cjuqawq8k001xh51jq90uuf5k","_id":"cjuqawq8n0025h51jcf24fcm4"},{"post_id":"cjuqawq810013h51jjb728am4","category_id":"cjuqawq8l0021h51jwm55r4e7","_id":"cjuqawq8p0029h51j5kwvtaqo"},{"post_id":"cjuqawq820014h51jvo84m3xz","category_id":"cjuqawq7w000uh51j61jf1jwl","_id":"cjuqawq8q002eh51jdbqx0b10"},{"post_id":"cjuqawq820014h51jvo84m3xz","category_id":"cjuqawq8n0026h51j0xrdqg4a","_id":"cjuqawq8r002gh51jubrziapy"},{"post_id":"cjuqawq87001ch51jj0mfqrml","category_id":"cjuqawq8l0021h51jwm55r4e7","_id":"cjuqawq8u002oh51jp98qm1wr"},{"post_id":"cjuqawq89001gh51j7vn9k1r5","category_id":"cjuqawq8l0021h51jwm55r4e7","_id":"cjuqawq8w002sh51j4qnwivxj"},{"post_id":"cjuqawq8b001hh51jghzsp9wg","category_id":"cjuqawq8l0021h51jwm55r4e7","_id":"cjuqawq8x002wh51jqwsrxpbh"},{"post_id":"cjuqawq8d001mh51jwryvsx71","category_id":"cjuqawq8v002rh51j9ry2n3gz","_id":"cjuqawq8y002zh51jhgxq8u87"},{"post_id":"cjuqawq8f001oh51j5tsbo7e0","category_id":"cjuqawq8x002xh51jslac78it","_id":"cjuqawq8z0033h51jys5ynp27"},{"post_id":"cjuqawq8i001vh51jb10ornq6","category_id":"cjuqawq8y0030h51j4motnh0j","_id":"cjuqawq900037h51j1siepip1"},{"post_id":"cjuqawq840016h51jl5ovv4ad","category_id":"cjuqawq8l0021h51jwm55r4e7","_id":"cjuqawq92003bh51jbe07nhrr"},{"post_id":"cjuqawq840016h51jl5ovv4ad","category_id":"cjuqawq8z0034h51jepjpej48","_id":"cjuqawq93003dh51j3sn5zt25"},{"post_id":"cjuqawq85001ah51jdsa892sa","category_id":"cjuqawq8q002dh51joj292jro","_id":"cjuqawq94003gh51jujfzazar"},{"post_id":"cjuqawq85001ah51jdsa892sa","category_id":"cjuqawq910038h51j2hu4vasy","_id":"cjuqawq94003hh51jykgljpbn"},{"post_id":"cjuqawq9b003rh51jyobpm6dr","category_id":"cjuqawq6y0004h51j13xvykhp","_id":"cjuqawq9f003th51jkpmyifxl"}],"PostTag":[{"post_id":"cjuqawq6k0000h51jif2i4dpb","tag_id":"cjuqawq700005h51j0cbziobv","_id":"cjuqawq7f000eh51jgt4q3v5i"},{"post_id":"cjuqawq710006h51jybhs5kr6","tag_id":"cjuqawq79000ch51jr3y8lcmd","_id":"cjuqawq7u000rh51jk5zvazpa"},{"post_id":"cjuqawq710006h51jybhs5kr6","tag_id":"cjuqawq7l000kh51j0grrsdll","_id":"cjuqawq7w000th51jd5jii73n"},{"post_id":"cjuqawq740008h51j3ldhibmp","tag_id":"cjuqawq79000ch51jr3y8lcmd","_id":"cjuqawq7z000yh51jz0f03qg4"},{"post_id":"cjuqawq77000ah51jqjuj6ggf","tag_id":"cjuqawq7w000wh51jzl6irpli","_id":"cjuqawq850019h51jzcry2i37"},{"post_id":"cjuqawq77000ah51jqjuj6ggf","tag_id":"cjuqawq810012h51js89qn7s7","_id":"cjuqawq87001bh51j9ogzccn0"},{"post_id":"cjuqawq89001gh51j7vn9k1r5","tag_id":"cjuqawq7w000wh51jzl6irpli","_id":"cjuqawq8c001lh51ji5sj1o1i"},{"post_id":"cjuqawq7f000fh51jr29mig6v","tag_id":"cjuqawq850018h51jr6fug7zn","_id":"cjuqawq8e001nh51jalibzvr8"},{"post_id":"cjuqawq7f000fh51jr29mig6v","tag_id":"cjuqawq88001fh51j9cfopr8a","_id":"cjuqawq8g001qh51j3vexcbwo"},{"post_id":"cjuqawq7j000hh51jjzxe7w1v","tag_id":"cjuqawq8c001kh51jy2i3pmjl","_id":"cjuqawq8i001uh51jiznjqld1"},{"post_id":"cjuqawq7m000lh51jzndbfi8d","tag_id":"cjuqawq8g001sh51j7nieaski","_id":"cjuqawq8m0023h51j6xhxia4e"},{"post_id":"cjuqawq7m000lh51jzndbfi8d","tag_id":"cjuqawq8k001yh51j6azg1x7s","_id":"cjuqawq8n0024h51jta7d2brh"},{"post_id":"cjuqawq7o000mh51juf5rkwqo","tag_id":"cjuqawq8m0022h51jlizuqpun","_id":"cjuqawq8o0028h51j30ew7crf"},{"post_id":"cjuqawq7v000sh51j2k313smf","tag_id":"cjuqawq8o0027h51jhtottbqj","_id":"cjuqawq8q002ch51jrygmh9wq"},{"post_id":"cjuqawq7x000xh51jm9y4n8jq","tag_id":"cjuqawq8p002bh51j5tdq8hw9","_id":"cjuqawq8r002hh51jti13w0bh"},{"post_id":"cjuqawq7z000zh51j6zeqwjgh","tag_id":"cjuqawq8r002fh51jl249c401","_id":"cjuqawq8s002kh51jd1sbf293"},{"post_id":"cjuqawq810013h51jjb728am4","tag_id":"cjuqawq8s002jh51jdzfv9glp","_id":"cjuqawq8v002qh51jhj5bl8x4"},{"post_id":"cjuqawq810013h51jjb728am4","tag_id":"cjuqawq8t002mh51jxo04fiu9","_id":"cjuqawq8w002th51j58yxgg8k"},{"post_id":"cjuqawq820014h51jvo84m3xz","tag_id":"cjuqawq8v002ph51jlyh6scgd","_id":"cjuqawq8w002vh51jpcvw0r42"},{"post_id":"cjuqawq840016h51jl5ovv4ad","tag_id":"cjuqawq8w002uh51js6rsv6ol","_id":"cjuqawq8z0032h51jb9lt7rpm"},{"post_id":"cjuqawq840016h51jl5ovv4ad","tag_id":"cjuqawq8x002yh51jyjrf8gaw","_id":"cjuqawq900035h51j3stduyki"},{"post_id":"cjuqawq85001ah51jdsa892sa","tag_id":"cjuqawq8z0031h51jtmcpg4k1","_id":"cjuqawq92003ah51jpwgwpt45"},{"post_id":"cjuqawq85001ah51jdsa892sa","tag_id":"cjuqawq900036h51j6dxe5rmi","_id":"cjuqawq92003ch51jwqyg6qo8"},{"post_id":"cjuqawq87001ch51jj0mfqrml","tag_id":"cjuqawq8w002uh51js6rsv6ol","_id":"cjuqawq93003fh51j60kw66av"},{"post_id":"cjuqawq8b001hh51jghzsp9wg","tag_id":"cjuqawq93003eh51jwtubx4zo","_id":"cjuqawq95003kh51jcr78sa4n"},{"post_id":"cjuqawq8b001hh51jghzsp9wg","tag_id":"cjuqawq94003ih51jtty19h48","_id":"cjuqawq95003lh51j4t3gz0ol"},{"post_id":"cjuqawq8d001mh51jwryvsx71","tag_id":"cjuqawq94003jh51jc6kuengp","_id":"cjuqawq95003nh51jrtdi8qpl"},{"post_id":"cjuqawq8g001th51ji30s4e6g","tag_id":"cjuqawq95003mh51jctiq9t54","_id":"cjuqawq98003ph51jkct68yf3"},{"post_id":"cjuqawq8i001vh51jb10ornq6","tag_id":"cjuqawq97003oh51j1u84kivj","_id":"cjuqawq98003qh51jjmzuzzja"},{"post_id":"cjuqawq9b003rh51jyobpm6dr","tag_id":"cjuqawq9e003sh51jaxi3ok4h","_id":"cjuqawq9f003uh51j63f4wxdc"}],"Tag":[{"name":"YouCompleteMe","_id":"cjuqawq700005h51j0cbziobv"},{"name":"bash","_id":"cjuqawq79000ch51jr3y8lcmd"},{"name":"sed","_id":"cjuqawq7l000kh51j0grrsdll"},{"name":"python","_id":"cjuqawq7w000wh51jzl6irpli"},{"name":"camb","_id":"cjuqawq810012h51js89qn7s7"},{"name":"clang","_id":"cjuqawq850018h51jr6fug7zn"},{"name":"centos","_id":"cjuqawq88001fh51j9cfopr8a"},{"name":"cosmology","_id":"cjuqawq8c001kh51jy2i3pmjl"},{"name":"最小作用量","_id":"cjuqawq8g001sh51j7nieaski"},{"name":"诺特定理","_id":"cjuqawq8k001yh51j6azg1x7s"},{"name":"graphviz","_id":"cjuqawq8m0022h51jlizuqpun"},{"name":"hexo","_id":"cjuqawq8o0027h51jhtottbqj"},{"name":"Hexo","_id":"cjuqawq8p002bh51j5tdq8hw9"},{"name":"homebrew","_id":"cjuqawq8r002fh51jl249c401"},{"name":"jupyter","_id":"cjuqawq8s002jh51jdzfv9glp"},{"name":"virtualenv","_id":"cjuqawq8t002mh51jxo04fiu9"},{"name":"matplotlib","_id":"cjuqawq8v002ph51jlyh6scgd"},{"name":"Python","_id":"cjuqawq8w002uh51js6rsv6ol"},{"name":"Pandas","_id":"cjuqawq8x002yh51jyjrf8gaw"},{"name":"Physics","_id":"cjuqawq8z0031h51jtmcpg4k1"},{"name":"Oscillation","_id":"cjuqawq900036h51j6dxe5rmi"},{"name":"Type","_id":"cjuqawq93003eh51jwtubx4zo"},{"name":"Object","_id":"cjuqawq94003ih51jtty19h48"},{"name":"Raspberrypi","_id":"cjuqawq94003jh51jc6kuengp"},{"name":"vim","_id":"cjuqawq95003mh51jctiq9t54"},{"name":"BBR","_id":"cjuqawq97003oh51j1u84kivj"},{"name":"Vim","_id":"cjuqawq9e003sh51jaxi3ok4h"}]}}